import{S as dt,i as pt,s as gt,B as zr,k as W,l as H,m as F,h as O,p as I,b as j,I as Ie,C as Gr,D as Kr,E as qr,f as ue,t as pe,a as ne,c as re,n as C,F as A,T as cr,L as Ze,H as yn,V as Xn,g as Sn,d as Cn,G as on,U as x1,X as gi,o as Nn,A as Qe,e as st,N as He,O as Ve,_ as m0,M as Tt,v as at,w as ft,x as ct,Q as It,y as ht,R as Pl,q as _e,r as me,u as Ne,a3 as $1,P as ro,a4 as Wr,a5 as Hr,a6 as Vr,a1 as io}from"../../../chunks/index-49fb8ea3.js";import{p as ep}from"../../../chunks/stores-390f46a7.js";import{p as v0,s as _i,l as fr,a as w0,e as pi,b as Ho,u as Vo,d as zo,m as Bl}from"../../../chunks/stores-16dbe7c5.js";import{p as di}from"../../../chunks/index-1b6a2f9b.js";import{w as tp}from"../../../chunks/singletons-cf7710cb.js";var Ur=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};class np{constructor(r){this.dict=r}set_lang(r,n,l){Object.keys(this.dict);let s=$(n).find("[data-translate]");for(let f=0;f<s.length;f++){let a=s[f],c=$(a).attr("data-translate").toLowerCase();if(a.attributes.placeholder&&this.dict[a.attributes.placeholder.value]&&this.dict[a.attributes.placeholder.value][r]){$(a).attr("placeholder",this.dict[a.attributes.placeholder.value][r]);continue}if(a.attributes.title&&this.dict[a.attributes.title.value]&&this.dict[a.attributes.title.value][r]&&$(a).attr("title",this.dict[a.attributes.title.value][r]),a.value&&this.dict[a.value]&&this.dict[a.value][r]&&(a.value=this.dict[a.value][r]),$(a).text()&&this.dict[$(a).text()]&&this.dict[$(a).text()][r]&&$(a).text(this.dict[$(a).text()][r]),this.dict[c]){let p=l||Object.keys(this.dict[c])[0],h=this.dict[c][r]?this.dict[c][r]:this.dict[c][p];if(!h){for(let g in this.dict[c])if(this.dict[c][g]){h=this.dict[c][g];break}}try{h=h.replace(/\\n/g,String.fromCharCode(13,10)),h=h.replace("%0D",String.fromCharCode(13,10))}catch{}a.isEntity&&a.setAttribute("text","value",h),a.tagName.toLowerCase()==="input"||a.tagName.toLowerCase()==="textarea"?$(a).val(h):a.tagName.toLowerCase()==="div"?$(a).text(h):$(a).html(h),$(a).attr("title")&&$(a).attr("title",h),$(a).attr("value")&&$(a).attr("value",h)}}}getValByKey(r,n,l){function s(f){for(let a in Object.keys(this.dict[f]))if(this.dict[f][Object.keys(this.dict[f])[a]])return this.dict[f][Object.keys(this.dict[f])[a]]}try{return(this.dict[n][r]?this.dict[n][r]:this.dict[n][l]?this.dict[n][l]:s(n)).replace(/%0D/g,String.fromCharCode(13,10)).replace(/%22/g,String.fromCharCode(22)).replace(/%10/g,String.fromCharCode(10))}catch{return""}}getDictValue(r,n){let l=$.grep(Object.values(this.dict),function(s){for(let f in Object.values(s))if(s[Object.keys(s)[f]].toLowerCase()===n.toLowerCase())return s[r]});return l.length>0&&l[0][r]?l[0][r]:n}getKeyByValue(r,n){let l=$.grep(Object.values(this.dict),function(s){for(let f in Object.values(s))if(s[Object.keys(s)[f]].toLowerCase()===n.toLowerCase())return Object.keys(s)[f]});return l.length>0?l[0]:null}Translate(r,n,l){}}var Dl={exports:{}},lo;function Go(){return lo||(lo=1,function(o){(function(r){var n=r.URL||r.webkitURL;function l(h){return n?n.createObjectURL(h):!1}function s(h){return n?n.revokeObjectURL(h):!1}function f(h,g){h&&h.slice(0,5)==="blob:"&&!(g&&g.noRevoke)&&s(h)}function a(h,g,w,_){if(!r.FileReader)return!1;var b=new FileReader;b.onload=function(){g.call(b,this.result)},w&&(b.onabort=b.onerror=function(){w.call(b,this.error)});var P=b[_||"readAsDataURL"];if(P)return P.call(b,h),b}function c(h,g){return Object.prototype.toString.call(g)==="[object "+h+"]"}function p(h,g,w){function _(b,P){var k=document.createElement("img"),U;function V(J,B){if(b===P){b&&b(J,B);return}else if(J instanceof Error){P(J);return}B=B||{},B.image=J,b(B)}function Y(J,B){B&&r.console&&console.log(B),J&&c("Blob",J)?(h=J,U=l(h)):(U=h,w&&w.crossOrigin&&(k.crossOrigin=w.crossOrigin)),k.src=U}if(k.onerror=function(J){f(U,w),P&&P.call(k,J)},k.onload=function(){f(U,w);var J={originalWidth:k.naturalWidth||k.width,originalHeight:k.naturalHeight||k.height};try{p.transform(k,w,V,h,J)}catch(B){P&&P(B)}},typeof h=="string")return p.requiresMetaData(w)?p.fetchBlob(h,Y,w):Y(),k;if(c("Blob",h)||c("File",h))return U=l(h),U?(k.src=U,k):a(h,function(J){k.src=J},P)}return r.Promise&&typeof g!="function"?(w=g,new Promise(_)):_(g,g)}p.requiresMetaData=function(h){return h&&h.meta},p.fetchBlob=function(h,g){g()},p.transform=function(h,g,w,_,b){w(h,b)},p.global=r,p.readFile=a,p.isInstanceOf=c,p.createObjectURL=l,p.revokeObjectURL=s,o.exports?o.exports=p:r.loadImage=p})(typeof window<"u"&&window||Ur)}(Dl)),Dl.exports}var rp=Go(),ip={exports:{}};(function(o){(function(r){o.exports?r(Go()):r(window.loadImage)})(function(r){var n=r.transform;r.createCanvas=function(l,s,f){if(f&&r.global.OffscreenCanvas)return new OffscreenCanvas(l,s);var a=document.createElement("canvas");return a.width=l,a.height=s,a},r.transform=function(l,s,f,a,c){n.call(r,r.scale(l,s,c),s,f,a,c)},r.transformCoordinates=function(){},r.getTransformedOptions=function(l,s){var f=s.aspectRatio,a,c,p,h;if(!f)return s;a={};for(c in s)Object.prototype.hasOwnProperty.call(s,c)&&(a[c]=s[c]);return a.crop=!0,p=l.naturalWidth||l.width,h=l.naturalHeight||l.height,p/h>f?(a.maxWidth=h*f,a.maxHeight=h):(a.maxWidth=p,a.maxHeight=p/f),a},r.drawImage=function(l,s,f,a,c,p,h,g,w){var _=s.getContext("2d");return w.imageSmoothingEnabled===!1?(_.msImageSmoothingEnabled=!1,_.imageSmoothingEnabled=!1):w.imageSmoothingQuality&&(_.imageSmoothingQuality=w.imageSmoothingQuality),_.drawImage(l,f,a,c,p,0,0,h,g),_},r.requiresCanvas=function(l){return l.canvas||l.crop||!!l.aspectRatio},r.scale=function(l,s,f){s=s||{},f=f||{};var a=l.getContext||r.requiresCanvas(s)&&!!r.global.HTMLCanvasElement,c=l.naturalWidth||l.width,p=l.naturalHeight||l.height,h=c,g=p,w,_,b,P,k,U,V,Y,J,B,q,R;function x(){var se=Math.max((b||h)/h,(P||g)/g);se>1&&(h*=se,g*=se)}function Z(){var se=Math.min((w||h)/h,(_||g)/g);se<1&&(h*=se,g*=se)}if(a&&(s=r.getTransformedOptions(l,s,f),V=s.left||0,Y=s.top||0,s.sourceWidth?(k=s.sourceWidth,s.right!==void 0&&s.left===void 0&&(V=c-k-s.right)):k=c-V-(s.right||0),s.sourceHeight?(U=s.sourceHeight,s.bottom!==void 0&&s.top===void 0&&(Y=p-U-s.bottom)):U=p-Y-(s.bottom||0),h=k,g=U),w=s.maxWidth,_=s.maxHeight,b=s.minWidth,P=s.minHeight,a&&w&&_&&s.crop?(h=w,g=_,q=k/U-w/_,q<0?(U=_*k/w,s.top===void 0&&s.bottom===void 0&&(Y=(p-U)/2)):q>0&&(k=w*U/_,s.left===void 0&&s.right===void 0&&(V=(c-k)/2))):((s.contain||s.cover)&&(b=w=w||b,P=_=_||P),s.cover?(Z(),x()):(x(),Z())),a){if(J=s.pixelRatio,J>1&&!(l.style.width&&Math.floor(parseFloat(l.style.width,10))===Math.floor(c/J))&&(h*=J,g*=J),r.orientationCropBug&&!l.getContext&&(V||Y||k!==c||U!==p)&&(q=l,l=r.createCanvas(c,p,!0),r.drawImage(q,l,0,0,c,p,c,p,s)),B=s.downsamplingRatio,B>0&&B<1&&h<k&&g<U)for(;k*B>h;)R=r.createCanvas(k*B,U*B,!0),r.drawImage(l,R,V,Y,k,U,R.width,R.height,s),V=0,Y=0,k=R.width,U=R.height,l=R;return R=r.createCanvas(h,g),r.transformCoordinates(R,s,f),J>1&&(R.style.width=R.width/J+"px"),r.drawImage(l,R,V,Y,k,U,h,g,s).setTransform(1,0,0,1,0,0),R}return l.width=h,l.height=g,l}})})(ip);function lp(o){let r,n,l,s;const f=o[4].default,a=zr(f,o,o[3],null);return{c(){r=W("div"),a&&a.c(),this.h()},l(c){r=H(c,"DIV",{style:!0});var p=F(r);a&&a.l(p),p.forEach(O),this.h()},h(){I(r,"position","relative"),I(r,"right","0px"),I(r,"top","70px")},m(c,p){j(c,r,p),a&&a.m(r,null),n=!0,l||(s=Ie(r,"click",o[0]),l=!0)},p(c,[p]){a&&a.p&&(!n||p&8)&&Gr(a,f,c,c[3],n?qr(f,c[3],p,null):Kr(c[3]),null)},i(c){n||(ue(a,c),n=!0)},o(c){pe(a,c),n=!1},d(c){c&&O(r),a&&a.d(c),l=!1,s()}}}function sp(o,r,n){let{$$slots:l={},$$scope:s}=r,{status:f}=r,{operator:a}=r;async function c(){document.querySelector("[src*='"+a+"']").contentWindow.document.querySelector(".callButton"),await new Promise(function(g,w){window.rtc.DC&&(window.rtc.DC.SendRedirect({operator:a},g),window.rtc.OnMessage({func:"mute"}))}),n(1,f="mute")}return o.$$set=p=>{"status"in p&&n(1,f=p.status),"operator"in p&&n(2,a=p.operator),"$$scope"in p&&n(3,s=p.$$scope)},[c,f,a,s,l]}class up extends dt{constructor(r){super(),pt(this,r,sp,lp,gt,{status:1,operator:2})}}function op(o){let r,n,l,s,f,a;const c=o[6].default,p=zr(c,o,o[5],null);return{c(){r=W("div"),p&&p.c(),n=ne(),l=W("input"),this.h()},l(h){r=H(h,"DIV",{style:!0});var g=F(r);p&&p.l(g),n=re(g),l=H(g,"INPUT",{class:!0,accept:!0,id:!0,name:!0,type:!0,style:!0}),g.forEach(O),this.h()},h(){C(l,"class","file-upload"),C(l,"accept","*,*"),C(l,"id","file"),C(l,"name","file"),C(l,"type","file"),I(l,"display","none"),I(r,"position","relative"),I(r,"right","0px"),I(r,"top","70px")},m(h,g){j(h,r,g),p&&p.m(r,null),A(r,n),A(r,l),o[7](l),s=!0,f||(a=[Ie(l,"change",o[3]),Ie(l,"change",o[8]),Ie(r,"click",o[2])],f=!0)},p(h,[g]){p&&p.p&&(!s||g&32)&&Gr(p,c,h,h[5],s?qr(c,h[5],g,null):Kr(h[5]),null)},i(h){s||(ue(p,h),s=!0)},o(h){pe(p,h),s=!1},d(h){h&&O(r),p&&p.d(h),o[7](null),f=!1,cr(a)}}}function ap(o,r,n){let{$$slots:l={},$$scope:s}=r,f,{operator:a}=r,c,p=globalThis;function h(b){let P=new PointerEvent("click",{bubbles:!1,cancelable:!0,view:p});document.getElementById("file").dispatchEvent(P)}async function g(b){try{let P=document.querySelector("[src*='"+a+"']"),U=await new Promise(function(V,Y){let J=new FileReader;P.contentWindow.user?(J.onload=B=>{P.contentWindow.user.DC.SendFile(B.target.result,file.name)},J.readAsArrayBuffer(b.target.files[0])):(J.onload=B=>{p.rtc.DC.SendFile(B.target.result,file.name)},J.readAsArrayBuffer(b.target.files[0]))})}catch{}}function w(b){Ze[b?"unshift":"push"](()=>{c=b,n(1,c)})}function _(){f=this.files,n(0,f)}return o.$$set=b=>{"operator"in b&&n(4,a=b.operator),"$$scope"in b&&n(5,s=b.$$scope)},[f,c,h,g,a,s,l,w,_]}class fp extends dt{constructor(r){super(),pt(this,r,ap,op,gt,{operator:4})}}var kl={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(o,r){(function(){var n,l="4.17.21",s=200,f="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",c="Invalid `variable` option passed into `_.template`",p="__lodash_hash_undefined__",h=500,g="__lodash_placeholder__",w=1,_=2,b=4,P=1,k=2,U=1,V=2,Y=4,J=8,B=16,q=32,R=64,x=128,Z=256,se=512,De=30,Se="...",Ae=800,te=16,we=1,X=2,Ce=3,Ee=1/0,Le=9007199254740991,Ke=17976931348623157e292,_t=0/0,Pe=4294967295,qe=Pe-1,mt=Pe>>>1,le=[["ary",x],["bind",U],["bindKey",V],["curry",J],["curryRight",B],["flip",se],["partial",q],["partialRight",R],["rearg",Z]],de="[object Arguments]",K="[object Array]",nt="[object AsyncFunction]",rt="[object Boolean]",St="[object Date]",On="[object DOMException]",Ue="[object Error]",Ut="[object Function]",En="[object GeneratorFunction]",it="[object Map]",vt="[object Number]",gn="[object Null]",lt="[object Object]",_n="[object Promise]",Wt="[object Proxy]",Pt="[object RegExp]",G="[object Set]",he="[object String]",Ct="[object Symbol]",Ot="[object Undefined]",je="[object WeakMap]",Bt="[object WeakSet]",xe="[object ArrayBuffer]",qt="[object DataView]",Ht="[object Float32Array]",An="[object Float64Array]",Un="[object Int8Array]",Qn="[object Int16Array]",an="[object Int32Array]",mn="[object Uint8Array]",Tn="[object Uint8ClampedArray]",Wn="[object Uint16Array]",fn="[object Uint32Array]",Jr=/\b__p \+= '';/g,jn=/\b(__p \+=) '' \+/g,hr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,dr=/&(?:amp|lt|gt|quot|#39);/g,Jt=/[&<>"']/g,xn=RegExp(dr.source),pr=RegExp(Jt.source),gr=/<%-([\s\S]+?)%>/g,Yr=/<%([\s\S]+?)%>/g,_r=/<%=([\s\S]+?)%>/g,mi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wt=/^\w*$/,bt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oe=/[\\^$.*+?()[\]{}|]/g,We=RegExp(oe.source),Rt=/^\s+/,vi=/\s/,wi=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,bi=/\{\n\/\* \[wrapped with (.+)\] \*/,Dt=/,? & /,mr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,yi=/[()=,{}\[\]\/\s]/,Si=/\\(\\)?/g,vr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Zr=/\w*$/,Ci=/^[-+]0x[0-9a-f]+$/i,wr=/^0b[01]+$/i,Oi=/^\[object .+?Constructor\]$/,Ei=/^0o[0-7]+$/i,br=/^(?:0|[1-9]\d*)$/,Ai=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$n=/($^)/,yr=/['\n\r\u2028\u2029\\]/g,er="\\ud800-\\udfff",Ti="\\u0300-\\u036f",Sr="\\ufe20-\\ufe2f",Ii="\\u20d0-\\u20ff",Xr=Ti+Sr+Ii,Cr="\\u2700-\\u27bf",Qr="a-z\\xdf-\\xf6\\xf8-\\xff",jr="\\xac\\xb1\\xd7\\xf7",Ri="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Zo="\\u2000-\\u206f",Xo=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ml="A-Z\\xc0-\\xd6\\xd8-\\xde",Fl="\\ufe0e\\ufe0f",Nl=jr+Ri+Zo+Xo,b0="['\u2019]",Qo="["+er+"]",Ul="["+Nl+"]",Di="["+Xr+"]",Wl="\\d+",jo="["+Cr+"]",Hl="["+Qr+"]",Vl="[^"+er+Nl+Wl+Cr+Qr+Ml+"]",y0="\\ud83c[\\udffb-\\udfff]",xo="(?:"+Di+"|"+y0+")",zl="[^"+er+"]",S0="(?:\\ud83c[\\udde6-\\uddff]){2}",C0="[\\ud800-\\udbff][\\udc00-\\udfff]",Or="["+Ml+"]",Gl="\\u200d",Kl="(?:"+Hl+"|"+Vl+")",$o="(?:"+Or+"|"+Vl+")",ql="(?:"+b0+"(?:d|ll|m|re|s|t|ve))?",Jl="(?:"+b0+"(?:D|LL|M|RE|S|T|VE))?",Yl=xo+"?",Zl="["+Fl+"]?",e9="(?:"+Gl+"(?:"+[zl,S0,C0].join("|")+")"+Zl+Yl+")*",t9="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",n9="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Xl=Zl+Yl+e9,r9="(?:"+[jo,S0,C0].join("|")+")"+Xl,i9="(?:"+[zl+Di+"?",Di,S0,C0,Qo].join("|")+")",l9=RegExp(b0,"g"),s9=RegExp(Di,"g"),O0=RegExp(y0+"(?="+y0+")|"+i9+Xl,"g"),u9=RegExp([Or+"?"+Hl+"+"+ql+"(?="+[Ul,Or,"$"].join("|")+")",$o+"+"+Jl+"(?="+[Ul,Or+Kl,"$"].join("|")+")",Or+"?"+Kl+"+"+ql,Or+"+"+Jl,n9,t9,Wl,r9].join("|"),"g"),o9=RegExp("["+Gl+er+Xr+Fl+"]"),a9=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,f9=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],c9=-1,Je={};Je[Ht]=Je[An]=Je[Un]=Je[Qn]=Je[an]=Je[mn]=Je[Tn]=Je[Wn]=Je[fn]=!0,Je[de]=Je[K]=Je[xe]=Je[rt]=Je[qt]=Je[St]=Je[Ue]=Je[Ut]=Je[it]=Je[vt]=Je[lt]=Je[Pt]=Je[G]=Je[he]=Je[je]=!1;var Ge={};Ge[de]=Ge[K]=Ge[xe]=Ge[qt]=Ge[rt]=Ge[St]=Ge[Ht]=Ge[An]=Ge[Un]=Ge[Qn]=Ge[an]=Ge[it]=Ge[vt]=Ge[lt]=Ge[Pt]=Ge[G]=Ge[he]=Ge[Ct]=Ge[mn]=Ge[Tn]=Ge[Wn]=Ge[fn]=!0,Ge[Ue]=Ge[Ut]=Ge[je]=!1;var h9={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},d9={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},p9={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},g9={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_9=parseFloat,m9=parseInt,Ql=typeof Ur=="object"&&Ur&&Ur.Object===Object&&Ur,v9=typeof self=="object"&&self&&self.Object===Object&&self,Et=Ql||v9||Function("return this")(),E0=r&&!r.nodeType&&r,tr=E0&&!0&&o&&!o.nodeType&&o,jl=tr&&tr.exports===E0,A0=jl&&Ql.process,$t=function(){try{var E=tr&&tr.require&&tr.require("util").types;return E||A0&&A0.binding&&A0.binding("util")}catch{}}(),xl=$t&&$t.isArrayBuffer,$l=$t&&$t.isDate,es=$t&&$t.isMap,ts=$t&&$t.isRegExp,ns=$t&&$t.isSet,rs=$t&&$t.isTypedArray;function Yt(E,L,D){switch(D.length){case 0:return E.call(L);case 1:return E.call(L,D[0]);case 2:return E.call(L,D[0],D[1]);case 3:return E.call(L,D[0],D[1],D[2])}return E.apply(L,D)}function w9(E,L,D,ee){for(var ge=-1,Be=E==null?0:E.length;++ge<Be;){var ut=E[ge];L(ee,ut,D(ut),E)}return ee}function en(E,L){for(var D=-1,ee=E==null?0:E.length;++D<ee&&L(E[D],D,E)!==!1;);return E}function b9(E,L){for(var D=E==null?0:E.length;D--&&L(E[D],D,E)!==!1;);return E}function is(E,L){for(var D=-1,ee=E==null?0:E.length;++D<ee;)if(!L(E[D],D,E))return!1;return!0}function Hn(E,L){for(var D=-1,ee=E==null?0:E.length,ge=0,Be=[];++D<ee;){var ut=E[D];L(ut,D,E)&&(Be[ge++]=ut)}return Be}function ki(E,L){var D=E==null?0:E.length;return!!D&&Er(E,L,0)>-1}function T0(E,L,D){for(var ee=-1,ge=E==null?0:E.length;++ee<ge;)if(D(L,E[ee]))return!0;return!1}function Ye(E,L){for(var D=-1,ee=E==null?0:E.length,ge=Array(ee);++D<ee;)ge[D]=L(E[D],D,E);return ge}function Vn(E,L){for(var D=-1,ee=L.length,ge=E.length;++D<ee;)E[ge+D]=L[D];return E}function I0(E,L,D,ee){var ge=-1,Be=E==null?0:E.length;for(ee&&Be&&(D=E[++ge]);++ge<Be;)D=L(D,E[ge],ge,E);return D}function y9(E,L,D,ee){var ge=E==null?0:E.length;for(ee&&ge&&(D=E[--ge]);ge--;)D=L(D,E[ge],ge,E);return D}function R0(E,L){for(var D=-1,ee=E==null?0:E.length;++D<ee;)if(L(E[D],D,E))return!0;return!1}var S9=D0("length");function C9(E){return E.split("")}function O9(E){return E.match(mr)||[]}function ls(E,L,D){var ee;return D(E,function(ge,Be,ut){if(L(ge,Be,ut))return ee=Be,!1}),ee}function Li(E,L,D,ee){for(var ge=E.length,Be=D+(ee?1:-1);ee?Be--:++Be<ge;)if(L(E[Be],Be,E))return Be;return-1}function Er(E,L,D){return L===L?F9(E,L,D):Li(E,ss,D)}function E9(E,L,D,ee){for(var ge=D-1,Be=E.length;++ge<Be;)if(ee(E[ge],L))return ge;return-1}function ss(E){return E!==E}function us(E,L){var D=E==null?0:E.length;return D?L0(E,L)/D:_t}function D0(E){return function(L){return L==null?n:L[E]}}function k0(E){return function(L){return E==null?n:E[L]}}function os(E,L,D,ee,ge){return ge(E,function(Be,ut,ze){D=ee?(ee=!1,Be):L(D,Be,ut,ze)}),D}function A9(E,L){var D=E.length;for(E.sort(L);D--;)E[D]=E[D].value;return E}function L0(E,L){for(var D,ee=-1,ge=E.length;++ee<ge;){var Be=L(E[ee]);Be!==n&&(D=D===n?Be:D+Be)}return D}function P0(E,L){for(var D=-1,ee=Array(E);++D<E;)ee[D]=L(D);return ee}function T9(E,L){return Ye(L,function(D){return[D,E[D]]})}function as(E){return E&&E.slice(0,ds(E)+1).replace(Rt,"")}function Zt(E){return function(L){return E(L)}}function B0(E,L){return Ye(L,function(D){return E[D]})}function xr(E,L){return E.has(L)}function fs(E,L){for(var D=-1,ee=E.length;++D<ee&&Er(L,E[D],0)>-1;);return D}function cs(E,L){for(var D=E.length;D--&&Er(L,E[D],0)>-1;);return D}function I9(E,L){for(var D=E.length,ee=0;D--;)E[D]===L&&++ee;return ee}var R9=k0(h9),D9=k0(d9);function k9(E){return"\\"+g9[E]}function L9(E,L){return E==null?n:E[L]}function Ar(E){return o9.test(E)}function P9(E){return a9.test(E)}function B9(E){for(var L,D=[];!(L=E.next()).done;)D.push(L.value);return D}function M0(E){var L=-1,D=Array(E.size);return E.forEach(function(ee,ge){D[++L]=[ge,ee]}),D}function hs(E,L){return function(D){return E(L(D))}}function zn(E,L){for(var D=-1,ee=E.length,ge=0,Be=[];++D<ee;){var ut=E[D];(ut===L||ut===g)&&(E[D]=g,Be[ge++]=D)}return Be}function Pi(E){var L=-1,D=Array(E.size);return E.forEach(function(ee){D[++L]=ee}),D}function M9(E){var L=-1,D=Array(E.size);return E.forEach(function(ee){D[++L]=[ee,ee]}),D}function F9(E,L,D){for(var ee=D-1,ge=E.length;++ee<ge;)if(E[ee]===L)return ee;return-1}function N9(E,L,D){for(var ee=D+1;ee--;)if(E[ee]===L)return ee;return ee}function Tr(E){return Ar(E)?W9(E):S9(E)}function cn(E){return Ar(E)?H9(E):C9(E)}function ds(E){for(var L=E.length;L--&&vi.test(E.charAt(L)););return L}var U9=k0(p9);function W9(E){for(var L=O0.lastIndex=0;O0.test(E);)++L;return L}function H9(E){return E.match(O0)||[]}function V9(E){return E.match(u9)||[]}var z9=function E(L){L=L==null?Et:Ir.defaults(Et.Object(),L,Ir.pick(Et,f9));var D=L.Array,ee=L.Date,ge=L.Error,Be=L.Function,ut=L.Math,ze=L.Object,F0=L.RegExp,G9=L.String,tn=L.TypeError,Bi=D.prototype,K9=Be.prototype,Rr=ze.prototype,Mi=L["__core-js_shared__"],Fi=K9.toString,Fe=Rr.hasOwnProperty,q9=0,ps=function(){var e=/[^.]+$/.exec(Mi&&Mi.keys&&Mi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ni=Rr.toString,J9=Fi.call(ze),Y9=Et._,Z9=F0("^"+Fi.call(Fe).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ui=jl?L.Buffer:n,Gn=L.Symbol,Wi=L.Uint8Array,gs=Ui?Ui.allocUnsafe:n,Hi=hs(ze.getPrototypeOf,ze),_s=ze.create,ms=Rr.propertyIsEnumerable,Vi=Bi.splice,vs=Gn?Gn.isConcatSpreadable:n,$r=Gn?Gn.iterator:n,nr=Gn?Gn.toStringTag:n,zi=function(){try{var e=ur(ze,"defineProperty");return e({},"",{}),e}catch{}}(),X9=L.clearTimeout!==Et.clearTimeout&&L.clearTimeout,Q9=ee&&ee.now!==Et.Date.now&&ee.now,j9=L.setTimeout!==Et.setTimeout&&L.setTimeout,Gi=ut.ceil,Ki=ut.floor,N0=ze.getOwnPropertySymbols,x9=Ui?Ui.isBuffer:n,ws=L.isFinite,$9=Bi.join,ea=hs(ze.keys,ze),ot=ut.max,kt=ut.min,ta=ee.now,na=L.parseInt,bs=ut.random,ra=Bi.reverse,U0=ur(L,"DataView"),ei=ur(L,"Map"),W0=ur(L,"Promise"),Dr=ur(L,"Set"),ti=ur(L,"WeakMap"),ni=ur(ze,"create"),qi=ti&&new ti,kr={},ia=or(U0),la=or(ei),sa=or(W0),ua=or(Dr),oa=or(ti),Ji=Gn?Gn.prototype:n,ri=Ji?Ji.valueOf:n,ys=Ji?Ji.toString:n;function m(e){if($e(e)&&!ve(e)&&!(e instanceof Re)){if(e instanceof nn)return e;if(Fe.call(e,"__wrapped__"))return Su(e)}return new nn(e)}var Lr=function(){function e(){}return function(t){if(!Xe(t))return{};if(_s)return _s(t);e.prototype=t;var i=new e;return e.prototype=n,i}}();function Yi(){}function nn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}m.templateSettings={escape:gr,evaluate:Yr,interpolate:_r,variable:"",imports:{_:m}},m.prototype=Yi.prototype,m.prototype.constructor=m,nn.prototype=Lr(Yi.prototype),nn.prototype.constructor=nn;function Re(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Pe,this.__views__=[]}function aa(){var e=new Re(this.__wrapped__);return e.__actions__=Vt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Vt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Vt(this.__views__),e}function fa(){if(this.__filtered__){var e=new Re(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function ca(){var e=this.__wrapped__.value(),t=this.__dir__,i=ve(e),u=t<0,d=i?e.length:0,v=Of(0,d,this.__views__),y=v.start,S=v.end,T=S-y,M=u?S:y-1,N=this.__iteratees__,z=N.length,Q=0,ie=kt(T,this.__takeCount__);if(!i||!u&&d==T&&ie==T)return qs(e,this.__actions__);var fe=[];e:for(;T--&&Q<ie;){M+=t;for(var ye=-1,ce=e[M];++ye<z;){var Te=N[ye],ke=Te.iteratee,jt=Te.type,Nt=ke(ce);if(jt==X)ce=Nt;else if(!Nt){if(jt==we)continue e;break e}}fe[Q++]=ce}return fe}Re.prototype=Lr(Yi.prototype),Re.prototype.constructor=Re;function rr(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var u=e[t];this.set(u[0],u[1])}}function ha(){this.__data__=ni?ni(null):{},this.size=0}function da(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function pa(e){var t=this.__data__;if(ni){var i=t[e];return i===p?n:i}return Fe.call(t,e)?t[e]:n}function ga(e){var t=this.__data__;return ni?t[e]!==n:Fe.call(t,e)}function _a(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=ni&&t===n?p:t,this}rr.prototype.clear=ha,rr.prototype.delete=da,rr.prototype.get=pa,rr.prototype.has=ga,rr.prototype.set=_a;function In(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var u=e[t];this.set(u[0],u[1])}}function ma(){this.__data__=[],this.size=0}function va(e){var t=this.__data__,i=Zi(t,e);if(i<0)return!1;var u=t.length-1;return i==u?t.pop():Vi.call(t,i,1),--this.size,!0}function wa(e){var t=this.__data__,i=Zi(t,e);return i<0?n:t[i][1]}function ba(e){return Zi(this.__data__,e)>-1}function ya(e,t){var i=this.__data__,u=Zi(i,e);return u<0?(++this.size,i.push([e,t])):i[u][1]=t,this}In.prototype.clear=ma,In.prototype.delete=va,In.prototype.get=wa,In.prototype.has=ba,In.prototype.set=ya;function Rn(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var u=e[t];this.set(u[0],u[1])}}function Sa(){this.size=0,this.__data__={hash:new rr,map:new(ei||In),string:new rr}}function Ca(e){var t=s0(this,e).delete(e);return this.size-=t?1:0,t}function Oa(e){return s0(this,e).get(e)}function Ea(e){return s0(this,e).has(e)}function Aa(e,t){var i=s0(this,e),u=i.size;return i.set(e,t),this.size+=i.size==u?0:1,this}Rn.prototype.clear=Sa,Rn.prototype.delete=Ca,Rn.prototype.get=Oa,Rn.prototype.has=Ea,Rn.prototype.set=Aa;function ir(e){var t=-1,i=e==null?0:e.length;for(this.__data__=new Rn;++t<i;)this.add(e[t])}function Ta(e){return this.__data__.set(e,p),this}function Ia(e){return this.__data__.has(e)}ir.prototype.add=ir.prototype.push=Ta,ir.prototype.has=Ia;function hn(e){var t=this.__data__=new In(e);this.size=t.size}function Ra(){this.__data__=new In,this.size=0}function Da(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}function ka(e){return this.__data__.get(e)}function La(e){return this.__data__.has(e)}function Pa(e,t){var i=this.__data__;if(i instanceof In){var u=i.__data__;if(!ei||u.length<s-1)return u.push([e,t]),this.size=++i.size,this;i=this.__data__=new Rn(u)}return i.set(e,t),this.size=i.size,this}hn.prototype.clear=Ra,hn.prototype.delete=Da,hn.prototype.get=ka,hn.prototype.has=La,hn.prototype.set=Pa;function Ss(e,t){var i=ve(e),u=!i&&ar(e),d=!i&&!u&&Zn(e),v=!i&&!u&&!d&&Fr(e),y=i||u||d||v,S=y?P0(e.length,G9):[],T=S.length;for(var M in e)(t||Fe.call(e,M))&&!(y&&(M=="length"||d&&(M=="offset"||M=="parent")||v&&(M=="buffer"||M=="byteLength"||M=="byteOffset")||Pn(M,T)))&&S.push(M);return S}function Cs(e){var t=e.length;return t?e[Q0(0,t-1)]:n}function Ba(e,t){return u0(Vt(e),lr(t,0,e.length))}function Ma(e){return u0(Vt(e))}function H0(e,t,i){(i!==n&&!dn(e[t],i)||i===n&&!(t in e))&&Dn(e,t,i)}function ii(e,t,i){var u=e[t];(!(Fe.call(e,t)&&dn(u,i))||i===n&&!(t in e))&&Dn(e,t,i)}function Zi(e,t){for(var i=e.length;i--;)if(dn(e[i][0],t))return i;return-1}function Fa(e,t,i,u){return Kn(e,function(d,v,y){t(u,d,i(d),y)}),u}function Os(e,t){return e&&wn(t,yt(t),e)}function Na(e,t){return e&&wn(t,Gt(t),e)}function Dn(e,t,i){t=="__proto__"&&zi?zi(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function V0(e,t){for(var i=-1,u=t.length,d=D(u),v=e==null;++i<u;)d[i]=v?n:yl(e,t[i]);return d}function lr(e,t,i){return e===e&&(i!==n&&(e=e<=i?e:i),t!==n&&(e=e>=t?e:t)),e}function rn(e,t,i,u,d,v){var y,S=t&w,T=t&_,M=t&b;if(i&&(y=d?i(e,u,d,v):i(e)),y!==n)return y;if(!Xe(e))return e;var N=ve(e);if(N){if(y=Af(e),!S)return Vt(e,y)}else{var z=Lt(e),Q=z==Ut||z==En;if(Zn(e))return Zs(e,S);if(z==lt||z==de||Q&&!d){if(y=T||Q?{}:du(e),!S)return T?gf(e,Na(y,e)):pf(e,Os(y,e))}else{if(!Ge[z])return d?e:{};y=Tf(e,z,S)}}v||(v=new hn);var ie=v.get(e);if(ie)return ie;v.set(e,y),zu(e)?e.forEach(function(ce){y.add(rn(ce,t,i,ce,e,v))}):Hu(e)&&e.forEach(function(ce,Te){y.set(Te,rn(ce,t,i,Te,e,v))});var fe=M?T?ul:sl:T?Gt:yt,ye=N?n:fe(e);return en(ye||e,function(ce,Te){ye&&(Te=ce,ce=e[Te]),ii(y,Te,rn(ce,t,i,Te,e,v))}),y}function Ua(e){var t=yt(e);return function(i){return Es(i,e,t)}}function Es(e,t,i){var u=i.length;if(e==null)return!u;for(e=ze(e);u--;){var d=i[u],v=t[d],y=e[d];if(y===n&&!(d in e)||!v(y))return!1}return!0}function As(e,t,i){if(typeof e!="function")throw new tn(a);return ci(function(){e.apply(n,i)},t)}function li(e,t,i,u){var d=-1,v=ki,y=!0,S=e.length,T=[],M=t.length;if(!S)return T;i&&(t=Ye(t,Zt(i))),u?(v=T0,y=!1):t.length>=s&&(v=xr,y=!1,t=new ir(t));e:for(;++d<S;){var N=e[d],z=i==null?N:i(N);if(N=u||N!==0?N:0,y&&z===z){for(var Q=M;Q--;)if(t[Q]===z)continue e;T.push(N)}else v(t,z,u)||T.push(N)}return T}var Kn=$s(vn),Ts=$s(G0,!0);function Wa(e,t){var i=!0;return Kn(e,function(u,d,v){return i=!!t(u,d,v),i}),i}function Xi(e,t,i){for(var u=-1,d=e.length;++u<d;){var v=e[u],y=t(v);if(y!=null&&(S===n?y===y&&!Qt(y):i(y,S)))var S=y,T=v}return T}function Ha(e,t,i,u){var d=e.length;for(i=be(i),i<0&&(i=-i>d?0:d+i),u=u===n||u>d?d:be(u),u<0&&(u+=d),u=i>u?0:Ku(u);i<u;)e[i++]=t;return e}function Is(e,t){var i=[];return Kn(e,function(u,d,v){t(u,d,v)&&i.push(u)}),i}function At(e,t,i,u,d){var v=-1,y=e.length;for(i||(i=Rf),d||(d=[]);++v<y;){var S=e[v];t>0&&i(S)?t>1?At(S,t-1,i,u,d):Vn(d,S):u||(d[d.length]=S)}return d}var z0=eu(),Rs=eu(!0);function vn(e,t){return e&&z0(e,t,yt)}function G0(e,t){return e&&Rs(e,t,yt)}function Qi(e,t){return Hn(t,function(i){return Bn(e[i])})}function sr(e,t){t=Jn(t,e);for(var i=0,u=t.length;e!=null&&i<u;)e=e[bn(t[i++])];return i&&i==u?e:n}function Ds(e,t,i){var u=t(e);return ve(e)?u:Vn(u,i(e))}function Mt(e){return e==null?e===n?Ot:gn:nr&&nr in ze(e)?Cf(e):Ff(e)}function K0(e,t){return e>t}function Va(e,t){return e!=null&&Fe.call(e,t)}function za(e,t){return e!=null&&t in ze(e)}function Ga(e,t,i){return e>=kt(t,i)&&e<ot(t,i)}function q0(e,t,i){for(var u=i?T0:ki,d=e[0].length,v=e.length,y=v,S=D(v),T=1/0,M=[];y--;){var N=e[y];y&&t&&(N=Ye(N,Zt(t))),T=kt(N.length,T),S[y]=!i&&(t||d>=120&&N.length>=120)?new ir(y&&N):n}N=e[0];var z=-1,Q=S[0];e:for(;++z<d&&M.length<T;){var ie=N[z],fe=t?t(ie):ie;if(ie=i||ie!==0?ie:0,!(Q?xr(Q,fe):u(M,fe,i))){for(y=v;--y;){var ye=S[y];if(!(ye?xr(ye,fe):u(e[y],fe,i)))continue e}Q&&Q.push(fe),M.push(ie)}}return M}function Ka(e,t,i,u){return vn(e,function(d,v,y){t(u,i(d),v,y)}),u}function si(e,t,i){t=Jn(t,e),e=mu(e,t);var u=e==null?e:e[bn(sn(t))];return u==null?n:Yt(u,e,i)}function ks(e){return $e(e)&&Mt(e)==de}function qa(e){return $e(e)&&Mt(e)==xe}function Ja(e){return $e(e)&&Mt(e)==St}function ui(e,t,i,u,d){return e===t?!0:e==null||t==null||!$e(e)&&!$e(t)?e!==e&&t!==t:Ya(e,t,i,u,ui,d)}function Ya(e,t,i,u,d,v){var y=ve(e),S=ve(t),T=y?K:Lt(e),M=S?K:Lt(t);T=T==de?lt:T,M=M==de?lt:M;var N=T==lt,z=M==lt,Q=T==M;if(Q&&Zn(e)){if(!Zn(t))return!1;y=!0,N=!1}if(Q&&!N)return v||(v=new hn),y||Fr(e)?fu(e,t,i,u,d,v):yf(e,t,T,i,u,d,v);if(!(i&P)){var ie=N&&Fe.call(e,"__wrapped__"),fe=z&&Fe.call(t,"__wrapped__");if(ie||fe){var ye=ie?e.value():e,ce=fe?t.value():t;return v||(v=new hn),d(ye,ce,i,u,v)}}return Q?(v||(v=new hn),Sf(e,t,i,u,d,v)):!1}function Za(e){return $e(e)&&Lt(e)==it}function J0(e,t,i,u){var d=i.length,v=d,y=!u;if(e==null)return!v;for(e=ze(e);d--;){var S=i[d];if(y&&S[2]?S[1]!==e[S[0]]:!(S[0]in e))return!1}for(;++d<v;){S=i[d];var T=S[0],M=e[T],N=S[1];if(y&&S[2]){if(M===n&&!(T in e))return!1}else{var z=new hn;if(u)var Q=u(M,N,T,e,t,z);if(!(Q===n?ui(N,M,P|k,u,z):Q))return!1}}return!0}function Ls(e){if(!Xe(e)||kf(e))return!1;var t=Bn(e)?Z9:Oi;return t.test(or(e))}function Xa(e){return $e(e)&&Mt(e)==Pt}function Qa(e){return $e(e)&&Lt(e)==G}function ja(e){return $e(e)&&d0(e.length)&&!!Je[Mt(e)]}function Ps(e){return typeof e=="function"?e:e==null?Kt:typeof e=="object"?ve(e)?Fs(e[0],e[1]):Ms(e):to(e)}function Y0(e){if(!fi(e))return ea(e);var t=[];for(var i in ze(e))Fe.call(e,i)&&i!="constructor"&&t.push(i);return t}function xa(e){if(!Xe(e))return Mf(e);var t=fi(e),i=[];for(var u in e)u=="constructor"&&(t||!Fe.call(e,u))||i.push(u);return i}function Z0(e,t){return e<t}function Bs(e,t){var i=-1,u=zt(e)?D(e.length):[];return Kn(e,function(d,v,y){u[++i]=t(d,v,y)}),u}function Ms(e){var t=al(e);return t.length==1&&t[0][2]?gu(t[0][0],t[0][1]):function(i){return i===e||J0(i,e,t)}}function Fs(e,t){return cl(e)&&pu(t)?gu(bn(e),t):function(i){var u=yl(i,e);return u===n&&u===t?Sl(i,e):ui(t,u,P|k)}}function ji(e,t,i,u,d){e!==t&&z0(t,function(v,y){if(d||(d=new hn),Xe(v))$a(e,t,y,i,ji,u,d);else{var S=u?u(dl(e,y),v,y+"",e,t,d):n;S===n&&(S=v),H0(e,y,S)}},Gt)}function $a(e,t,i,u,d,v,y){var S=dl(e,i),T=dl(t,i),M=y.get(T);if(M){H0(e,i,M);return}var N=v?v(S,T,i+"",e,t,y):n,z=N===n;if(z){var Q=ve(T),ie=!Q&&Zn(T),fe=!Q&&!ie&&Fr(T);N=T,Q||ie||fe?ve(S)?N=S:et(S)?N=Vt(S):ie?(z=!1,N=Zs(T,!0)):fe?(z=!1,N=Xs(T,!0)):N=[]:hi(T)||ar(T)?(N=S,ar(S)?N=qu(S):(!Xe(S)||Bn(S))&&(N=du(T))):z=!1}z&&(y.set(T,N),d(N,T,u,v,y),y.delete(T)),H0(e,i,N)}function Ns(e,t){var i=e.length;if(!!i)return t+=t<0?i:0,Pn(t,i)?e[t]:n}function Us(e,t,i){t.length?t=Ye(t,function(v){return ve(v)?function(y){return sr(y,v.length===1?v[0]:v)}:v}):t=[Kt];var u=-1;t=Ye(t,Zt(ae()));var d=Bs(e,function(v,y,S){var T=Ye(t,function(M){return M(v)});return{criteria:T,index:++u,value:v}});return A9(d,function(v,y){return df(v,y,i)})}function ef(e,t){return Ws(e,t,function(i,u){return Sl(e,u)})}function Ws(e,t,i){for(var u=-1,d=t.length,v={};++u<d;){var y=t[u],S=sr(e,y);i(S,y)&&oi(v,Jn(y,e),S)}return v}function tf(e){return function(t){return sr(t,e)}}function X0(e,t,i,u){var d=u?E9:Er,v=-1,y=t.length,S=e;for(e===t&&(t=Vt(t)),i&&(S=Ye(e,Zt(i)));++v<y;)for(var T=0,M=t[v],N=i?i(M):M;(T=d(S,N,T,u))>-1;)S!==e&&Vi.call(S,T,1),Vi.call(e,T,1);return e}function Hs(e,t){for(var i=e?t.length:0,u=i-1;i--;){var d=t[i];if(i==u||d!==v){var v=d;Pn(d)?Vi.call(e,d,1):$0(e,d)}}return e}function Q0(e,t){return e+Ki(bs()*(t-e+1))}function nf(e,t,i,u){for(var d=-1,v=ot(Gi((t-e)/(i||1)),0),y=D(v);v--;)y[u?v:++d]=e,e+=i;return y}function j0(e,t){var i="";if(!e||t<1||t>Le)return i;do t%2&&(i+=e),t=Ki(t/2),t&&(e+=e);while(t);return i}function Oe(e,t){return pl(_u(e,t,Kt),e+"")}function rf(e){return Cs(Nr(e))}function lf(e,t){var i=Nr(e);return u0(i,lr(t,0,i.length))}function oi(e,t,i,u){if(!Xe(e))return e;t=Jn(t,e);for(var d=-1,v=t.length,y=v-1,S=e;S!=null&&++d<v;){var T=bn(t[d]),M=i;if(T==="__proto__"||T==="constructor"||T==="prototype")return e;if(d!=y){var N=S[T];M=u?u(N,T,S):n,M===n&&(M=Xe(N)?N:Pn(t[d+1])?[]:{})}ii(S,T,M),S=S[T]}return e}var Vs=qi?function(e,t){return qi.set(e,t),e}:Kt,sf=zi?function(e,t){return zi(e,"toString",{configurable:!0,enumerable:!1,value:Ol(t),writable:!0})}:Kt;function uf(e){return u0(Nr(e))}function ln(e,t,i){var u=-1,d=e.length;t<0&&(t=-t>d?0:d+t),i=i>d?d:i,i<0&&(i+=d),d=t>i?0:i-t>>>0,t>>>=0;for(var v=D(d);++u<d;)v[u]=e[u+t];return v}function of(e,t){var i;return Kn(e,function(u,d,v){return i=t(u,d,v),!i}),!!i}function xi(e,t,i){var u=0,d=e==null?u:e.length;if(typeof t=="number"&&t===t&&d<=mt){for(;u<d;){var v=u+d>>>1,y=e[v];y!==null&&!Qt(y)&&(i?y<=t:y<t)?u=v+1:d=v}return d}return x0(e,t,Kt,i)}function x0(e,t,i,u){var d=0,v=e==null?0:e.length;if(v===0)return 0;t=i(t);for(var y=t!==t,S=t===null,T=Qt(t),M=t===n;d<v;){var N=Ki((d+v)/2),z=i(e[N]),Q=z!==n,ie=z===null,fe=z===z,ye=Qt(z);if(y)var ce=u||fe;else M?ce=fe&&(u||Q):S?ce=fe&&Q&&(u||!ie):T?ce=fe&&Q&&!ie&&(u||!ye):ie||ye?ce=!1:ce=u?z<=t:z<t;ce?d=N+1:v=N}return kt(v,qe)}function zs(e,t){for(var i=-1,u=e.length,d=0,v=[];++i<u;){var y=e[i],S=t?t(y):y;if(!i||!dn(S,T)){var T=S;v[d++]=y===0?0:y}}return v}function Gs(e){return typeof e=="number"?e:Qt(e)?_t:+e}function Xt(e){if(typeof e=="string")return e;if(ve(e))return Ye(e,Xt)+"";if(Qt(e))return ys?ys.call(e):"";var t=e+"";return t=="0"&&1/e==-Ee?"-0":t}function qn(e,t,i){var u=-1,d=ki,v=e.length,y=!0,S=[],T=S;if(i)y=!1,d=T0;else if(v>=s){var M=t?null:wf(e);if(M)return Pi(M);y=!1,d=xr,T=new ir}else T=t?[]:S;e:for(;++u<v;){var N=e[u],z=t?t(N):N;if(N=i||N!==0?N:0,y&&z===z){for(var Q=T.length;Q--;)if(T[Q]===z)continue e;t&&T.push(z),S.push(N)}else d(T,z,i)||(T!==S&&T.push(z),S.push(N))}return S}function $0(e,t){return t=Jn(t,e),e=mu(e,t),e==null||delete e[bn(sn(t))]}function Ks(e,t,i,u){return oi(e,t,i(sr(e,t)),u)}function $i(e,t,i,u){for(var d=e.length,v=u?d:-1;(u?v--:++v<d)&&t(e[v],v,e););return i?ln(e,u?0:v,u?v+1:d):ln(e,u?v+1:0,u?d:v)}function qs(e,t){var i=e;return i instanceof Re&&(i=i.value()),I0(t,function(u,d){return d.func.apply(d.thisArg,Vn([u],d.args))},i)}function el(e,t,i){var u=e.length;if(u<2)return u?qn(e[0]):[];for(var d=-1,v=D(u);++d<u;)for(var y=e[d],S=-1;++S<u;)S!=d&&(v[d]=li(v[d]||y,e[S],t,i));return qn(At(v,1),t,i)}function Js(e,t,i){for(var u=-1,d=e.length,v=t.length,y={};++u<d;){var S=u<v?t[u]:n;i(y,e[u],S)}return y}function tl(e){return et(e)?e:[]}function nl(e){return typeof e=="function"?e:Kt}function Jn(e,t){return ve(e)?e:cl(e,t)?[e]:yu(Me(e))}var af=Oe;function Yn(e,t,i){var u=e.length;return i=i===n?u:i,!t&&i>=u?e:ln(e,t,i)}var Ys=X9||function(e){return Et.clearTimeout(e)};function Zs(e,t){if(t)return e.slice();var i=e.length,u=gs?gs(i):new e.constructor(i);return e.copy(u),u}function rl(e){var t=new e.constructor(e.byteLength);return new Wi(t).set(new Wi(e)),t}function ff(e,t){var i=t?rl(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}function cf(e){var t=new e.constructor(e.source,Zr.exec(e));return t.lastIndex=e.lastIndex,t}function hf(e){return ri?ze(ri.call(e)):{}}function Xs(e,t){var i=t?rl(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}function Qs(e,t){if(e!==t){var i=e!==n,u=e===null,d=e===e,v=Qt(e),y=t!==n,S=t===null,T=t===t,M=Qt(t);if(!S&&!M&&!v&&e>t||v&&y&&T&&!S&&!M||u&&y&&T||!i&&T||!d)return 1;if(!u&&!v&&!M&&e<t||M&&i&&d&&!u&&!v||S&&i&&d||!y&&d||!T)return-1}return 0}function df(e,t,i){for(var u=-1,d=e.criteria,v=t.criteria,y=d.length,S=i.length;++u<y;){var T=Qs(d[u],v[u]);if(T){if(u>=S)return T;var M=i[u];return T*(M=="desc"?-1:1)}}return e.index-t.index}function js(e,t,i,u){for(var d=-1,v=e.length,y=i.length,S=-1,T=t.length,M=ot(v-y,0),N=D(T+M),z=!u;++S<T;)N[S]=t[S];for(;++d<y;)(z||d<v)&&(N[i[d]]=e[d]);for(;M--;)N[S++]=e[d++];return N}function xs(e,t,i,u){for(var d=-1,v=e.length,y=-1,S=i.length,T=-1,M=t.length,N=ot(v-S,0),z=D(N+M),Q=!u;++d<N;)z[d]=e[d];for(var ie=d;++T<M;)z[ie+T]=t[T];for(;++y<S;)(Q||d<v)&&(z[ie+i[y]]=e[d++]);return z}function Vt(e,t){var i=-1,u=e.length;for(t||(t=D(u));++i<u;)t[i]=e[i];return t}function wn(e,t,i,u){var d=!i;i||(i={});for(var v=-1,y=t.length;++v<y;){var S=t[v],T=u?u(i[S],e[S],S,i,e):n;T===n&&(T=e[S]),d?Dn(i,S,T):ii(i,S,T)}return i}function pf(e,t){return wn(e,fl(e),t)}function gf(e,t){return wn(e,cu(e),t)}function e0(e,t){return function(i,u){var d=ve(i)?w9:Fa,v=t?t():{};return d(i,e,ae(u,2),v)}}function Pr(e){return Oe(function(t,i){var u=-1,d=i.length,v=d>1?i[d-1]:n,y=d>2?i[2]:n;for(v=e.length>3&&typeof v=="function"?(d--,v):n,y&&Ft(i[0],i[1],y)&&(v=d<3?n:v,d=1),t=ze(t);++u<d;){var S=i[u];S&&e(t,S,u,v)}return t})}function $s(e,t){return function(i,u){if(i==null)return i;if(!zt(i))return e(i,u);for(var d=i.length,v=t?d:-1,y=ze(i);(t?v--:++v<d)&&u(y[v],v,y)!==!1;);return i}}function eu(e){return function(t,i,u){for(var d=-1,v=ze(t),y=u(t),S=y.length;S--;){var T=y[e?S:++d];if(i(v[T],T,v)===!1)break}return t}}function _f(e,t,i){var u=t&U,d=ai(e);function v(){var y=this&&this!==Et&&this instanceof v?d:e;return y.apply(u?i:this,arguments)}return v}function tu(e){return function(t){t=Me(t);var i=Ar(t)?cn(t):n,u=i?i[0]:t.charAt(0),d=i?Yn(i,1).join(""):t.slice(1);return u[e]()+d}}function Br(e){return function(t){return I0($u(xu(t).replace(l9,"")),e,"")}}function ai(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=Lr(e.prototype),u=e.apply(i,t);return Xe(u)?u:i}}function mf(e,t,i){var u=ai(e);function d(){for(var v=arguments.length,y=D(v),S=v,T=Mr(d);S--;)y[S]=arguments[S];var M=v<3&&y[0]!==T&&y[v-1]!==T?[]:zn(y,T);if(v-=M.length,v<i)return su(e,t,t0,d.placeholder,n,y,M,n,n,i-v);var N=this&&this!==Et&&this instanceof d?u:e;return Yt(N,this,y)}return d}function nu(e){return function(t,i,u){var d=ze(t);if(!zt(t)){var v=ae(i,3);t=yt(t),i=function(S){return v(d[S],S,d)}}var y=e(t,i,u);return y>-1?d[v?t[y]:y]:n}}function ru(e){return Ln(function(t){var i=t.length,u=i,d=nn.prototype.thru;for(e&&t.reverse();u--;){var v=t[u];if(typeof v!="function")throw new tn(a);if(d&&!y&&l0(v)=="wrapper")var y=new nn([],!0)}for(u=y?u:i;++u<i;){v=t[u];var S=l0(v),T=S=="wrapper"?ol(v):n;T&&hl(T[0])&&T[1]==(x|J|q|Z)&&!T[4].length&&T[9]==1?y=y[l0(T[0])].apply(y,T[3]):y=v.length==1&&hl(v)?y[S]():y.thru(v)}return function(){var M=arguments,N=M[0];if(y&&M.length==1&&ve(N))return y.plant(N).value();for(var z=0,Q=i?t[z].apply(this,M):N;++z<i;)Q=t[z].call(this,Q);return Q}})}function t0(e,t,i,u,d,v,y,S,T,M){var N=t&x,z=t&U,Q=t&V,ie=t&(J|B),fe=t&se,ye=Q?n:ai(e);function ce(){for(var Te=arguments.length,ke=D(Te),jt=Te;jt--;)ke[jt]=arguments[jt];if(ie)var Nt=Mr(ce),xt=I9(ke,Nt);if(u&&(ke=js(ke,u,d,ie)),v&&(ke=xs(ke,v,y,ie)),Te-=xt,ie&&Te<M){var tt=zn(ke,Nt);return su(e,t,t0,ce.placeholder,i,ke,tt,S,T,M-Te)}var pn=z?i:this,Fn=Q?pn[e]:e;return Te=ke.length,S?ke=Nf(ke,S):fe&&Te>1&&ke.reverse(),N&&T<Te&&(ke.length=T),this&&this!==Et&&this instanceof ce&&(Fn=ye||ai(Fn)),Fn.apply(pn,ke)}return ce}function iu(e,t){return function(i,u){return Ka(i,e,t(u),{})}}function n0(e,t){return function(i,u){var d;if(i===n&&u===n)return t;if(i!==n&&(d=i),u!==n){if(d===n)return u;typeof i=="string"||typeof u=="string"?(i=Xt(i),u=Xt(u)):(i=Gs(i),u=Gs(u)),d=e(i,u)}return d}}function il(e){return Ln(function(t){return t=Ye(t,Zt(ae())),Oe(function(i){var u=this;return e(t,function(d){return Yt(d,u,i)})})})}function r0(e,t){t=t===n?" ":Xt(t);var i=t.length;if(i<2)return i?j0(t,e):t;var u=j0(t,Gi(e/Tr(t)));return Ar(t)?Yn(cn(u),0,e).join(""):u.slice(0,e)}function vf(e,t,i,u){var d=t&U,v=ai(e);function y(){for(var S=-1,T=arguments.length,M=-1,N=u.length,z=D(N+T),Q=this&&this!==Et&&this instanceof y?v:e;++M<N;)z[M]=u[M];for(;T--;)z[M++]=arguments[++S];return Yt(Q,d?i:this,z)}return y}function lu(e){return function(t,i,u){return u&&typeof u!="number"&&Ft(t,i,u)&&(i=u=n),t=Mn(t),i===n?(i=t,t=0):i=Mn(i),u=u===n?t<i?1:-1:Mn(u),nf(t,i,u,e)}}function i0(e){return function(t,i){return typeof t=="string"&&typeof i=="string"||(t=un(t),i=un(i)),e(t,i)}}function su(e,t,i,u,d,v,y,S,T,M){var N=t&J,z=N?y:n,Q=N?n:y,ie=N?v:n,fe=N?n:v;t|=N?q:R,t&=~(N?R:q),t&Y||(t&=~(U|V));var ye=[e,t,d,ie,z,fe,Q,S,T,M],ce=i.apply(n,ye);return hl(e)&&vu(ce,ye),ce.placeholder=u,wu(ce,e,t)}function ll(e){var t=ut[e];return function(i,u){if(i=un(i),u=u==null?0:kt(be(u),292),u&&ws(i)){var d=(Me(i)+"e").split("e"),v=t(d[0]+"e"+(+d[1]+u));return d=(Me(v)+"e").split("e"),+(d[0]+"e"+(+d[1]-u))}return t(i)}}var wf=Dr&&1/Pi(new Dr([,-0]))[1]==Ee?function(e){return new Dr(e)}:Tl;function uu(e){return function(t){var i=Lt(t);return i==it?M0(t):i==G?M9(t):T9(t,e(t))}}function kn(e,t,i,u,d,v,y,S){var T=t&V;if(!T&&typeof e!="function")throw new tn(a);var M=u?u.length:0;if(M||(t&=~(q|R),u=d=n),y=y===n?y:ot(be(y),0),S=S===n?S:be(S),M-=d?d.length:0,t&R){var N=u,z=d;u=d=n}var Q=T?n:ol(e),ie=[e,t,i,u,d,N,z,v,y,S];if(Q&&Bf(ie,Q),e=ie[0],t=ie[1],i=ie[2],u=ie[3],d=ie[4],S=ie[9]=ie[9]===n?T?0:e.length:ot(ie[9]-M,0),!S&&t&(J|B)&&(t&=~(J|B)),!t||t==U)var fe=_f(e,t,i);else t==J||t==B?fe=mf(e,t,S):(t==q||t==(U|q))&&!d.length?fe=vf(e,t,i,u):fe=t0.apply(n,ie);var ye=Q?Vs:vu;return wu(ye(fe,ie),e,t)}function ou(e,t,i,u){return e===n||dn(e,Rr[i])&&!Fe.call(u,i)?t:e}function au(e,t,i,u,d,v){return Xe(e)&&Xe(t)&&(v.set(t,e),ji(e,t,n,au,v),v.delete(t)),e}function bf(e){return hi(e)?n:e}function fu(e,t,i,u,d,v){var y=i&P,S=e.length,T=t.length;if(S!=T&&!(y&&T>S))return!1;var M=v.get(e),N=v.get(t);if(M&&N)return M==t&&N==e;var z=-1,Q=!0,ie=i&k?new ir:n;for(v.set(e,t),v.set(t,e);++z<S;){var fe=e[z],ye=t[z];if(u)var ce=y?u(ye,fe,z,t,e,v):u(fe,ye,z,e,t,v);if(ce!==n){if(ce)continue;Q=!1;break}if(ie){if(!R0(t,function(Te,ke){if(!xr(ie,ke)&&(fe===Te||d(fe,Te,i,u,v)))return ie.push(ke)})){Q=!1;break}}else if(!(fe===ye||d(fe,ye,i,u,v))){Q=!1;break}}return v.delete(e),v.delete(t),Q}function yf(e,t,i,u,d,v,y){switch(i){case qt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case xe:return!(e.byteLength!=t.byteLength||!v(new Wi(e),new Wi(t)));case rt:case St:case vt:return dn(+e,+t);case Ue:return e.name==t.name&&e.message==t.message;case Pt:case he:return e==t+"";case it:var S=M0;case G:var T=u&P;if(S||(S=Pi),e.size!=t.size&&!T)return!1;var M=y.get(e);if(M)return M==t;u|=k,y.set(e,t);var N=fu(S(e),S(t),u,d,v,y);return y.delete(e),N;case Ct:if(ri)return ri.call(e)==ri.call(t)}return!1}function Sf(e,t,i,u,d,v){var y=i&P,S=sl(e),T=S.length,M=sl(t),N=M.length;if(T!=N&&!y)return!1;for(var z=T;z--;){var Q=S[z];if(!(y?Q in t:Fe.call(t,Q)))return!1}var ie=v.get(e),fe=v.get(t);if(ie&&fe)return ie==t&&fe==e;var ye=!0;v.set(e,t),v.set(t,e);for(var ce=y;++z<T;){Q=S[z];var Te=e[Q],ke=t[Q];if(u)var jt=y?u(ke,Te,Q,t,e,v):u(Te,ke,Q,e,t,v);if(!(jt===n?Te===ke||d(Te,ke,i,u,v):jt)){ye=!1;break}ce||(ce=Q=="constructor")}if(ye&&!ce){var Nt=e.constructor,xt=t.constructor;Nt!=xt&&"constructor"in e&&"constructor"in t&&!(typeof Nt=="function"&&Nt instanceof Nt&&typeof xt=="function"&&xt instanceof xt)&&(ye=!1)}return v.delete(e),v.delete(t),ye}function Ln(e){return pl(_u(e,n,Eu),e+"")}function sl(e){return Ds(e,yt,fl)}function ul(e){return Ds(e,Gt,cu)}var ol=qi?function(e){return qi.get(e)}:Tl;function l0(e){for(var t=e.name+"",i=kr[t],u=Fe.call(kr,t)?i.length:0;u--;){var d=i[u],v=d.func;if(v==null||v==e)return d.name}return t}function Mr(e){var t=Fe.call(m,"placeholder")?m:e;return t.placeholder}function ae(){var e=m.iteratee||El;return e=e===El?Ps:e,arguments.length?e(arguments[0],arguments[1]):e}function s0(e,t){var i=e.__data__;return Df(t)?i[typeof t=="string"?"string":"hash"]:i.map}function al(e){for(var t=yt(e),i=t.length;i--;){var u=t[i],d=e[u];t[i]=[u,d,pu(d)]}return t}function ur(e,t){var i=L9(e,t);return Ls(i)?i:n}function Cf(e){var t=Fe.call(e,nr),i=e[nr];try{e[nr]=n;var u=!0}catch{}var d=Ni.call(e);return u&&(t?e[nr]=i:delete e[nr]),d}var fl=N0?function(e){return e==null?[]:(e=ze(e),Hn(N0(e),function(t){return ms.call(e,t)}))}:Il,cu=N0?function(e){for(var t=[];e;)Vn(t,fl(e)),e=Hi(e);return t}:Il,Lt=Mt;(U0&&Lt(new U0(new ArrayBuffer(1)))!=qt||ei&&Lt(new ei)!=it||W0&&Lt(W0.resolve())!=_n||Dr&&Lt(new Dr)!=G||ti&&Lt(new ti)!=je)&&(Lt=function(e){var t=Mt(e),i=t==lt?e.constructor:n,u=i?or(i):"";if(u)switch(u){case ia:return qt;case la:return it;case sa:return _n;case ua:return G;case oa:return je}return t});function Of(e,t,i){for(var u=-1,d=i.length;++u<d;){var v=i[u],y=v.size;switch(v.type){case"drop":e+=y;break;case"dropRight":t-=y;break;case"take":t=kt(t,e+y);break;case"takeRight":e=ot(e,t-y);break}}return{start:e,end:t}}function Ef(e){var t=e.match(bi);return t?t[1].split(Dt):[]}function hu(e,t,i){t=Jn(t,e);for(var u=-1,d=t.length,v=!1;++u<d;){var y=bn(t[u]);if(!(v=e!=null&&i(e,y)))break;e=e[y]}return v||++u!=d?v:(d=e==null?0:e.length,!!d&&d0(d)&&Pn(y,d)&&(ve(e)||ar(e)))}function Af(e){var t=e.length,i=new e.constructor(t);return t&&typeof e[0]=="string"&&Fe.call(e,"index")&&(i.index=e.index,i.input=e.input),i}function du(e){return typeof e.constructor=="function"&&!fi(e)?Lr(Hi(e)):{}}function Tf(e,t,i){var u=e.constructor;switch(t){case xe:return rl(e);case rt:case St:return new u(+e);case qt:return ff(e,i);case Ht:case An:case Un:case Qn:case an:case mn:case Tn:case Wn:case fn:return Xs(e,i);case it:return new u;case vt:case he:return new u(e);case Pt:return cf(e);case G:return new u;case Ct:return hf(e)}}function If(e,t){var i=t.length;if(!i)return e;var u=i-1;return t[u]=(i>1?"& ":"")+t[u],t=t.join(i>2?", ":" "),e.replace(wi,`{
/* [wrapped with `+t+`] */
`)}function Rf(e){return ve(e)||ar(e)||!!(vs&&e&&e[vs])}function Pn(e,t){var i=typeof e;return t=t==null?Le:t,!!t&&(i=="number"||i!="symbol"&&br.test(e))&&e>-1&&e%1==0&&e<t}function Ft(e,t,i){if(!Xe(i))return!1;var u=typeof t;return(u=="number"?zt(i)&&Pn(t,i.length):u=="string"&&t in i)?dn(i[t],e):!1}function cl(e,t){if(ve(e))return!1;var i=typeof e;return i=="number"||i=="symbol"||i=="boolean"||e==null||Qt(e)?!0:wt.test(e)||!mi.test(e)||t!=null&&e in ze(t)}function Df(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function hl(e){var t=l0(e),i=m[t];if(typeof i!="function"||!(t in Re.prototype))return!1;if(e===i)return!0;var u=ol(i);return!!u&&e===u[0]}function kf(e){return!!ps&&ps in e}var Lf=Mi?Bn:Rl;function fi(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||Rr;return e===i}function pu(e){return e===e&&!Xe(e)}function gu(e,t){return function(i){return i==null?!1:i[e]===t&&(t!==n||e in ze(i))}}function Pf(e){var t=c0(e,function(u){return i.size===h&&i.clear(),u}),i=t.cache;return t}function Bf(e,t){var i=e[1],u=t[1],d=i|u,v=d<(U|V|x),y=u==x&&i==J||u==x&&i==Z&&e[7].length<=t[8]||u==(x|Z)&&t[7].length<=t[8]&&i==J;if(!(v||y))return e;u&U&&(e[2]=t[2],d|=i&U?0:Y);var S=t[3];if(S){var T=e[3];e[3]=T?js(T,S,t[4]):S,e[4]=T?zn(e[3],g):t[4]}return S=t[5],S&&(T=e[5],e[5]=T?xs(T,S,t[6]):S,e[6]=T?zn(e[5],g):t[6]),S=t[7],S&&(e[7]=S),u&x&&(e[8]=e[8]==null?t[8]:kt(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=d,e}function Mf(e){var t=[];if(e!=null)for(var i in ze(e))t.push(i);return t}function Ff(e){return Ni.call(e)}function _u(e,t,i){return t=ot(t===n?e.length-1:t,0),function(){for(var u=arguments,d=-1,v=ot(u.length-t,0),y=D(v);++d<v;)y[d]=u[t+d];d=-1;for(var S=D(t+1);++d<t;)S[d]=u[d];return S[t]=i(y),Yt(e,this,S)}}function mu(e,t){return t.length<2?e:sr(e,ln(t,0,-1))}function Nf(e,t){for(var i=e.length,u=kt(t.length,i),d=Vt(e);u--;){var v=t[u];e[u]=Pn(v,i)?d[v]:n}return e}function dl(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var vu=bu(Vs),ci=j9||function(e,t){return Et.setTimeout(e,t)},pl=bu(sf);function wu(e,t,i){var u=t+"";return pl(e,If(u,Uf(Ef(u),i)))}function bu(e){var t=0,i=0;return function(){var u=ta(),d=te-(u-i);if(i=u,d>0){if(++t>=Ae)return arguments[0]}else t=0;return e.apply(n,arguments)}}function u0(e,t){var i=-1,u=e.length,d=u-1;for(t=t===n?u:t;++i<t;){var v=Q0(i,d),y=e[v];e[v]=e[i],e[i]=y}return e.length=t,e}var yu=Pf(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(bt,function(i,u,d,v){t.push(d?v.replace(Si,"$1"):u||i)}),t});function bn(e){if(typeof e=="string"||Qt(e))return e;var t=e+"";return t=="0"&&1/e==-Ee?"-0":t}function or(e){if(e!=null){try{return Fi.call(e)}catch{}try{return e+""}catch{}}return""}function Uf(e,t){return en(le,function(i){var u="_."+i[0];t&i[1]&&!ki(e,u)&&e.push(u)}),e.sort()}function Su(e){if(e instanceof Re)return e.clone();var t=new nn(e.__wrapped__,e.__chain__);return t.__actions__=Vt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Wf(e,t,i){(i?Ft(e,t,i):t===n)?t=1:t=ot(be(t),0);var u=e==null?0:e.length;if(!u||t<1)return[];for(var d=0,v=0,y=D(Gi(u/t));d<u;)y[v++]=ln(e,d,d+=t);return y}function Hf(e){for(var t=-1,i=e==null?0:e.length,u=0,d=[];++t<i;){var v=e[t];v&&(d[u++]=v)}return d}function Vf(){var e=arguments.length;if(!e)return[];for(var t=D(e-1),i=arguments[0],u=e;u--;)t[u-1]=arguments[u];return Vn(ve(i)?Vt(i):[i],At(t,1))}var zf=Oe(function(e,t){return et(e)?li(e,At(t,1,et,!0)):[]}),Gf=Oe(function(e,t){var i=sn(t);return et(i)&&(i=n),et(e)?li(e,At(t,1,et,!0),ae(i,2)):[]}),Kf=Oe(function(e,t){var i=sn(t);return et(i)&&(i=n),et(e)?li(e,At(t,1,et,!0),n,i):[]});function qf(e,t,i){var u=e==null?0:e.length;return u?(t=i||t===n?1:be(t),ln(e,t<0?0:t,u)):[]}function Jf(e,t,i){var u=e==null?0:e.length;return u?(t=i||t===n?1:be(t),t=u-t,ln(e,0,t<0?0:t)):[]}function Yf(e,t){return e&&e.length?$i(e,ae(t,3),!0,!0):[]}function Zf(e,t){return e&&e.length?$i(e,ae(t,3),!0):[]}function Xf(e,t,i,u){var d=e==null?0:e.length;return d?(i&&typeof i!="number"&&Ft(e,t,i)&&(i=0,u=d),Ha(e,t,i,u)):[]}function Cu(e,t,i){var u=e==null?0:e.length;if(!u)return-1;var d=i==null?0:be(i);return d<0&&(d=ot(u+d,0)),Li(e,ae(t,3),d)}function Ou(e,t,i){var u=e==null?0:e.length;if(!u)return-1;var d=u-1;return i!==n&&(d=be(i),d=i<0?ot(u+d,0):kt(d,u-1)),Li(e,ae(t,3),d,!0)}function Eu(e){var t=e==null?0:e.length;return t?At(e,1):[]}function Qf(e){var t=e==null?0:e.length;return t?At(e,Ee):[]}function jf(e,t){var i=e==null?0:e.length;return i?(t=t===n?1:be(t),At(e,t)):[]}function xf(e){for(var t=-1,i=e==null?0:e.length,u={};++t<i;){var d=e[t];u[d[0]]=d[1]}return u}function Au(e){return e&&e.length?e[0]:n}function $f(e,t,i){var u=e==null?0:e.length;if(!u)return-1;var d=i==null?0:be(i);return d<0&&(d=ot(u+d,0)),Er(e,t,d)}function ec(e){var t=e==null?0:e.length;return t?ln(e,0,-1):[]}var tc=Oe(function(e){var t=Ye(e,tl);return t.length&&t[0]===e[0]?q0(t):[]}),nc=Oe(function(e){var t=sn(e),i=Ye(e,tl);return t===sn(i)?t=n:i.pop(),i.length&&i[0]===e[0]?q0(i,ae(t,2)):[]}),rc=Oe(function(e){var t=sn(e),i=Ye(e,tl);return t=typeof t=="function"?t:n,t&&i.pop(),i.length&&i[0]===e[0]?q0(i,n,t):[]});function ic(e,t){return e==null?"":$9.call(e,t)}function sn(e){var t=e==null?0:e.length;return t?e[t-1]:n}function lc(e,t,i){var u=e==null?0:e.length;if(!u)return-1;var d=u;return i!==n&&(d=be(i),d=d<0?ot(u+d,0):kt(d,u-1)),t===t?N9(e,t,d):Li(e,ss,d,!0)}function sc(e,t){return e&&e.length?Ns(e,be(t)):n}var uc=Oe(Tu);function Tu(e,t){return e&&e.length&&t&&t.length?X0(e,t):e}function oc(e,t,i){return e&&e.length&&t&&t.length?X0(e,t,ae(i,2)):e}function ac(e,t,i){return e&&e.length&&t&&t.length?X0(e,t,n,i):e}var fc=Ln(function(e,t){var i=e==null?0:e.length,u=V0(e,t);return Hs(e,Ye(t,function(d){return Pn(d,i)?+d:d}).sort(Qs)),u});function cc(e,t){var i=[];if(!(e&&e.length))return i;var u=-1,d=[],v=e.length;for(t=ae(t,3);++u<v;){var y=e[u];t(y,u,e)&&(i.push(y),d.push(u))}return Hs(e,d),i}function gl(e){return e==null?e:ra.call(e)}function hc(e,t,i){var u=e==null?0:e.length;return u?(i&&typeof i!="number"&&Ft(e,t,i)?(t=0,i=u):(t=t==null?0:be(t),i=i===n?u:be(i)),ln(e,t,i)):[]}function dc(e,t){return xi(e,t)}function gc(e,t,i){return x0(e,t,ae(i,2))}function _c(e,t){var i=e==null?0:e.length;if(i){var u=xi(e,t);if(u<i&&dn(e[u],t))return u}return-1}function mc(e,t){return xi(e,t,!0)}function vc(e,t,i){return x0(e,t,ae(i,2),!0)}function wc(e,t){var i=e==null?0:e.length;if(i){var u=xi(e,t,!0)-1;if(dn(e[u],t))return u}return-1}function bc(e){return e&&e.length?zs(e):[]}function yc(e,t){return e&&e.length?zs(e,ae(t,2)):[]}function Sc(e){var t=e==null?0:e.length;return t?ln(e,1,t):[]}function Cc(e,t,i){return e&&e.length?(t=i||t===n?1:be(t),ln(e,0,t<0?0:t)):[]}function Oc(e,t,i){var u=e==null?0:e.length;return u?(t=i||t===n?1:be(t),t=u-t,ln(e,t<0?0:t,u)):[]}function Ec(e,t){return e&&e.length?$i(e,ae(t,3),!1,!0):[]}function Ac(e,t){return e&&e.length?$i(e,ae(t,3)):[]}var Tc=Oe(function(e){return qn(At(e,1,et,!0))}),Ic=Oe(function(e){var t=sn(e);return et(t)&&(t=n),qn(At(e,1,et,!0),ae(t,2))}),Rc=Oe(function(e){var t=sn(e);return t=typeof t=="function"?t:n,qn(At(e,1,et,!0),n,t)});function Dc(e){return e&&e.length?qn(e):[]}function kc(e,t){return e&&e.length?qn(e,ae(t,2)):[]}function Lc(e,t){return t=typeof t=="function"?t:n,e&&e.length?qn(e,n,t):[]}function _l(e){if(!(e&&e.length))return[];var t=0;return e=Hn(e,function(i){if(et(i))return t=ot(i.length,t),!0}),P0(t,function(i){return Ye(e,D0(i))})}function Iu(e,t){if(!(e&&e.length))return[];var i=_l(e);return t==null?i:Ye(i,function(u){return Yt(t,n,u)})}var Pc=Oe(function(e,t){return et(e)?li(e,t):[]}),Bc=Oe(function(e){return el(Hn(e,et))}),Mc=Oe(function(e){var t=sn(e);return et(t)&&(t=n),el(Hn(e,et),ae(t,2))}),Fc=Oe(function(e){var t=sn(e);return t=typeof t=="function"?t:n,el(Hn(e,et),n,t)}),Nc=Oe(_l);function Uc(e,t){return Js(e||[],t||[],ii)}function Wc(e,t){return Js(e||[],t||[],oi)}var Hc=Oe(function(e){var t=e.length,i=t>1?e[t-1]:n;return i=typeof i=="function"?(e.pop(),i):n,Iu(e,i)});function Ru(e){var t=m(e);return t.__chain__=!0,t}function Vc(e,t){return t(e),e}function o0(e,t){return t(e)}var zc=Ln(function(e){var t=e.length,i=t?e[0]:0,u=this.__wrapped__,d=function(v){return V0(v,e)};return t>1||this.__actions__.length||!(u instanceof Re)||!Pn(i)?this.thru(d):(u=u.slice(i,+i+(t?1:0)),u.__actions__.push({func:o0,args:[d],thisArg:n}),new nn(u,this.__chain__).thru(function(v){return t&&!v.length&&v.push(n),v}))});function Gc(){return Ru(this)}function Kc(){return new nn(this.value(),this.__chain__)}function qc(){this.__values__===n&&(this.__values__=Gu(this.value()));var e=this.__index__>=this.__values__.length,t=e?n:this.__values__[this.__index__++];return{done:e,value:t}}function Jc(){return this}function Yc(e){for(var t,i=this;i instanceof Yi;){var u=Su(i);u.__index__=0,u.__values__=n,t?d.__wrapped__=u:t=u;var d=u;i=i.__wrapped__}return d.__wrapped__=e,t}function Zc(){var e=this.__wrapped__;if(e instanceof Re){var t=e;return this.__actions__.length&&(t=new Re(this)),t=t.reverse(),t.__actions__.push({func:o0,args:[gl],thisArg:n}),new nn(t,this.__chain__)}return this.thru(gl)}function Xc(){return qs(this.__wrapped__,this.__actions__)}var Qc=e0(function(e,t,i){Fe.call(e,i)?++e[i]:Dn(e,i,1)});function jc(e,t,i){var u=ve(e)?is:Wa;return i&&Ft(e,t,i)&&(t=n),u(e,ae(t,3))}function xc(e,t){var i=ve(e)?Hn:Is;return i(e,ae(t,3))}var $c=nu(Cu),eh=nu(Ou);function th(e,t){return At(a0(e,t),1)}function nh(e,t){return At(a0(e,t),Ee)}function rh(e,t,i){return i=i===n?1:be(i),At(a0(e,t),i)}function Du(e,t){var i=ve(e)?en:Kn;return i(e,ae(t,3))}function ku(e,t){var i=ve(e)?b9:Ts;return i(e,ae(t,3))}var ih=e0(function(e,t,i){Fe.call(e,i)?e[i].push(t):Dn(e,i,[t])});function lh(e,t,i,u){e=zt(e)?e:Nr(e),i=i&&!u?be(i):0;var d=e.length;return i<0&&(i=ot(d+i,0)),p0(e)?i<=d&&e.indexOf(t,i)>-1:!!d&&Er(e,t,i)>-1}var sh=Oe(function(e,t,i){var u=-1,d=typeof t=="function",v=zt(e)?D(e.length):[];return Kn(e,function(y){v[++u]=d?Yt(t,y,i):si(y,t,i)}),v}),uh=e0(function(e,t,i){Dn(e,i,t)});function a0(e,t){var i=ve(e)?Ye:Bs;return i(e,ae(t,3))}function oh(e,t,i,u){return e==null?[]:(ve(t)||(t=t==null?[]:[t]),i=u?n:i,ve(i)||(i=i==null?[]:[i]),Us(e,t,i))}var ah=e0(function(e,t,i){e[i?0:1].push(t)},function(){return[[],[]]});function fh(e,t,i){var u=ve(e)?I0:os,d=arguments.length<3;return u(e,ae(t,4),i,d,Kn)}function ch(e,t,i){var u=ve(e)?y9:os,d=arguments.length<3;return u(e,ae(t,4),i,d,Ts)}function hh(e,t){var i=ve(e)?Hn:Is;return i(e,h0(ae(t,3)))}function dh(e){var t=ve(e)?Cs:rf;return t(e)}function ph(e,t,i){(i?Ft(e,t,i):t===n)?t=1:t=be(t);var u=ve(e)?Ba:lf;return u(e,t)}function gh(e){var t=ve(e)?Ma:uf;return t(e)}function _h(e){if(e==null)return 0;if(zt(e))return p0(e)?Tr(e):e.length;var t=Lt(e);return t==it||t==G?e.size:Y0(e).length}function mh(e,t,i){var u=ve(e)?R0:of;return i&&Ft(e,t,i)&&(t=n),u(e,ae(t,3))}var vh=Oe(function(e,t){if(e==null)return[];var i=t.length;return i>1&&Ft(e,t[0],t[1])?t=[]:i>2&&Ft(t[0],t[1],t[2])&&(t=[t[0]]),Us(e,At(t,1),[])}),f0=Q9||function(){return Et.Date.now()};function wh(e,t){if(typeof t!="function")throw new tn(a);return e=be(e),function(){if(--e<1)return t.apply(this,arguments)}}function Lu(e,t,i){return t=i?n:t,t=e&&t==null?e.length:t,kn(e,x,n,n,n,n,t)}function Pu(e,t){var i;if(typeof t!="function")throw new tn(a);return e=be(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=n),i}}var ml=Oe(function(e,t,i){var u=U;if(i.length){var d=zn(i,Mr(ml));u|=q}return kn(e,u,t,i,d)}),Bu=Oe(function(e,t,i){var u=U|V;if(i.length){var d=zn(i,Mr(Bu));u|=q}return kn(t,u,e,i,d)});function Mu(e,t,i){t=i?n:t;var u=kn(e,J,n,n,n,n,n,t);return u.placeholder=Mu.placeholder,u}function Fu(e,t,i){t=i?n:t;var u=kn(e,B,n,n,n,n,n,t);return u.placeholder=Fu.placeholder,u}function Nu(e,t,i){var u,d,v,y,S,T,M=0,N=!1,z=!1,Q=!0;if(typeof e!="function")throw new tn(a);t=un(t)||0,Xe(i)&&(N=!!i.leading,z="maxWait"in i,v=z?ot(un(i.maxWait)||0,t):v,Q="trailing"in i?!!i.trailing:Q);function ie(tt){var pn=u,Fn=d;return u=d=n,M=tt,y=e.apply(Fn,pn),y}function fe(tt){return M=tt,S=ci(Te,t),N?ie(tt):y}function ye(tt){var pn=tt-T,Fn=tt-M,no=t-pn;return z?kt(no,v-Fn):no}function ce(tt){var pn=tt-T,Fn=tt-M;return T===n||pn>=t||pn<0||z&&Fn>=v}function Te(){var tt=f0();if(ce(tt))return ke(tt);S=ci(Te,ye(tt))}function ke(tt){return S=n,Q&&u?ie(tt):(u=d=n,y)}function jt(){S!==n&&Ys(S),M=0,u=T=d=S=n}function Nt(){return S===n?y:ke(f0())}function xt(){var tt=f0(),pn=ce(tt);if(u=arguments,d=this,T=tt,pn){if(S===n)return fe(T);if(z)return Ys(S),S=ci(Te,t),ie(T)}return S===n&&(S=ci(Te,t)),y}return xt.cancel=jt,xt.flush=Nt,xt}var bh=Oe(function(e,t){return As(e,1,t)}),yh=Oe(function(e,t,i){return As(e,un(t)||0,i)});function Sh(e){return kn(e,se)}function c0(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new tn(a);var i=function(){var u=arguments,d=t?t.apply(this,u):u[0],v=i.cache;if(v.has(d))return v.get(d);var y=e.apply(this,u);return i.cache=v.set(d,y)||v,y};return i.cache=new(c0.Cache||Rn),i}c0.Cache=Rn;function h0(e){if(typeof e!="function")throw new tn(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Ch(e){return Pu(2,e)}var Oh=af(function(e,t){t=t.length==1&&ve(t[0])?Ye(t[0],Zt(ae())):Ye(At(t,1),Zt(ae()));var i=t.length;return Oe(function(u){for(var d=-1,v=kt(u.length,i);++d<v;)u[d]=t[d].call(this,u[d]);return Yt(e,this,u)})}),vl=Oe(function(e,t){var i=zn(t,Mr(vl));return kn(e,q,n,t,i)}),Uu=Oe(function(e,t){var i=zn(t,Mr(Uu));return kn(e,R,n,t,i)}),Eh=Ln(function(e,t){return kn(e,Z,n,n,n,t)});function Ah(e,t){if(typeof e!="function")throw new tn(a);return t=t===n?t:be(t),Oe(e,t)}function Th(e,t){if(typeof e!="function")throw new tn(a);return t=t==null?0:ot(be(t),0),Oe(function(i){var u=i[t],d=Yn(i,0,t);return u&&Vn(d,u),Yt(e,this,d)})}function Ih(e,t,i){var u=!0,d=!0;if(typeof e!="function")throw new tn(a);return Xe(i)&&(u="leading"in i?!!i.leading:u,d="trailing"in i?!!i.trailing:d),Nu(e,t,{leading:u,maxWait:t,trailing:d})}function Rh(e){return Lu(e,1)}function Dh(e,t){return vl(nl(t),e)}function kh(){if(!arguments.length)return[];var e=arguments[0];return ve(e)?e:[e]}function Lh(e){return rn(e,b)}function Ph(e,t){return t=typeof t=="function"?t:n,rn(e,b,t)}function Bh(e){return rn(e,w|b)}function Mh(e,t){return t=typeof t=="function"?t:n,rn(e,w|b,t)}function Fh(e,t){return t==null||Es(e,t,yt(t))}function dn(e,t){return e===t||e!==e&&t!==t}var Nh=i0(K0),Uh=i0(function(e,t){return e>=t}),ar=ks(function(){return arguments}())?ks:function(e){return $e(e)&&Fe.call(e,"callee")&&!ms.call(e,"callee")},ve=D.isArray,Wh=xl?Zt(xl):qa;function zt(e){return e!=null&&d0(e.length)&&!Bn(e)}function et(e){return $e(e)&&zt(e)}function Hh(e){return e===!0||e===!1||$e(e)&&Mt(e)==rt}var Zn=x9||Rl,Vh=$l?Zt($l):Ja;function zh(e){return $e(e)&&e.nodeType===1&&!hi(e)}function Gh(e){if(e==null)return!0;if(zt(e)&&(ve(e)||typeof e=="string"||typeof e.splice=="function"||Zn(e)||Fr(e)||ar(e)))return!e.length;var t=Lt(e);if(t==it||t==G)return!e.size;if(fi(e))return!Y0(e).length;for(var i in e)if(Fe.call(e,i))return!1;return!0}function Kh(e,t){return ui(e,t)}function qh(e,t,i){i=typeof i=="function"?i:n;var u=i?i(e,t):n;return u===n?ui(e,t,n,i):!!u}function wl(e){if(!$e(e))return!1;var t=Mt(e);return t==Ue||t==On||typeof e.message=="string"&&typeof e.name=="string"&&!hi(e)}function Jh(e){return typeof e=="number"&&ws(e)}function Bn(e){if(!Xe(e))return!1;var t=Mt(e);return t==Ut||t==En||t==nt||t==Wt}function Wu(e){return typeof e=="number"&&e==be(e)}function d0(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Le}function Xe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function $e(e){return e!=null&&typeof e=="object"}var Hu=es?Zt(es):Za;function Yh(e,t){return e===t||J0(e,t,al(t))}function Zh(e,t,i){return i=typeof i=="function"?i:n,J0(e,t,al(t),i)}function Xh(e){return Vu(e)&&e!=+e}function Qh(e){if(Lf(e))throw new ge(f);return Ls(e)}function jh(e){return e===null}function xh(e){return e==null}function Vu(e){return typeof e=="number"||$e(e)&&Mt(e)==vt}function hi(e){if(!$e(e)||Mt(e)!=lt)return!1;var t=Hi(e);if(t===null)return!0;var i=Fe.call(t,"constructor")&&t.constructor;return typeof i=="function"&&i instanceof i&&Fi.call(i)==J9}var bl=ts?Zt(ts):Xa;function $h(e){return Wu(e)&&e>=-Le&&e<=Le}var zu=ns?Zt(ns):Qa;function p0(e){return typeof e=="string"||!ve(e)&&$e(e)&&Mt(e)==he}function Qt(e){return typeof e=="symbol"||$e(e)&&Mt(e)==Ct}var Fr=rs?Zt(rs):ja;function ed(e){return e===n}function td(e){return $e(e)&&Lt(e)==je}function nd(e){return $e(e)&&Mt(e)==Bt}var rd=i0(Z0),id=i0(function(e,t){return e<=t});function Gu(e){if(!e)return[];if(zt(e))return p0(e)?cn(e):Vt(e);if($r&&e[$r])return B9(e[$r]());var t=Lt(e),i=t==it?M0:t==G?Pi:Nr;return i(e)}function Mn(e){if(!e)return e===0?e:0;if(e=un(e),e===Ee||e===-Ee){var t=e<0?-1:1;return t*Ke}return e===e?e:0}function be(e){var t=Mn(e),i=t%1;return t===t?i?t-i:t:0}function Ku(e){return e?lr(be(e),0,Pe):0}function un(e){if(typeof e=="number")return e;if(Qt(e))return _t;if(Xe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Xe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=as(e);var i=wr.test(e);return i||Ei.test(e)?m9(e.slice(2),i?2:8):Ci.test(e)?_t:+e}function qu(e){return wn(e,Gt(e))}function ld(e){return e?lr(be(e),-Le,Le):e===0?e:0}function Me(e){return e==null?"":Xt(e)}var sd=Pr(function(e,t){if(fi(t)||zt(t)){wn(t,yt(t),e);return}for(var i in t)Fe.call(t,i)&&ii(e,i,t[i])}),Ju=Pr(function(e,t){wn(t,Gt(t),e)}),g0=Pr(function(e,t,i,u){wn(t,Gt(t),e,u)}),ud=Pr(function(e,t,i,u){wn(t,yt(t),e,u)}),od=Ln(V0);function ad(e,t){var i=Lr(e);return t==null?i:Os(i,t)}var fd=Oe(function(e,t){e=ze(e);var i=-1,u=t.length,d=u>2?t[2]:n;for(d&&Ft(t[0],t[1],d)&&(u=1);++i<u;)for(var v=t[i],y=Gt(v),S=-1,T=y.length;++S<T;){var M=y[S],N=e[M];(N===n||dn(N,Rr[M])&&!Fe.call(e,M))&&(e[M]=v[M])}return e}),cd=Oe(function(e){return e.push(n,au),Yt(Yu,n,e)});function hd(e,t){return ls(e,ae(t,3),vn)}function dd(e,t){return ls(e,ae(t,3),G0)}function pd(e,t){return e==null?e:z0(e,ae(t,3),Gt)}function gd(e,t){return e==null?e:Rs(e,ae(t,3),Gt)}function _d(e,t){return e&&vn(e,ae(t,3))}function md(e,t){return e&&G0(e,ae(t,3))}function vd(e){return e==null?[]:Qi(e,yt(e))}function wd(e){return e==null?[]:Qi(e,Gt(e))}function yl(e,t,i){var u=e==null?n:sr(e,t);return u===n?i:u}function bd(e,t){return e!=null&&hu(e,t,Va)}function Sl(e,t){return e!=null&&hu(e,t,za)}var yd=iu(function(e,t,i){t!=null&&typeof t.toString!="function"&&(t=Ni.call(t)),e[t]=i},Ol(Kt)),Sd=iu(function(e,t,i){t!=null&&typeof t.toString!="function"&&(t=Ni.call(t)),Fe.call(e,t)?e[t].push(i):e[t]=[i]},ae),Cd=Oe(si);function yt(e){return zt(e)?Ss(e):Y0(e)}function Gt(e){return zt(e)?Ss(e,!0):xa(e)}function Od(e,t){var i={};return t=ae(t,3),vn(e,function(u,d,v){Dn(i,t(u,d,v),u)}),i}function Ed(e,t){var i={};return t=ae(t,3),vn(e,function(u,d,v){Dn(i,d,t(u,d,v))}),i}var Ad=Pr(function(e,t,i){ji(e,t,i)}),Yu=Pr(function(e,t,i,u){ji(e,t,i,u)}),Td=Ln(function(e,t){var i={};if(e==null)return i;var u=!1;t=Ye(t,function(v){return v=Jn(v,e),u||(u=v.length>1),v}),wn(e,ul(e),i),u&&(i=rn(i,w|_|b,bf));for(var d=t.length;d--;)$0(i,t[d]);return i});function Id(e,t){return Zu(e,h0(ae(t)))}var Rd=Ln(function(e,t){return e==null?{}:ef(e,t)});function Zu(e,t){if(e==null)return{};var i=Ye(ul(e),function(u){return[u]});return t=ae(t),Ws(e,i,function(u,d){return t(u,d[0])})}function Dd(e,t,i){t=Jn(t,e);var u=-1,d=t.length;for(d||(d=1,e=n);++u<d;){var v=e==null?n:e[bn(t[u])];v===n&&(u=d,v=i),e=Bn(v)?v.call(e):v}return e}function kd(e,t,i){return e==null?e:oi(e,t,i)}function Ld(e,t,i,u){return u=typeof u=="function"?u:n,e==null?e:oi(e,t,i,u)}var Xu=uu(yt),Qu=uu(Gt);function Pd(e,t,i){var u=ve(e),d=u||Zn(e)||Fr(e);if(t=ae(t,4),i==null){var v=e&&e.constructor;d?i=u?new v:[]:Xe(e)?i=Bn(v)?Lr(Hi(e)):{}:i={}}return(d?en:vn)(e,function(y,S,T){return t(i,y,S,T)}),i}function Bd(e,t){return e==null?!0:$0(e,t)}function Md(e,t,i){return e==null?e:Ks(e,t,nl(i))}function Fd(e,t,i,u){return u=typeof u=="function"?u:n,e==null?e:Ks(e,t,nl(i),u)}function Nr(e){return e==null?[]:B0(e,yt(e))}function Nd(e){return e==null?[]:B0(e,Gt(e))}function Ud(e,t,i){return i===n&&(i=t,t=n),i!==n&&(i=un(i),i=i===i?i:0),t!==n&&(t=un(t),t=t===t?t:0),lr(un(e),t,i)}function Wd(e,t,i){return t=Mn(t),i===n?(i=t,t=0):i=Mn(i),e=un(e),Ga(e,t,i)}function Hd(e,t,i){if(i&&typeof i!="boolean"&&Ft(e,t,i)&&(t=i=n),i===n&&(typeof t=="boolean"?(i=t,t=n):typeof e=="boolean"&&(i=e,e=n)),e===n&&t===n?(e=0,t=1):(e=Mn(e),t===n?(t=e,e=0):t=Mn(t)),e>t){var u=e;e=t,t=u}if(i||e%1||t%1){var d=bs();return kt(e+d*(t-e+_9("1e-"+((d+"").length-1))),t)}return Q0(e,t)}var Vd=Br(function(e,t,i){return t=t.toLowerCase(),e+(i?ju(t):t)});function ju(e){return Cl(Me(e).toLowerCase())}function xu(e){return e=Me(e),e&&e.replace(Ai,R9).replace(s9,"")}function zd(e,t,i){e=Me(e),t=Xt(t);var u=e.length;i=i===n?u:lr(be(i),0,u);var d=i;return i-=t.length,i>=0&&e.slice(i,d)==t}function Gd(e){return e=Me(e),e&&pr.test(e)?e.replace(Jt,D9):e}function Kd(e){return e=Me(e),e&&We.test(e)?e.replace(oe,"\\$&"):e}var qd=Br(function(e,t,i){return e+(i?"-":"")+t.toLowerCase()}),Jd=Br(function(e,t,i){return e+(i?" ":"")+t.toLowerCase()}),Yd=tu("toLowerCase");function Zd(e,t,i){e=Me(e),t=be(t);var u=t?Tr(e):0;if(!t||u>=t)return e;var d=(t-u)/2;return r0(Ki(d),i)+e+r0(Gi(d),i)}function Xd(e,t,i){e=Me(e),t=be(t);var u=t?Tr(e):0;return t&&u<t?e+r0(t-u,i):e}function Qd(e,t,i){e=Me(e),t=be(t);var u=t?Tr(e):0;return t&&u<t?r0(t-u,i)+e:e}function jd(e,t,i){return i||t==null?t=0:t&&(t=+t),na(Me(e).replace(Rt,""),t||0)}function xd(e,t,i){return(i?Ft(e,t,i):t===n)?t=1:t=be(t),j0(Me(e),t)}function $d(){var e=arguments,t=Me(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var e1=Br(function(e,t,i){return e+(i?"_":"")+t.toLowerCase()});function t1(e,t,i){return i&&typeof i!="number"&&Ft(e,t,i)&&(t=i=n),i=i===n?Pe:i>>>0,i?(e=Me(e),e&&(typeof t=="string"||t!=null&&!bl(t))&&(t=Xt(t),!t&&Ar(e))?Yn(cn(e),0,i):e.split(t,i)):[]}var n1=Br(function(e,t,i){return e+(i?" ":"")+Cl(t)});function r1(e,t,i){return e=Me(e),i=i==null?0:lr(be(i),0,e.length),t=Xt(t),e.slice(i,i+t.length)==t}function i1(e,t,i){var u=m.templateSettings;i&&Ft(e,t,i)&&(t=n),e=Me(e),t=g0({},t,u,ou);var d=g0({},t.imports,u.imports,ou),v=yt(d),y=B0(d,v),S,T,M=0,N=t.interpolate||$n,z="__p += '",Q=F0((t.escape||$n).source+"|"+N.source+"|"+(N===_r?vr:$n).source+"|"+(t.evaluate||$n).source+"|$","g"),ie="//# sourceURL="+(Fe.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++c9+"]")+`
`;e.replace(Q,function(ce,Te,ke,jt,Nt,xt){return ke||(ke=jt),z+=e.slice(M,xt).replace(yr,k9),Te&&(S=!0,z+=`' +
__e(`+Te+`) +
'`),Nt&&(T=!0,z+=`';
`+Nt+`;
__p += '`),ke&&(z+=`' +
((__t = (`+ke+`)) == null ? '' : __t) +
'`),M=xt+ce.length,ce}),z+=`';
`;var fe=Fe.call(t,"variable")&&t.variable;if(!fe)z=`with (obj) {
`+z+`
}
`;else if(yi.test(fe))throw new ge(c);z=(T?z.replace(Jr,""):z).replace(jn,"$1").replace(hr,"$1;"),z="function("+(fe||"obj")+`) {
`+(fe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(S?", __e = _.escape":"")+(T?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+z+`return __p
}`;var ye=eo(function(){return Be(v,ie+"return "+z).apply(n,y)});if(ye.source=z,wl(ye))throw ye;return ye}function l1(e){return Me(e).toLowerCase()}function s1(e){return Me(e).toUpperCase()}function u1(e,t,i){if(e=Me(e),e&&(i||t===n))return as(e);if(!e||!(t=Xt(t)))return e;var u=cn(e),d=cn(t),v=fs(u,d),y=cs(u,d)+1;return Yn(u,v,y).join("")}function o1(e,t,i){if(e=Me(e),e&&(i||t===n))return e.slice(0,ds(e)+1);if(!e||!(t=Xt(t)))return e;var u=cn(e),d=cs(u,cn(t))+1;return Yn(u,0,d).join("")}function a1(e,t,i){if(e=Me(e),e&&(i||t===n))return e.replace(Rt,"");if(!e||!(t=Xt(t)))return e;var u=cn(e),d=fs(u,cn(t));return Yn(u,d).join("")}function f1(e,t){var i=De,u=Se;if(Xe(t)){var d="separator"in t?t.separator:d;i="length"in t?be(t.length):i,u="omission"in t?Xt(t.omission):u}e=Me(e);var v=e.length;if(Ar(e)){var y=cn(e);v=y.length}if(i>=v)return e;var S=i-Tr(u);if(S<1)return u;var T=y?Yn(y,0,S).join(""):e.slice(0,S);if(d===n)return T+u;if(y&&(S+=T.length-S),bl(d)){if(e.slice(S).search(d)){var M,N=T;for(d.global||(d=F0(d.source,Me(Zr.exec(d))+"g")),d.lastIndex=0;M=d.exec(N);)var z=M.index;T=T.slice(0,z===n?S:z)}}else if(e.indexOf(Xt(d),S)!=S){var Q=T.lastIndexOf(d);Q>-1&&(T=T.slice(0,Q))}return T+u}function c1(e){return e=Me(e),e&&xn.test(e)?e.replace(dr,U9):e}var h1=Br(function(e,t,i){return e+(i?" ":"")+t.toUpperCase()}),Cl=tu("toUpperCase");function $u(e,t,i){return e=Me(e),t=i?n:t,t===n?P9(e)?V9(e):O9(e):e.match(t)||[]}var eo=Oe(function(e,t){try{return Yt(e,n,t)}catch(i){return wl(i)?i:new ge(i)}}),d1=Ln(function(e,t){return en(t,function(i){i=bn(i),Dn(e,i,ml(e[i],e))}),e});function p1(e){var t=e==null?0:e.length,i=ae();return e=t?Ye(e,function(u){if(typeof u[1]!="function")throw new tn(a);return[i(u[0]),u[1]]}):[],Oe(function(u){for(var d=-1;++d<t;){var v=e[d];if(Yt(v[0],this,u))return Yt(v[1],this,u)}})}function g1(e){return Ua(rn(e,w))}function Ol(e){return function(){return e}}function _1(e,t){return e==null||e!==e?t:e}var m1=ru(),v1=ru(!0);function Kt(e){return e}function El(e){return Ps(typeof e=="function"?e:rn(e,w))}function w1(e){return Ms(rn(e,w))}function b1(e,t){return Fs(e,rn(t,w))}var y1=Oe(function(e,t){return function(i){return si(i,e,t)}}),S1=Oe(function(e,t){return function(i){return si(e,i,t)}});function Al(e,t,i){var u=yt(t),d=Qi(t,u);i==null&&!(Xe(t)&&(d.length||!u.length))&&(i=t,t=e,e=this,d=Qi(t,yt(t)));var v=!(Xe(i)&&"chain"in i)||!!i.chain,y=Bn(e);return en(d,function(S){var T=t[S];e[S]=T,y&&(e.prototype[S]=function(){var M=this.__chain__;if(v||M){var N=e(this.__wrapped__),z=N.__actions__=Vt(this.__actions__);return z.push({func:T,args:arguments,thisArg:e}),N.__chain__=M,N}return T.apply(e,Vn([this.value()],arguments))})}),e}function C1(){return Et._===this&&(Et._=Y9),this}function Tl(){}function O1(e){return e=be(e),Oe(function(t){return Ns(t,e)})}var E1=il(Ye),A1=il(is),T1=il(R0);function to(e){return cl(e)?D0(bn(e)):tf(e)}function I1(e){return function(t){return e==null?n:sr(e,t)}}var R1=lu(),D1=lu(!0);function Il(){return[]}function Rl(){return!1}function k1(){return{}}function L1(){return""}function P1(){return!0}function B1(e,t){if(e=be(e),e<1||e>Le)return[];var i=Pe,u=kt(e,Pe);t=ae(t),e-=Pe;for(var d=P0(u,t);++i<e;)t(i);return d}function M1(e){return ve(e)?Ye(e,bn):Qt(e)?[e]:Vt(yu(Me(e)))}function F1(e){var t=++q9;return Me(e)+t}var N1=n0(function(e,t){return e+t},0),U1=ll("ceil"),W1=n0(function(e,t){return e/t},1),H1=ll("floor");function V1(e){return e&&e.length?Xi(e,Kt,K0):n}function z1(e,t){return e&&e.length?Xi(e,ae(t,2),K0):n}function G1(e){return us(e,Kt)}function K1(e,t){return us(e,ae(t,2))}function q1(e){return e&&e.length?Xi(e,Kt,Z0):n}function J1(e,t){return e&&e.length?Xi(e,ae(t,2),Z0):n}var Y1=n0(function(e,t){return e*t},1),Z1=ll("round"),X1=n0(function(e,t){return e-t},0);function Q1(e){return e&&e.length?L0(e,Kt):0}function j1(e,t){return e&&e.length?L0(e,ae(t,2)):0}return m.after=wh,m.ary=Lu,m.assign=sd,m.assignIn=Ju,m.assignInWith=g0,m.assignWith=ud,m.at=od,m.before=Pu,m.bind=ml,m.bindAll=d1,m.bindKey=Bu,m.castArray=kh,m.chain=Ru,m.chunk=Wf,m.compact=Hf,m.concat=Vf,m.cond=p1,m.conforms=g1,m.constant=Ol,m.countBy=Qc,m.create=ad,m.curry=Mu,m.curryRight=Fu,m.debounce=Nu,m.defaults=fd,m.defaultsDeep=cd,m.defer=bh,m.delay=yh,m.difference=zf,m.differenceBy=Gf,m.differenceWith=Kf,m.drop=qf,m.dropRight=Jf,m.dropRightWhile=Yf,m.dropWhile=Zf,m.fill=Xf,m.filter=xc,m.flatMap=th,m.flatMapDeep=nh,m.flatMapDepth=rh,m.flatten=Eu,m.flattenDeep=Qf,m.flattenDepth=jf,m.flip=Sh,m.flow=m1,m.flowRight=v1,m.fromPairs=xf,m.functions=vd,m.functionsIn=wd,m.groupBy=ih,m.initial=ec,m.intersection=tc,m.intersectionBy=nc,m.intersectionWith=rc,m.invert=yd,m.invertBy=Sd,m.invokeMap=sh,m.iteratee=El,m.keyBy=uh,m.keys=yt,m.keysIn=Gt,m.map=a0,m.mapKeys=Od,m.mapValues=Ed,m.matches=w1,m.matchesProperty=b1,m.memoize=c0,m.merge=Ad,m.mergeWith=Yu,m.method=y1,m.methodOf=S1,m.mixin=Al,m.negate=h0,m.nthArg=O1,m.omit=Td,m.omitBy=Id,m.once=Ch,m.orderBy=oh,m.over=E1,m.overArgs=Oh,m.overEvery=A1,m.overSome=T1,m.partial=vl,m.partialRight=Uu,m.partition=ah,m.pick=Rd,m.pickBy=Zu,m.property=to,m.propertyOf=I1,m.pull=uc,m.pullAll=Tu,m.pullAllBy=oc,m.pullAllWith=ac,m.pullAt=fc,m.range=R1,m.rangeRight=D1,m.rearg=Eh,m.reject=hh,m.remove=cc,m.rest=Ah,m.reverse=gl,m.sampleSize=ph,m.set=kd,m.setWith=Ld,m.shuffle=gh,m.slice=hc,m.sortBy=vh,m.sortedUniq=bc,m.sortedUniqBy=yc,m.split=t1,m.spread=Th,m.tail=Sc,m.take=Cc,m.takeRight=Oc,m.takeRightWhile=Ec,m.takeWhile=Ac,m.tap=Vc,m.throttle=Ih,m.thru=o0,m.toArray=Gu,m.toPairs=Xu,m.toPairsIn=Qu,m.toPath=M1,m.toPlainObject=qu,m.transform=Pd,m.unary=Rh,m.union=Tc,m.unionBy=Ic,m.unionWith=Rc,m.uniq=Dc,m.uniqBy=kc,m.uniqWith=Lc,m.unset=Bd,m.unzip=_l,m.unzipWith=Iu,m.update=Md,m.updateWith=Fd,m.values=Nr,m.valuesIn=Nd,m.without=Pc,m.words=$u,m.wrap=Dh,m.xor=Bc,m.xorBy=Mc,m.xorWith=Fc,m.zip=Nc,m.zipObject=Uc,m.zipObjectDeep=Wc,m.zipWith=Hc,m.entries=Xu,m.entriesIn=Qu,m.extend=Ju,m.extendWith=g0,Al(m,m),m.add=N1,m.attempt=eo,m.camelCase=Vd,m.capitalize=ju,m.ceil=U1,m.clamp=Ud,m.clone=Lh,m.cloneDeep=Bh,m.cloneDeepWith=Mh,m.cloneWith=Ph,m.conformsTo=Fh,m.deburr=xu,m.defaultTo=_1,m.divide=W1,m.endsWith=zd,m.eq=dn,m.escape=Gd,m.escapeRegExp=Kd,m.every=jc,m.find=$c,m.findIndex=Cu,m.findKey=hd,m.findLast=eh,m.findLastIndex=Ou,m.findLastKey=dd,m.floor=H1,m.forEach=Du,m.forEachRight=ku,m.forIn=pd,m.forInRight=gd,m.forOwn=_d,m.forOwnRight=md,m.get=yl,m.gt=Nh,m.gte=Uh,m.has=bd,m.hasIn=Sl,m.head=Au,m.identity=Kt,m.includes=lh,m.indexOf=$f,m.inRange=Wd,m.invoke=Cd,m.isArguments=ar,m.isArray=ve,m.isArrayBuffer=Wh,m.isArrayLike=zt,m.isArrayLikeObject=et,m.isBoolean=Hh,m.isBuffer=Zn,m.isDate=Vh,m.isElement=zh,m.isEmpty=Gh,m.isEqual=Kh,m.isEqualWith=qh,m.isError=wl,m.isFinite=Jh,m.isFunction=Bn,m.isInteger=Wu,m.isLength=d0,m.isMap=Hu,m.isMatch=Yh,m.isMatchWith=Zh,m.isNaN=Xh,m.isNative=Qh,m.isNil=xh,m.isNull=jh,m.isNumber=Vu,m.isObject=Xe,m.isObjectLike=$e,m.isPlainObject=hi,m.isRegExp=bl,m.isSafeInteger=$h,m.isSet=zu,m.isString=p0,m.isSymbol=Qt,m.isTypedArray=Fr,m.isUndefined=ed,m.isWeakMap=td,m.isWeakSet=nd,m.join=ic,m.kebabCase=qd,m.last=sn,m.lastIndexOf=lc,m.lowerCase=Jd,m.lowerFirst=Yd,m.lt=rd,m.lte=id,m.max=V1,m.maxBy=z1,m.mean=G1,m.meanBy=K1,m.min=q1,m.minBy=J1,m.stubArray=Il,m.stubFalse=Rl,m.stubObject=k1,m.stubString=L1,m.stubTrue=P1,m.multiply=Y1,m.nth=sc,m.noConflict=C1,m.noop=Tl,m.now=f0,m.pad=Zd,m.padEnd=Xd,m.padStart=Qd,m.parseInt=jd,m.random=Hd,m.reduce=fh,m.reduceRight=ch,m.repeat=xd,m.replace=$d,m.result=Dd,m.round=Z1,m.runInContext=E,m.sample=dh,m.size=_h,m.snakeCase=e1,m.some=mh,m.sortedIndex=dc,m.sortedIndexBy=gc,m.sortedIndexOf=_c,m.sortedLastIndex=mc,m.sortedLastIndexBy=vc,m.sortedLastIndexOf=wc,m.startCase=n1,m.startsWith=r1,m.subtract=X1,m.sum=Q1,m.sumBy=j1,m.template=i1,m.times=B1,m.toFinite=Mn,m.toInteger=be,m.toLength=Ku,m.toLower=l1,m.toNumber=un,m.toSafeInteger=ld,m.toString=Me,m.toUpper=s1,m.trim=u1,m.trimEnd=o1,m.trimStart=a1,m.truncate=f1,m.unescape=c1,m.uniqueId=F1,m.upperCase=h1,m.upperFirst=Cl,m.each=Du,m.eachRight=ku,m.first=Au,Al(m,function(){var e={};return vn(m,function(t,i){Fe.call(m.prototype,i)||(e[i]=t)}),e}(),{chain:!1}),m.VERSION=l,en(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){m[e].placeholder=m}),en(["drop","take"],function(e,t){Re.prototype[e]=function(i){i=i===n?1:ot(be(i),0);var u=this.__filtered__&&!t?new Re(this):this.clone();return u.__filtered__?u.__takeCount__=kt(i,u.__takeCount__):u.__views__.push({size:kt(i,Pe),type:e+(u.__dir__<0?"Right":"")}),u},Re.prototype[e+"Right"]=function(i){return this.reverse()[e](i).reverse()}}),en(["filter","map","takeWhile"],function(e,t){var i=t+1,u=i==we||i==Ce;Re.prototype[e]=function(d){var v=this.clone();return v.__iteratees__.push({iteratee:ae(d,3),type:i}),v.__filtered__=v.__filtered__||u,v}}),en(["head","last"],function(e,t){var i="take"+(t?"Right":"");Re.prototype[e]=function(){return this[i](1).value()[0]}}),en(["initial","tail"],function(e,t){var i="drop"+(t?"":"Right");Re.prototype[e]=function(){return this.__filtered__?new Re(this):this[i](1)}}),Re.prototype.compact=function(){return this.filter(Kt)},Re.prototype.find=function(e){return this.filter(e).head()},Re.prototype.findLast=function(e){return this.reverse().find(e)},Re.prototype.invokeMap=Oe(function(e,t){return typeof e=="function"?new Re(this):this.map(function(i){return si(i,e,t)})}),Re.prototype.reject=function(e){return this.filter(h0(ae(e)))},Re.prototype.slice=function(e,t){e=be(e);var i=this;return i.__filtered__&&(e>0||t<0)?new Re(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),t!==n&&(t=be(t),i=t<0?i.dropRight(-t):i.take(t-e)),i)},Re.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Re.prototype.toArray=function(){return this.take(Pe)},vn(Re.prototype,function(e,t){var i=/^(?:filter|find|map|reject)|While$/.test(t),u=/^(?:head|last)$/.test(t),d=m[u?"take"+(t=="last"?"Right":""):t],v=u||/^find/.test(t);!d||(m.prototype[t]=function(){var y=this.__wrapped__,S=u?[1]:arguments,T=y instanceof Re,M=S[0],N=T||ve(y),z=function(Te){var ke=d.apply(m,Vn([Te],S));return u&&Q?ke[0]:ke};N&&i&&typeof M=="function"&&M.length!=1&&(T=N=!1);var Q=this.__chain__,ie=!!this.__actions__.length,fe=v&&!Q,ye=T&&!ie;if(!v&&N){y=ye?y:new Re(this);var ce=e.apply(y,S);return ce.__actions__.push({func:o0,args:[z],thisArg:n}),new nn(ce,Q)}return fe&&ye?e.apply(this,S):(ce=this.thru(z),fe?u?ce.value()[0]:ce.value():ce)})}),en(["pop","push","shift","sort","splice","unshift"],function(e){var t=Bi[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",u=/^(?:pop|shift)$/.test(e);m.prototype[e]=function(){var d=arguments;if(u&&!this.__chain__){var v=this.value();return t.apply(ve(v)?v:[],d)}return this[i](function(y){return t.apply(ve(y)?y:[],d)})}}),vn(Re.prototype,function(e,t){var i=m[t];if(i){var u=i.name+"";Fe.call(kr,u)||(kr[u]=[]),kr[u].push({name:t,func:i})}}),kr[t0(n,V).name]=[{name:"wrapper",func:n}],Re.prototype.clone=aa,Re.prototype.reverse=fa,Re.prototype.value=ca,m.prototype.at=zc,m.prototype.chain=Gc,m.prototype.commit=Kc,m.prototype.next=qc,m.prototype.plant=Yc,m.prototype.reverse=Zc,m.prototype.toJSON=m.prototype.valueOf=m.prototype.value=Xc,m.prototype.first=m.prototype.head,$r&&(m.prototype[$r]=Jc),m},Ir=z9();tr?((tr.exports=Ir)._=Ir,E0._=Ir):Et._=Ir}).call(Ur)})(kl,kl.exports);const so=kl.exports;function uo(o){let r,n,l;return{c(){r=W("input"),this.h()},l(s){r=H(s,"INPUT",{class:!0,accept:!0,id:!0,name:!0,type:!0,style:!0}),this.h()},h(){C(r,"class","file-upload svelte-eh0sdt"),C(r,"accept","image/png, image/jpeg"),C(r,"id","avatar"),C(r,"name","avatar"),C(r,"type","file"),I(r,"display","none")},m(s,f){j(s,r,f),o[21](r),n||(l=[Ie(r,"change",o[16]),Ie(r,"change",o[22])],n=!0)},p:Qe,d(s){s&&O(r),o[21](null),n=!1,cr(l)}}}function oo(o){let r,n,l,s;return{c(){r=W("iframe"),this.h()},l(f){r=H(f,"IFRAME",{class:!0,src:!0,scrolling:!0,frameborder:!0,style:!0,title:!0}),F(r).forEach(O),this.h()},h(){C(r,"class","user_frame"),yn(r.src,n="./src/lib/user/iframe.svelte?em="+o[1].email+"&abonent="+o[3].abonent)||C(r,"src",n),C(r,"scrolling","no"),C(r,"frameborder","0"),I(r,"position","absolute"),I(r,"width","100%"),I(r,"top","0"),I(r,"left","0"),C(r,"title","")},m(f,a){j(f,r,a),l||(s=Ie(r,"load",o[19]),l=!0)},p(f,a){a[0]&10&&!yn(r.src,n="./src/lib/user/iframe.svelte?em="+f[1].email+"&abonent="+f[3].abonent)&&C(r,"src",n)},d(f){f&&O(r),l=!1,s()}}}function ao(o){let r,n=o[0].admin.email===o[3].email&&o[3].email!==o[1].email&&o[1].role==="operator"&&fo(o);return{c(){n&&n.c(),r=st()},l(l){n&&n.l(l),r=st()},m(l,s){n&&n.m(l,s),j(l,r,s)},p(l,s){l[0].admin.email===l[3].email&&l[3].email!==l[1].email&&l[1].role==="operator"?n?n.p(l,s):(n=fo(l),n.c(),n.m(r.parentNode,r)):n&&(n.d(1),n=null)},d(l){n&&n.d(l),l&&O(r)}}}function fo(o){let r,n,l,s,f,a;return{c(){r=He("svg"),n=He("glyph"),l=He("g"),s=He("path"),this.h()},l(c){r=Ve(c,"svg",{height:!0,width:!0,style:!0});var p=F(r);n=Ve(p,"glyph",{"glyph-name":!0,unicode:!0,"horiz-adv-x":!0}),F(n).forEach(O),l=Ve(p,"g",{class:!0});var h=F(l);s=Ve(h,"path",{d:!0,transform:!0,style:!0}),F(s).forEach(O),h.forEach(O),p.forEach(O),this.h()},h(){C(n,"glyph-name","minus-circle"),C(n,"unicode","\uEFC0"),C(n,"horiz-adv-x","50"),C(s,"d","M500.2 62.5c-241.8 0-437.7 195.89999999999998-437.7 437.3 0 241.8 195.89999999999998 437.7 437.7 437.7 241.40000000000003 0 437.3-195.89999999999998 437.3-437.7 0-241.40000000000003-195.89999999999998-437.3-437.3-437.3z m301.59999999999997 466.5c-0.6999999999999318 9-2.199999999999932 19.100000000000023-4.699999999999932 30.299999999999955h-593.9000000000001c-2.499999999999943-11.199999999999932-4.299999999999926-21.699999999999932-5.0999999999999375-31.399999999999977-0.6999999999999886-9.699999999999932-1.0999999999999943-19.799999999999955-1.0999999999999943-30.299999999999955 0-9 0.4000000000000057-18 1.0999999999999943-26.700000000000045 0.700000000000017-9 2.5-19.099999999999966 5.099999999999994-30.299999999999955h593.9000000000001c2.4999999999998863 11.199999999999989 3.9999999999998863 21.599999999999966 4.699999999999818 31.399999999999977 1.1000000000000227 9.699999999999989 1.400000000000091 19.80000000000001 1.400000000000091 30.30000000000001 0.09999999999990905 9.099999999999966-0.3000000000000682 17.69999999999999-1.400000000000091 26.69999999999999z"),C(s,"transform","scale(.03)"),I(s,"fill","lightgrey"),I(s,"stroke","black"),I(s,"stroke-width","20px"),C(l,"class","currentLayer"),C(r,"height","30"),C(r,"width","30"),I(r,"position","absolute"),I(r,"bottom","-15px"),I(r,"left","-9px")},m(c,p){j(c,r,p),A(r,n),A(r,l),A(l,s),f||(a=Ie(r,"click",function(){m0(o[18](o[1]))&&o[18](o[1]).apply(this,arguments)}),f=!0)},p(c,p){o=c},d(c){c&&O(r),f=!1,a()}}}function co(o){let r,n,l,s,f;return{c(){r=W("input"),n=ne(),l=W("input"),this.h()},l(a){r=H(a,"INPUT",{type:!0,class:!0,placeholder:!0,style:!0}),n=re(a),l=H(a,"INPUT",{type:!0,class:!0,placeholder:!0,style:!0}),this.h()},h(){C(r,"type","text"),C(r,"class","user_name svelte-eh0sdt"),C(r,"placeholder",o[6]),r.readOnly=o[12],I(r,"width","80%"),C(l,"type","text"),C(l,"class","user_email svelte-eh0sdt"),C(l,"placeholder",o[7]),l.readOnly=o[13],I(l,"width","100%"),I(l,"max-height","100px")},m(a,c){j(a,r,c),Xn(r,o[1].name),j(a,n,c),j(a,l,c),Xn(l,o[1].email),s||(f=[Ie(r,"change",o[17]),Ie(r,"input",o[23]),Ie(l,"change",o[17]),Ie(l,"input",o[24])],s=!0)},p(a,c){c[0]&64&&C(r,"placeholder",a[6]),c[0]&4096&&(r.readOnly=a[12]),c[0]&2&&r.value!==a[1].name&&Xn(r,a[1].name),c[0]&128&&C(l,"placeholder",a[7]),c[0]&8192&&(l.readOnly=a[13]),c[0]&2&&l.value!==a[1].email&&Xn(l,a[1].email)},d(a){a&&O(r),a&&O(n),a&&O(l),s=!1,cr(f)}}}function ho(o){let r,n,l;function s(a){o[26](a)}let f={operator:o[1].email,$$slots:{default:[cp]},$$scope:{ctx:o}};return o[11]!==void 0&&(f.status=o[11]),r=new up({props:f}),Ze.push(()=>Tt(r,"status",s)),{c(){at(r.$$.fragment)},l(a){ft(r.$$.fragment,a)},m(a,c){ct(r,a,c),l=!0},p(a,c){const p={};c[0]&2&&(p.operator=a[1].email),c[1]&512&&(p.$$scope={dirty:c,ctx:a}),!n&&c[0]&2048&&(n=!0,p.status=a[11],It(()=>n=!1)),r.$set(p)},i(a){l||(ue(r.$$.fragment,a),l=!0)},o(a){pe(r.$$.fragment,a),l=!1},d(a){ht(r,a)}}}function cp(o){let r,n;return{c(){r=W("img"),this.h()},l(l){r=H(l,"IMG",{src:!0,alt:!0,width:!0,height:!0}),this.h()},h(){yn(r.src,n="./src/routes/assets/call-forward.svg")||C(r,"src",n),C(r,"alt","call-forward"),C(r,"width","30px"),C(r,"height","30px")},m(l,s){j(l,r,s)},p:Qe,d(l){l&&O(r)}}}function po(o){let r,n;return r=new fp({props:{status:o[11],operator:o[1].email,$$slots:{default:[hp]},$$scope:{ctx:o}}}),{c(){at(r.$$.fragment)},l(l){ft(r.$$.fragment,l)},m(l,s){ct(r,l,s),n=!0},p(l,s){const f={};s[0]&2048&&(f.status=l[11]),s[0]&2&&(f.operator=l[1].email),s[1]&512&&(f.$$scope={dirty:s,ctx:l}),r.$set(f)},i(l){n||(ue(r.$$.fragment,l),n=!0)},o(l){pe(r.$$.fragment,l),n=!1},d(l){ht(r,l)}}}function hp(o){let r,n;return{c(){r=W("img"),this.h()},l(l){r=H(l,"IMG",{src:!0,alt:!0,width:!0,height:!0}),this.h()},h(){yn(r.src,n="./src/routes/assets/file-transfer.svg")||C(r,"src",n),C(r,"alt","file-transfer"),C(r,"width","30px"),C(r,"height","30px")},m(l,s){j(l,r,s)},p:Qe,d(l){l&&O(r)}}}function dp(o){let r,n,l,s,f,a,c,p,h,g,w,_,b,P,k,U,V,Y=o[2]&&uo(o),J=o[1].email&&o[3].email!==o[1].email&&oo(o),B=o[2]&&ao(o),q=o[10]&&co(o),R=o[11]==="talk"&&o[5]==="active"&&o[1].email!==o[3].email&&ho(o),x=(o[5]==="talk"||o[11]==="talk"&&o[1].email===o[3].email)&&po(o);return{c(){r=W("div"),n=W("div"),l=W("img"),f=ne(),Y&&Y.c(),a=ne(),J&&J.c(),c=ne(),B&&B.c(),p=ne(),h=W("div"),q&&q.c(),g=ne(),w=W("textarea"),_=ne(),b=W("div"),R&&R.c(),P=ne(),x&&x.c(),this.h()},l(Z){r=H(Z,"DIV",{style:!0});var se=F(r);n=H(se,"DIV",{class:!0,style:!0});var De=F(n);l=H(De,"IMG",{class:!0,src:!0,alt:!0,style:!0}),f=re(De),Y&&Y.l(De),a=re(De),J&&J.l(De),c=re(De),B&&B.l(De),De.forEach(O),p=re(se),h=H(se,"DIV",{style:!0});var Se=F(h);q&&q.l(Se),g=re(Se),w=H(Se,"TEXTAREA",{type:!0,rows:!0,class:!0,placeholder:!0,style:!0}),F(w).forEach(O),Se.forEach(O),_=re(se),b=H(se,"DIV",{style:!0});var Ae=F(b);R&&R.l(Ae),P=re(Ae),x&&x.l(Ae),Ae.forEach(O),se.forEach(O),this.h()},h(){C(l,"class","user_pic is-rounded"),yn(l.src,s=o[1].picture.medium)||C(l,"src",s),C(l,"alt",""),I(l,"border-radius","5px"),I(l,"float","right"),I(l,"max-width","100%"),C(n,"class","user_pic_div"),I(n,"position","relative"),I(n,"width","100px"),C(w,"type","text"),C(w,"rows","3"),C(w,"class","user_desc svelte-eh0sdt"),C(w,"placeholder",o[8]),w.readOnly=o[12],I(w,"width","85%"),I(w,"overflow","auto"),I(w,"max-height","100px"),I(w,"resize","none"),I(h,"flex","1"),I(h,"margin-left","10px"),I(b,"display","flex"),I(b,"flex-flow","row nowrap"),I(b,"align-items","flex-start"),I(b,"flex-direction","column"),I(r,"display","flex"),I(r,"flex-wrap","nowrap"),I(r,"justify-content","space-between"),I(r,"padding","4px")},m(Z,se){j(Z,r,se),A(r,n),A(n,l),A(n,f),Y&&Y.m(n,null),A(n,a),J&&J.m(n,null),A(n,c),B&&B.m(n,null),A(r,p),A(r,h),q&&q.m(h,null),A(h,g),A(h,w),Xn(w,o[1].desc),A(r,_),A(r,b),R&&R.m(b,null),A(b,P),x&&x.m(b,null),o[27](r),k=!0,U||(V=[Ie(l,"click",o[15]),Ie(w,"change",o[17]),Ie(w,"input",o[25])],U=!0)},p(Z,se){(!k||se[0]&2&&!yn(l.src,s=Z[1].picture.medium))&&C(l,"src",s),Z[2]?Y?Y.p(Z,se):(Y=uo(Z),Y.c(),Y.m(n,a)):Y&&(Y.d(1),Y=null),Z[1].email&&Z[3].email!==Z[1].email?J?J.p(Z,se):(J=oo(Z),J.c(),J.m(n,c)):J&&(J.d(1),J=null),Z[2]?B?B.p(Z,se):(B=ao(Z),B.c(),B.m(n,null)):B&&(B.d(1),B=null),Z[10]?q?q.p(Z,se):(q=co(Z),q.c(),q.m(h,g)):q&&(q.d(1),q=null),(!k||se[0]&256)&&C(w,"placeholder",Z[8]),(!k||se[0]&4096)&&(w.readOnly=Z[12]),se[0]&2&&Xn(w,Z[1].desc),Z[11]==="talk"&&Z[5]==="active"&&Z[1].email!==Z[3].email?R?(R.p(Z,se),se[0]&2090&&ue(R,1)):(R=ho(Z),R.c(),ue(R,1),R.m(b,P)):R&&(Sn(),pe(R,1,1,()=>{R=null}),Cn()),Z[5]==="talk"||Z[11]==="talk"&&Z[1].email===Z[3].email?x?(x.p(Z,se),se[0]&2090&&ue(x,1)):(x=po(Z),x.c(),ue(x,1),x.m(b,null)):x&&(Sn(),pe(x,1,1,()=>{x=null}),Cn())},i(Z){k||(ue(R),ue(x),k=!0)},o(Z){pe(R),pe(x),k=!1},d(Z){Z&&O(r),Y&&Y.d(),J&&J.d(),B&&B.d(),q&&q.d(),R&&R.d(),x&&x.d(),o[27](null),U=!1,cr(V)}}}function pp(o,r,n){let l,s;on(o,v0,le=>n(30,l=le)),on(o,_i,le=>n(31,le)),on(o,fr,le=>n(32,s=le));let f=s,{operator:a}=r,{id:c}=r,{dep:p}=r,{user:h}=r,g,w,_,b,P,k,U=x1("dict");U=new np(U),U&&(_=U.getValByKey(f,"input operator name"),b=U.getValByKey(f,"input operator email"),P=U.getValByKey(f,"input description"));let V="";w0.subscribe(le=>{n(11,V=le)});let Y=l,{edited_display:J}=r,B=!0,q=!0;const R=pi.subscribe(le=>{n(2,J=le),n(12,B=!J),n(13,q=!J)});gi(R),h.email=h.email?h.email:"";const x=le=>le?le.replace(/^([a-z])/,(de,K)=>K.toUpperCase()):"";h.name=x(h.name);let Z;Nn(()=>{h.email&&a.email===h.email&&Ho.set(Z)});function se(le){le.data.status&&n(5,w=le.data.status)}function De(le){let de=new MouseEvent("click",{bubbles:!1,cancelable:!0,view:window});k&&k.dispatchEvent(de)}let Se,Ae;function te(le){try{rp(le.target.files[0],function(de,K){de.type==="error"?console.error("Error loading image "):(Se=de.width,Ae=de.height,n(1,h.picture.medium=de.toDataURL(),h),we())},{orientation:!0,maxWidth:100,maxHeight:100,minWidth:50,minHeight:50,canvas:!0})}catch(de){console.log(de)}}async function we(le){let de={};de.proj="kolmit",de.func="changeoper",de.abonent=a.abonent,de.em=a.email,de.dep_id=p.id,de.psw=Y,de.data=h,de.lang=f,fetch("/api/edit_cc/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({par:de})})}async function X(le){let de=p.staff[c];if(!!de&&confirm("Delete "+de.name)){let K={};K.proj="kolmit",K.func="remoper",K.em=a.email,K.id=de.id,K.dep=p.id,K.lang=f,K.abonent=a.abonent,K.psw=Y;const rt=await(await fetch("/api/edit_cc/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({par:K})})).json();n(0,p.staff=rt.dep.staff,p)}}function Ce(le){let de=le.currentTarget;de.previousElementSibling.getBoundingClientRect(),de.contentWindow.postMessage(JSON.stringify({message:"this should be delivered to an iframe"})),de.contentWindow.addEventListener?de.contentWindow.addEventListener("message",se):de.contentWindow.attachEvent("onmessage",se)}function Ee(le){Ze[le?"unshift":"push"](()=>{k=le,n(9,k)})}function Le(){g=this.files,n(4,g)}function Ke(){h.name=this.value,n(1,h)}function _t(){h.email=this.value,n(1,h)}function Pe(){h.desc=this.value,n(1,h)}function qe(le){V=le,n(11,V)}function mt(le){Ze[le?"unshift":"push"](()=>{Z=le,n(14,Z)})}return o.$$set=le=>{"operator"in le&&n(3,a=le.operator),"id"in le&&n(20,c=le.id),"dep"in le&&n(0,p=le.dep),"user"in le&&n(1,h=le.user),"edited_display"in le&&n(2,J=le.edited_display)},[p,h,J,a,g,w,_,b,P,k,U,V,B,q,Z,De,te,we,X,Ce,c,Ee,Le,Ke,_t,Pe,qe,mt]}class Ko extends dt{constructor(r){super(),pt(this,r,pp,dp,gt,{operator:3,id:20,dep:0,user:1,edited_display:2},null,[-1,-1])}}function go(o,r,n){const l=o.slice();return l[32]=r[n],l[33]=r,l[34]=n,l}function _o(o){let r,n,l,s,f,a=o[1]&&mo(o);return{c(){r=W("button"),n=W("input"),l=ne(),a&&a.c(),this.h()},l(c){r=H(c,"BUTTON",{class:!0,owner:!0});var p=F(r);n=H(p,"INPUT",{type:!0,style:!0,placeholder:!0,class:!0}),l=re(p),a&&a.l(p),p.forEach(O),this.h()},h(){C(n,"type","text"),n.readOnly=o[10],I(n,"border-width","0px"),C(n,"placeholder","input dep name"),C(n,"class","svelte-cyf6cu"),C(r,"class","collapsible svelte-cyf6cu"),C(r,"owner",o[2])},m(c,p){j(c,r,p),A(r,n),Xn(n,o[0].alias),A(r,l),a&&a.m(r,null),o[16](r),s||(f=[Ie(n,"change",function(){m0(o[13]({dep:o[0]}))&&o[13]({dep:o[0]}).apply(this,arguments)}),Ie(n,"click",o[12]),Ie(n,"input",o[15]),Ie(r,"click",o[14])],s=!0)},p(c,p){o=c,p[0]&1024&&(n.readOnly=o[10]),p[0]&1&&n.value!==o[0].alias&&Xn(n,o[0].alias),o[1]?a?a.p(o,p):(a=mo(o),a.c(),a.m(r,null)):a&&(a.d(1),a=null),p[0]&4&&C(r,"owner",o[2])},d(c){c&&O(r),a&&a.d(),o[16](null),s=!1,cr(f)}}}function mo(o){let r,n=o[3].email===o[3].abonent&&vo(o);return{c(){n&&n.c(),r=st()},l(l){n&&n.l(l),r=st()},m(l,s){n&&n.m(l,s),j(l,r,s)},p(l,s){l[3].email===l[3].abonent?n?n.p(l,s):(n=vo(l),n.c(),n.m(r.parentNode,r)):n&&(n.d(1),n=null)},d(l){n&&n.d(l),l&&O(r)}}}function vo(o){let r,n,l,s,f,a;return{c(){r=He("svg"),n=He("glyph"),l=He("g"),s=He("path"),this.h()},l(c){r=Ve(c,"svg",{height:!0,width:!0,style:!0});var p=F(r);n=Ve(p,"glyph",{"glyph-name":!0,unicode:!0,"horiz-adv-x":!0}),F(n).forEach(O),l=Ve(p,"g",{class:!0});var h=F(l);s=Ve(h,"path",{d:!0,transform:!0,style:!0}),F(s).forEach(O),h.forEach(O),p.forEach(O),this.h()},h(){C(n,"glyph-name","minus-circle"),C(n,"unicode","\uEFC0"),C(n,"horiz-adv-x","50"),C(s,"d","M500.2 62.5c-241.8 0-437.7 195.89999999999998-437.7 437.3 0 241.8 195.89999999999998 437.7 437.7 437.7 241.40000000000003 0 437.3-195.89999999999998 437.3-437.7 0-241.40000000000003-195.89999999999998-437.3-437.3-437.3z m301.59999999999997 466.5c-0.6999999999999318 9-2.199999999999932 19.100000000000023-4.699999999999932 30.299999999999955h-593.9000000000001c-2.499999999999943-11.199999999999932-4.299999999999926-21.699999999999932-5.0999999999999375-31.399999999999977-0.6999999999999886-9.699999999999932-1.0999999999999943-19.799999999999955-1.0999999999999943-30.299999999999955 0-9 0.4000000000000057-18 1.0999999999999943-26.700000000000045 0.700000000000017-9 2.5-19.099999999999966 5.099999999999994-30.299999999999955h593.9000000000001c2.4999999999998863 11.199999999999989 3.9999999999998863 21.599999999999966 4.699999999999818 31.399999999999977 1.1000000000000227 9.699999999999989 1.400000000000091 19.80000000000001 1.400000000000091 30.30000000000001 0.09999999999990905 9.099999999999966-0.3000000000000682 17.69999999999999-1.400000000000091 26.69999999999999z"),C(s,"transform","scale(.03)"),I(s,"fill","lightgrey"),I(s,"stroke","black"),I(s,"stroke-width","20px"),C(l,"class","currentLayer"),C(r,"height","30"),C(r,"width","30"),I(r,"position","relative"),I(r,"float","right")},m(c,p){j(c,r,p),A(r,n),A(r,l),A(l,s),f||(a=Ie(r,"click",function(){m0(o[6](o[0].id))&&o[6](o[0].id).apply(this,arguments)}),f=!0)},p(c,p){o=c},d(c){c&&O(r),f=!1,a()}}}function wo(o){let r,n,l,s,f,a;function c(w){o[17](w)}function p(w){o[18](w)}function h(w){o[19](w)}let g={id:o[0].admin.id,operator:o[3],update:o[4],readonly:o[10]};return o[9]!==void 0&&(g.status=o[9]),o[0]!==void 0&&(g.dep=o[0]),o[0].admin!==void 0&&(g.user=o[0].admin),n=new Ko({props:g}),Ze.push(()=>Tt(n,"status",c)),Ze.push(()=>Tt(n,"dep",p)),Ze.push(()=>Tt(n,"user",h)),{c(){r=W("div"),at(n.$$.fragment)},l(w){r=H(w,"DIV",{});var _=F(r);ft(n.$$.fragment,_),_.forEach(O)},m(w,_){j(w,r,_),ct(n,r,null),a=!0},p(w,_){const b={};_[0]&1&&(b.id=w[0].admin.id),_[0]&8&&(b.operator=w[3]),_[0]&16&&(b.update=w[4]),_[0]&1024&&(b.readonly=w[10]),!l&&_[0]&512&&(l=!0,b.status=w[9],It(()=>l=!1)),!s&&_[0]&1&&(s=!0,b.dep=w[0],It(()=>s=!1)),!f&&_[0]&1&&(f=!0,b.user=w[0].admin,It(()=>f=!1)),n.$set(b)},i(w){a||(ue(n.$$.fragment,w),a=!0)},o(w){pe(n.$$.fragment,w),a=!1},d(w){w&&O(r),ht(n)}}}function bo(o){let r,n,l=o[0].staff,s=[];for(let a=0;a<l.length;a+=1)s[a]=So(go(o,l,a));const f=a=>pe(s[a],1,1,()=>{s[a]=null});return{c(){for(let a=0;a<s.length;a+=1)s[a].c();r=st()},l(a){for(let c=0;c<s.length;c+=1)s[c].l(a);r=st()},m(a,c){for(let p=0;p<s.length;p+=1)s[p].m(a,c);j(a,r,c),n=!0},p(a,c){if(c[0]&1565){l=a[0].staff;let p;for(p=0;p<l.length;p+=1){const h=go(a,l,p);s[p]?(s[p].p(h,c),ue(s[p],1)):(s[p]=So(h),s[p].c(),ue(s[p],1),s[p].m(r.parentNode,r))}for(Sn(),p=l.length;p<s.length;p+=1)f(p);Cn()}},i(a){if(!n){for(let c=0;c<l.length;c+=1)ue(s[c]);n=!0}},o(a){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)pe(s[c]);n=!1},d(a){Pl(s,a),a&&O(r)}}}function yo(o){let r,n,l,s,f,a,c;function p(_){o[20](_)}function h(_){o[21](_)}function g(_){o[22](_,o[32],o[33],o[34])}let w={id:o[34],operator:o[3],update:o[4],readonly:o[10]};return o[9]!==void 0&&(w.status=o[9]),o[0]!==void 0&&(w.dep=o[0]),o[32]!==void 0&&(w.user=o[32]),r=new Ko({props:w}),Ze.push(()=>Tt(r,"status",p)),Ze.push(()=>Tt(r,"dep",h)),Ze.push(()=>Tt(r,"user",g)),{c(){at(r.$$.fragment),f=ne(),a=W("br")},l(_){ft(r.$$.fragment,_),f=re(_),a=H(_,"BR",{})},m(_,b){ct(r,_,b),j(_,f,b),j(_,a,b),c=!0},p(_,b){o=_;const P={};b[0]&8&&(P.operator=o[3]),b[0]&16&&(P.update=o[4]),b[0]&1024&&(P.readonly=o[10]),!n&&b[0]&512&&(n=!0,P.status=o[9],It(()=>n=!1)),!l&&b[0]&1&&(l=!0,P.dep=o[0],It(()=>l=!1)),!s&&b[0]&1&&(s=!0,P.user=o[32],It(()=>s=!1)),r.$set(P)},i(_){c||(ue(r.$$.fragment,_),c=!0)},o(_){pe(r.$$.fragment,_),c=!1},d(_){ht(r,_),_&&O(f),_&&O(a)}}}function So(o){let r,n,l=(o[32].email||!o[32].email&&o[2]===o[3].email)&&yo(o);return{c(){l&&l.c(),r=st()},l(s){l&&l.l(s),r=st()},m(s,f){l&&l.m(s,f),j(s,r,f),n=!0},p(s,f){s[32].email||!s[32].email&&s[2]===s[3].email?l?(l.p(s,f),f[0]&13&&ue(l,1)):(l=yo(s),l.c(),ue(l,1),l.m(r.parentNode,r)):l&&(Sn(),pe(l,1,1,()=>{l=null}),Cn())},i(s){n||(ue(l),n=!0)},o(s){pe(l),n=!1},d(s){l&&l.d(s),s&&O(r)}}}function Co(o){let r,n,l,s,f,a,c,p;return{c(){r=W("div"),n=He("svg"),l=He("title"),s=_e("add-user"),f=He("glyph"),a=He("path"),this.h()},l(h){r=H(h,"DIV",{class:!0,style:!0});var g=F(r);n=Ve(g,"svg",{style:!0});var w=F(n);l=Ve(w,"title",{});var _=F(l);s=me(_,"add-user"),_.forEach(O),f=Ve(w,"glyph",{"glyph-name":!0,unicode:!0,"horiz-adv-x":!0}),F(f).forEach(O),a=Ve(w,"path",{d:!0,transform:!0,style:!0}),F(a).forEach(O),w.forEach(O),g.forEach(O),this.h()},h(){C(f,"glyph-name","contact-add"),C(f,"unicode","\uEFC0"),C(f,"horiz-adv-x","50"),C(a,"d","M134.1 761.6c-14.5 0-26.39999999999999-11.899999999999977-26.39999999999999-26.399999999999977v-523.5c0-14.500000000000057 11.899999999999991-26.400000000000034 26.39999999999999-26.400000000000034h639.8c14.5 0 26.399999999999977 11.899999999999977 26.399999999999977 26.399999999999977v239.40000000000003c15.800000000000068 2.3999999999999773 30.90000000000009 6.2999999999999545 45.40000000000009 11.899999999999977v-288.7c0-14.5-11.900000000000091-26.400000000000006-26.40000000000009-26.400000000000006h-730.4c-14.499999999999972 0-26.399999999999977 11.900000000000006-26.399999999999977 26.400000000000006v598.7c0 14.399999999999977 11.900000000000006 26.299999999999955 26.400000000000006 26.299999999999955h479.30000000000007c-7.400000000000091-11.899999999999977-13.700000000000045-24.59999999999991-18.700000000000045-37.69999999999993h-415.4z m164.70000000000002-245h-19.400000000000034c-41.69999999999999 0-75.39999999999998 33.799999999999955-75.39999999999998 75.39999999999998v21c0 13.100000000000023 10.699999999999989 23.799999999999955 23.80000000000001 23.799999999999955h251.7c13.100000000000023 0 23.899999999999977-10.699999999999932 23.899999999999977-23.799999999999955v-21c0-41.60000000000002-33.799999999999955-75.39999999999998-75.39999999999998-75.39999999999998h-19.600000000000023c-10.099999999999966 0-18.299999999999955-8.100000000000023-18.299999999999955-18.30000000000001 0-3.8000000000000114 1.5-7.300000000000011 4.199999999999989-10 11.300000000000011-11 20.899999999999977-25.80000000000001 27.69999999999999-41.80000000000001 1.5 1.1000000000000227 2.8999999999999773 1.8000000000000114 4.5 1.8000000000000114 10.899999999999977 0 23.80000000000001-24.19999999999999 23.80000000000001-40.80000000000001 0-16.399999999999977-1.5-29.80000000000001-12.300000000000011-29.80000000000001-1.3000000000000114 0-2.8000000000000114 0.30000000000001137-4 0.6000000000000227-0.8000000000000114-44.69999999999999-12.100000000000023-100.40000000000003-80.30000000000001-100.40000000000003-71.19999999999999 0-79.5 55.60000000000002-80.19999999999999 100.20000000000005-1-0.20000000000004547-2-0.4000000000000341-2.8999999999999773-0.4000000000000341-11 0-12.5 13.400000000000034-12.5 29.80000000000001 0 16.5 12.899999999999977 40.80000000000001 23.799999999999955 40.80000000000001 1.3000000000000114 0 2.6000000000000227-0.4000000000000341 3.8000000000000114-1.1000000000000227 6.800000000000011 15.699999999999989 16.19999999999999 30.30000000000001 27.30000000000001 41 2.8000000000000114 2.6000000000000227 4.199999999999989 6.300000000000011 4.199999999999989 10-0.19999999999998863 10.199999999999989-8.399999999999977 18.400000000000034-18.399999999999977 18.400000000000034z m381.2-189.3c0-9.699999999999989-7.899999999999977-17.80000000000001-17.799999999999955-17.80000000000001h-211.00000000000006c6 13.600000000000023 10.300000000000011 30.100000000000023 12.199999999999989 50.60000000000002 4.600000000000023 2.8999999999999773 7.900000000000034 7.399999999999977 10.700000000000045 12.799999999999955h188.10000000000002c9.699999999999932 0 17.799999999999955-7.899999999999977 17.799999999999955-17.599999999999966v-28z m-2.1000000000000227 151.09999999999997c1.1000000000000227-2.3999999999999773 2.1000000000000227-5 2.1000000000000227-7.699999999999989v-28c0-9.699999999999989-7.899999999999977-17.80000000000001-17.799999999999955-17.80000000000001h-183.80000000000007c-5 18.900000000000034-17.099999999999966 38.700000000000045-34.299999999999955 43.900000000000034l-1.6000000000000227 2.8000000000000114v16.69999999999999h213.20000000000005c7.2999999999999545-3.6999999999999886 14.699999999999932-7 22.199999999999932-9.900000000000034z m-125 125.10000000000002c8.899999999999977-23.299999999999955 21.5-44.5 37.39999999999998-63.200000000000045h-71.69999999999993c9.399999999999977 15 15.100000000000023 32.700000000000045 15.100000000000023 51.60000000000002v11.5h19.199999999999932v0.10000000000002274z m332.20000000000005-55.39999999999998c-30.700000000000045-31.100000000000023-73.10000000000002-50.60000000000002-119.70000000000005-52.400000000000034h-6.2999999999999545c-49.700000000000045 0-94 19.900000000000034-126.5 52.400000000000034-32.10000000000002 32.10000000000002-52.39999999999998 76.79999999999995-52.39999999999998 126 0 25.299999999999955 5.399999999999977 49.299999999999955 14.899999999999977 71 9 20.699999999999932 21.699999999999932 39.69999999999993 37.5 55.60000000000002 32.5 32.09999999999991 76.79999999999995 52 126.5 52 98.39999999999998 0 178.39999999999998-80 178.39999999999998-178.4000000000001 0-49.39999999999998-19.899999999999977-94.09999999999991-52.39999999999998-126.19999999999993z m-41.60000000000002 152.19999999999993h-58.700000000000045v58.30000000000007h-52v-58.30000000000007h-58.299999999999955v-52.39999999999998h58.299999999999955v-58.299999999999955h52v58.299999999999955h58.700000000000045v52.39999999999998z"),C(a,"transform","scale(.04)"),I(a,"fill","grey"),I(n,"position","relative"),I(n,"left","45%"),I(n,"height","40, width=40"),C(r,"class","add_oper"),I(r,"display",o[8])},m(h,g){j(h,r,g),A(r,n),A(n,l),A(l,s),A(n,f),A(n,a),c||(p=Ie(r,"click",o[5]),c=!0)},p(h,g){g[0]&256&&I(r,"display",h[8])},d(h){h&&O(r),c=!1,p()}}}function gp(o){let r,n,l,s,f,a,c,p=o[0].id!=="0"&&_o(o),h=o[0].admin&&wo(o),g=o[0].staff&&bo(o),w=o[1]&&Co(o);return{c(){p&&p.c(),r=ne(),n=W("div"),l=W("br"),s=ne(),h&&h.c(),f=ne(),g&&g.c(),a=ne(),w&&w.c(),this.h()},l(_){p&&p.l(_),r=re(_),n=H(_,"DIV",{class:!0,style:!0});var b=F(n);l=H(b,"BR",{}),s=re(b),h&&h.l(b),f=re(b),g&&g.l(b),a=re(b),w&&w.l(b),b.forEach(O),this.h()},h(){C(n,"class","content svelte-cyf6cu"),I(n,"max-height","0px")},m(_,b){p&&p.m(_,b),j(_,r,b),j(_,n,b),A(n,l),A(n,s),h&&h.m(n,null),A(n,f),g&&g.m(n,null),A(n,a),w&&w.m(n,null),o[23](n),c=!0},p(_,b){_[0].id!=="0"?p?p.p(_,b):(p=_o(_),p.c(),p.m(r.parentNode,r)):p&&(p.d(1),p=null),_[0].admin?h?(h.p(_,b),b[0]&1&&ue(h,1)):(h=wo(_),h.c(),ue(h,1),h.m(n,f)):h&&(Sn(),pe(h,1,1,()=>{h=null}),Cn()),_[0].staff?g?(g.p(_,b),b[0]&1&&ue(g,1)):(g=bo(_),g.c(),ue(g,1),g.m(n,a)):g&&(Sn(),pe(g,1,1,()=>{g=null}),Cn()),_[1]?w?w.p(_,b):(w=Co(_),w.c(),w.m(n,null)):w&&(w.d(1),w=null)},i(_){c||(ue(h),ue(g),c=!0)},o(_){pe(h),pe(g),c=!1},d(_){p&&p.d(_),_&&O(r),_&&O(n),h&&h.d(),g&&g.d(),w&&w.d(),o[23](null)}}}function _p(o,r,n){let l;on(o,w0,X=>n(26,l=X)),on(o,_i,X=>n(27,X));let{dep:s}=r,{owner:f}=r,{operator:a}=r,c,p="none",h=l,g=!1,w;Nn(()=>{s.id==="0"&&n(11,w.style.maxHeight=200+w.scrollHeight+"px",w);let X=document.getElementsByClassName("add_oper");for(let Ce in X)g||(X[Ce].scrollIntoView&&X[Ce].scrollIntoView(!1),q(new Event("expand")))});let{update:_}=r,{edited_display:b}=r;const P=pi.subscribe(X=>{n(1,b=X),n(10,g=!b)});let k="en";fr.subscribe(X=>{k=X});let U;v0.subscribe(X=>{U=X}),gi(P);function V(X){b&&(s.admin.email===f||!a.abonent)&&(X.currentTarget.readOnly=!1)}async function Y(X){let Ce={};Ce.proj="kolmit",Ce.func="changedep",Ce.abonent=a.abonent,Ce.em=a.email,Ce.psw=U,Ce.dep=s;let Le=await(await fetch("/api/edit_cc/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({par:Ce})})).json();n(0,s=Le.dep),console.log(Le.rows.affectedRows)}async function J(X){let Ce={};Ce.proj="kolmit",Ce.func="addoper",Ce.abonent=a.abonent,Ce.em=a.email,Ce.psw=U,Ce.lang=k,Ce.dep_id=s.id;let Le=await(await fetch("/api/edit_cc/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({par:Ce})})).json();n(0,s=Le.dep),n(11,w.style.maxHeight=200+w.scrollHeight+"px",w)}let{RemoveDep:B}=r;function q(X){w&&X.type!=="expand"&&(w.style.maxHeight=="0px"?n(11,w.style.maxHeight=w.scrollHeight+"px",w):n(11,w.style.maxHeight="0px",w)),console.log(w.style.maxHeight)}function R(){s.alias=this.value,n(0,s)}function x(X){Ze[X?"unshift":"push"](()=>{c=X,n(7,c)})}function Z(X){h=X,n(9,h)}function se(X){s=X,n(0,s)}function De(X){o.$$.not_equal(s.admin,X)&&(s.admin=X,n(0,s))}function Se(X){h=X,n(9,h)}function Ae(X){s=X,n(0,s)}function te(X,Ce,Ee,Le){Ee[Le]=X,n(0,s)}function we(X){Ze[X?"unshift":"push"](()=>{w=X,n(11,w)})}return o.$$set=X=>{"dep"in X&&n(0,s=X.dep),"owner"in X&&n(2,f=X.owner),"operator"in X&&n(3,a=X.operator),"update"in X&&n(4,_=X.update),"edited_display"in X&&n(1,b=X.edited_display),"RemoveDep"in X&&n(6,B=X.RemoveDep)},o.$$.update=()=>{o.$$.dirty[0]&11&&b&&(!a.abonent&&s.id==="0"||!a.abonent&&!s.admin||a.abonent&&a.email===s.admin.email)&&n(8,p="block")},[s,b,f,a,_,J,B,c,p,h,g,w,V,Y,q,R,x,Z,se,De,Se,Ae,te,we]}class mp extends dt{constructor(r){super(),pt(this,r,_p,gp,gt,{dep:0,owner:2,operator:3,update:4,edited_display:1,AddOper:5,RemoveDep:6},null,[-1,-1])}get AddOper(){return this.$$.ctx[5]}}function Oo(o,r,n){const l=o.slice();return l[21]=r[n],l[22]=r,l[23]=n,l}function Eo(o){let r,n,l,s,f,a,c;function p(_){o[7](_,o[21],o[22],o[23])}function h(_){o[8](_)}function g(_){o[9](_)}let w={owner:o[21].admin.email,operator:o[0],update:o[2],RemoveDep:o[5]};return o[21]!==void 0&&(w.dep=o[21]),o[1]!==void 0&&(w.tarif=o[1]),o[3]!==void 0&&(w.edited_display=o[3]),l=new mp({props:w}),Ze.push(()=>Tt(l,"dep",p)),Ze.push(()=>Tt(l,"tarif",h)),Ze.push(()=>Tt(l,"edited_display",g)),{c(){r=W("br"),n=ne(),at(l.$$.fragment),this.h()},l(_){r=H(_,"BR",{class:!0}),n=re(_),ft(l.$$.fragment,_),this.h()},h(){C(r,"class","svelte-a8k4ea")},m(_,b){j(_,r,b),j(_,n,b),ct(l,_,b),c=!0},p(_,b){o=_;const P={};b&4&&(P.owner=o[21].admin.email),b&1&&(P.operator=o[0]),b&4&&(P.update=o[2]),!s&&b&4&&(s=!0,P.dep=o[21],It(()=>s=!1)),!f&&b&2&&(f=!0,P.tarif=o[1],It(()=>f=!1)),!a&&b&8&&(a=!0,P.edited_display=o[3],It(()=>a=!1)),l.$set(P)},i(_){c||(ue(l.$$.fragment,_),c=!0)},o(_){pe(l.$$.fragment,_),c=!1},d(_){_&&O(r),_&&O(n),ht(l,_)}}}function Ao(o){let r,n=o[0].email===o[0].abonent&&To(o);return{c(){n&&n.c(),r=st()},l(l){n&&n.l(l),r=st()},m(l,s){n&&n.m(l,s),j(l,r,s)},p(l,s){l[0].email===l[0].abonent?n?n.p(l,s):(n=To(l),n.c(),n.m(r.parentNode,r)):n&&(n.d(1),n=null)},d(l){n&&n.d(l),l&&O(r)}}}function To(o){let r,n,l,s,f,a,c;return{c(){r=He("svg"),n=He("title"),l=_e("plus-circle"),s=He("glyph"),f=He("path"),this.h()},l(p){r=Ve(p,"svg",{class:!0,height:!0,width:!0,style:!0});var h=F(r);n=Ve(h,"title",{class:!0});var g=F(n);l=me(g,"plus-circle"),g.forEach(O),s=Ve(h,"glyph",{"glyph-name":!0,unicode:!0,"horiz-adv-x":!0,class:!0}),F(s).forEach(O),f=Ve(h,"path",{d:!0,transform:!0,style:!0,class:!0}),F(f).forEach(O),h.forEach(O),this.h()},h(){C(n,"class","svelte-a8k4ea"),C(s,"glyph-name","plus-circle"),C(s,"unicode","\uEFC0"),C(s,"horiz-adv-x","50"),C(s,"class","svelte-a8k4ea"),C(f,"d","M500.2 62.5c-241.8 0-437.7 195.89999999999998-437.7 437.3 0 241.8 195.89999999999998 437.7 437.7 437.7 241.40000000000003 0 437.3-195.89999999999998 437.3-437.7 0-241.40000000000003-195.89999999999998-437.3-437.3-437.3z m301.59999999999997 466.5c-0.6999999999999318 9-2.199999999999932 19.100000000000023-4.699999999999932 30.299999999999955h-237.70000000000005v237.80000000000007c-11.199999999999932 2.5-21.600000000000023 4.2999999999999545-31.399999999999977 5.100000000000023-9.700000000000045 0.6999999999999318-19.80000000000001 1.099999999999909-30.30000000000001 1.099999999999909-9 0-17.69999999999999-0.39999999999997726-26.69999999999999-1.099999999999909-9-0.7000000000000455-19.100000000000023-2.5-30.30000000000001-5.100000000000023v-237.70000000000005h-237.5c-2.5-11.199999999999932-4.299999999999983-21.699999999999932-5.099999999999994-31.399999999999977-0.6999999999999886-9.700000000000045-1.0999999999999943-19.80000000000001-1.0999999999999943-30.30000000000001 0-9 0.4000000000000057-17.69999999999999 1.0999999999999943-26.69999999999999 0.700000000000017-9 2.5-19.100000000000023 5.099999999999994-30.30000000000001h237.40000000000003v-237.5c11.199999999999989-2.5 21.599999999999966-4 31.399999999999977-4.699999999999989 9.699999999999989-1.0999999999999943 19.80000000000001-1.4000000000000057 30.30000000000001-1.4000000000000057 9 0 17.999999999999943 0.4000000000000057 26.69999999999999 1.4000000000000057 9 0.6999999999999886 19.100000000000023 2.1999999999999886 30.299999999999955 4.699999999999989v237.40000000000003h237.80000000000007c2.5 11.199999999999989 4 21.599999999999966 4.699999999999932 31.399999999999977 1.1000000000000227 9.699999999999989 1.400000000000091 19.80000000000001 1.400000000000091 30.30000000000001 0.09999999999990905 9.099999999999966-0.3000000000000682 18.099999999999966-1.400000000000091 26.69999999999999z"),C(f,"transform","scale(.04)"),I(f,"fill","lightgrey"),C(f,"class","svelte-a8k4ea"),C(r,"class","add_dep svelte-a8k4ea"),C(r,"height","50"),C(r,"width","50"),I(r,"float","right")},m(p,h){j(p,r,h),A(r,n),A(n,l),A(r,s),A(r,f),a||(c=Ie(r,"click",o[4]),a=!0)},p:Qe,d(p){p&&O(r),a=!1,c()}}}function vp(o){let r,n,l,s,f,a=o[2],c=[];for(let g=0;g<a.length;g+=1)c[g]=Eo(Oo(o,a,g));const p=g=>pe(c[g],1,1,()=>{c[g]=null});let h=o[3]&&Ao(o);return{c(){r=W("div");for(let g=0;g<c.length;g+=1)c[g].c();n=ne(),h&&h.c(),l=ne(),s=W("div"),this.h()},l(g){r=H(g,"DIV",{class:!0,style:!0});var w=F(r);for(let _=0;_<c.length;_+=1)c[_].l(w);n=re(w),h&&h.l(w),l=re(w),s=H(w,"DIV",{class:!0,style:!0}),F(s).forEach(O),w.forEach(O),this.h()},h(){C(s,"class","empty svelte-a8k4ea"),I(s,"height","200px"),C(r,"class","deps_div svelte-a8k4ea"),I(r,"height","100vh"),I(r,"overflow-y","scroll")},m(g,w){j(g,r,w);for(let _=0;_<c.length;_+=1)c[_].m(r,null);A(r,n),h&&h.m(r,null),A(r,l),A(r,s),f=!0},p(g,[w]){if(w&47){a=g[2];let _;for(_=0;_<a.length;_+=1){const b=Oo(g,a,_);c[_]?(c[_].p(b,w),ue(c[_],1)):(c[_]=Eo(b),c[_].c(),ue(c[_],1),c[_].m(r,n))}for(Sn(),_=a.length;_<c.length;_+=1)p(_);Cn()}g[3]?h?h.p(g,w):(h=Ao(g),h.c(),h.m(r,l)):h&&(h.d(1),h=null)},i(g){if(!f){for(let w=0;w<a.length;w+=1)ue(c[w]);f=!0}},o(g){c=c.filter(Boolean);for(let w=0;w<c.length;w+=1)pe(c[w]);f=!1},d(g){g&&O(r),Pl(c,g),h&&h.d()}}}function wp(o,r,n){let l,s,f;on(o,Vo,B=>n(11,l=B)),on(o,fr,B=>n(12,s=B)),on(o,_i,B=>n(13,B)),on(o,v0,B=>n(14,f=B)),on(o,w0,B=>n(15,B));let a=globalThis,{operator:c,url:p}=r,h,g=f,w=s,_="";l&&(_=l),Nn(async()=>{n(6,p=new URL(a.location.href))});let b=!1,{tarif:P}=r;async function k(){if(c.role==="admin"){let B={};B.proj="kolmit",B.func="adddep",B.em=c.email,B.lang=w,B.abonent=c.abonent,B.psw=g,B.id=h;const Z=(await(await fetch("/api/edit_cc/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({par:B})})).json()).dep;n(2,_[B.id]=Z,_)}}async function U(B){let q=so.findIndex(_,{id:B});if(confirm("Delete Dep "+(_[q].alias?_[q].alias:"")+"?")){let R={};R.proj="kolmit",R.func="remdep",R.role=c,R.dep=B,R.em=c.email,R.lang=w,R.abonent=c.abonent,R.uid=c.uid,R.psw=g;const Z=await(await fetch("/api/edit_cc/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({par:R})})).json();n(2,_=Z.users)}}function V(B,q,R,x){R[x]=B,n(2,_)}function Y(B){P=B,n(1,P)}function J(B){b=B,n(3,b)}return o.$$set=B=>{"operator"in B&&n(0,c=B.operator),"url"in B&&n(6,p=B.url),"tarif"in B&&n(1,P=B.tarif)},o.$$.update=()=>{o.$$.dirty&5&&_&&_.length>0&&so.forEach(_,(B,q)=>{B.admin&&B.admin.email===c.email&&n(0,c.role=B.admin.role,c),h=q})},[c,P,_,b,k,U,p,V,Y,J]}class bp extends dt{constructor(r){super(),pt(this,r,wp,vp,gt,{operator:0,url:6,tarif:1})}}function Io(o,r,n){const l=o.slice();return l[8]=r[n][0],l[3]=r[n][1],l}function Ro(o){let r,n=Object.entries(o[2]),l=[];for(let s=0;s<n.length;s+=1)l[s]=Lo(Io(o,n,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();r=st()},l(s){for(let f=0;f<l.length;f+=1)l[f].l(s);r=st()},m(s,f){for(let a=0;a<l.length;a+=1)l[a].m(s,f);j(s,r,f)},p(s,f){if(f&23){n=Object.entries(s[2]);let a;for(a=0;a<n.length;a+=1){const c=Io(s,n,a);l[a]?l[a].p(c,f):(l[a]=Lo(c),l[a].c(),l[a].m(r.parentNode,r))}for(;a<l.length;a+=1)l[a].d(1);l.length=n.length}},d(s){Pl(l,s),s&&O(r)}}}function Do(o){let r,n=o[1].dict[o[3].Ribbon][o[0]]+"",l;return{c(){r=W("div"),l=_e(n),this.h()},l(s){r=H(s,"DIV",{class:!0});var f=F(r);l=me(f,n),f.forEach(O),this.h()},h(){C(r,"class","ribbon svelte-17ubww8")},m(s,f){j(s,r,f),A(r,l)},p(s,f){f&7&&n!==(n=s[1].dict[s[3].Ribbon][s[0]]+"")&&Ne(l,n)},d(s){s&&O(r)}}}function ko(o){let r,n,l=o[1].dict.Duration[o[0]]+"",s,f,a,c=o[3].Duration+"",p,h,g=o[1].dict.Days[o[0]]+"",w;return{c(){r=W("h4"),n=W("span"),s=_e(l),f=_e(" : "),a=W("span"),p=_e(c),h=ne(),w=_e(g),this.h()},l(_){r=H(_,"H4",{class:!0});var b=F(r);n=H(b,"SPAN",{class:!0});var P=F(n);s=me(P,l),P.forEach(O),f=me(b," : "),a=H(b,"SPAN",{class:!0});var k=F(a);p=me(k,c),h=re(k),w=me(k,g),k.forEach(O),b.forEach(O),this.h()},h(){C(n,"class","feature svelte-17ubww8"),C(a,"class","value"),C(r,"class","svelte-17ubww8")},m(_,b){j(_,r,b),A(r,n),A(n,s),A(r,f),A(r,a),A(a,p),A(a,h),A(a,w)},p(_,b){b&3&&l!==(l=_[1].dict.Duration[_[0]]+"")&&Ne(s,l),b&4&&c!==(c=_[3].Duration+"")&&Ne(p,c),b&3&&g!==(g=_[1].dict.Days[_[0]]+"")&&Ne(w,g)},d(_){_&&O(r)}}}function Lo(o){let r,n,l,s,f,a=o[8].toUpperCase()+"",c,p,h,g=o[3].Desc[o[0]]+"",w,_,b,P,k,U,V=o[1].getValByKey(o[0],["Waiting Mode"])+"",Y,J,B,q=o[3]["Waiting Mode"][o[0]]+"",R,x,Z,se,De=o[1].getValByKey(o[0],["Total Operators"])+"",Se,Ae,te,we=o[3]["Total Operators"][o[0]]+"",X,Ce,Ee,Le,Ke=o[1].getValByKey(o[0],["Multi Operator Mode"])+"",_t,Pe,qe,mt=o[3]["Multi Operator Mode"][o[0]]+"",le,de,K,nt,rt=o[1].getValByKey(o[0],["Total Depts"])+"",St,On,Ue,Ut=o[3]["Total Depts"][o[0]]+"",En,it,vt,gn,lt=o[1].getValByKey(o[0],["Dedicated Servers"])+"",_n,Wt,Pt,G=o[1].dict[o[3]["Dedicated Servers"]][o[0]]+"",he,Ct,Ot,je,Bt=o[1].getValByKey(o[0],["Full Support"])+"",xe,qt,Ht,An=o[1].dict[o[3]["Full Support"]][o[0]]+"",Un,Qn,an,mn,Tn=o[3].Price[o[0]]+"",Wn,fn,Jr,jn=o[1].dict.month[o[0]]+"",hr,dr,Jt,xn=o[1].dict.Choose[o[0]]+"",pr,gr,Yr,_r,mi,wt=o[3].Ribbon&&Do(o),bt=o[3].Duration&&ko(o);return{c(){r=W("div"),n=W("div"),wt&&wt.c(),l=ne(),s=W("div"),f=W("h3"),c=_e(a),p=ne(),h=W("p"),w=_e(g),_=ne(),b=W("div"),bt&&bt.c(),P=ne(),k=W("h4"),U=W("span"),Y=_e(V),J=_e(" : "),B=W("span"),R=_e(q),x=ne(),Z=W("h4"),se=W("span"),Se=_e(De),Ae=_e(" : "),te=W("span"),X=_e(we),Ce=ne(),Ee=W("h4"),Le=W("span"),_t=_e(Ke),Pe=_e(" : "),qe=W("span"),le=_e(mt),de=ne(),K=W("h4"),nt=W("span"),St=_e(rt),On=_e(" : "),Ue=W("span"),En=_e(Ut),it=ne(),vt=W("h4"),gn=W("span"),_n=_e(lt),Wt=_e(" : "),Pt=W("span"),he=_e(G),Ct=ne(),Ot=W("h4"),je=W("span"),xe=_e(Bt),qt=_e(" : "),Ht=W("span"),Un=_e(An),Qn=ne(),an=W("div"),mn=W("h4"),Wn=_e(Tn),fn=W("h5"),Jr=_e("/"),hr=_e(jn),dr=ne(),Jt=W("button"),pr=_e(xn),Yr=ne(),this.h()},l(oe){r=H(oe,"DIV",{class:!0});var We=F(r);n=H(We,"DIV",{class:!0});var Rt=F(n);wt&&wt.l(Rt),l=re(Rt),s=H(Rt,"DIV",{class:!0});var vi=F(s);f=H(vi,"H3",{});var wi=F(f);c=me(wi,a),wi.forEach(O),vi.forEach(O),p=re(Rt),h=H(Rt,"P",{class:!0});var bi=F(h);w=me(bi,g),bi.forEach(O),_=re(Rt),b=H(Rt,"DIV",{class:!0});var Dt=F(b);bt&&bt.l(Dt),P=re(Dt),k=H(Dt,"H4",{class:!0});var mr=F(k);U=H(mr,"SPAN",{class:!0});var yi=F(U);Y=me(yi,V),yi.forEach(O),J=me(mr," : "),B=H(mr,"SPAN",{class:!0});var Si=F(B);R=me(Si,q),Si.forEach(O),mr.forEach(O),x=re(Dt),Z=H(Dt,"H4",{class:!0});var vr=F(Z);se=H(vr,"SPAN",{class:!0});var Zr=F(se);Se=me(Zr,De),Zr.forEach(O),Ae=me(vr," : "),te=H(vr,"SPAN",{class:!0});var Ci=F(te);X=me(Ci,we),Ci.forEach(O),vr.forEach(O),Ce=re(Dt),Ee=H(Dt,"H4",{class:!0});var wr=F(Ee);Le=H(wr,"SPAN",{class:!0});var Oi=F(Le);_t=me(Oi,Ke),Oi.forEach(O),Pe=me(wr," : "),qe=H(wr,"SPAN",{class:!0});var Ei=F(qe);le=me(Ei,mt),Ei.forEach(O),wr.forEach(O),de=re(Dt),K=H(Dt,"H4",{class:!0});var br=F(K);nt=H(br,"SPAN",{class:!0});var Ai=F(nt);St=me(Ai,rt),Ai.forEach(O),On=me(br," : "),Ue=H(br,"SPAN",{class:!0});var $n=F(Ue);En=me($n,Ut),$n.forEach(O),br.forEach(O),it=re(Dt),vt=H(Dt,"H4",{class:!0});var yr=F(vt);gn=H(yr,"SPAN",{class:!0});var er=F(gn);_n=me(er,lt),er.forEach(O),Wt=me(yr," : "),Pt=H(yr,"SPAN",{class:!0});var Ti=F(Pt);he=me(Ti,G),Ti.forEach(O),yr.forEach(O),Ct=re(Dt),Ot=H(Dt,"H4",{class:!0});var Sr=F(Ot);je=H(Sr,"SPAN",{class:!0});var Ii=F(je);xe=me(Ii,Bt),Ii.forEach(O),qt=me(Sr," : "),Ht=H(Sr,"SPAN",{class:!0});var Xr=F(Ht);Un=me(Xr,An),Xr.forEach(O),Sr.forEach(O),Dt.forEach(O),Qn=re(Rt),an=H(Rt,"DIV",{class:!0});var Cr=F(an);mn=H(Cr,"H4",{class:!0});var Qr=F(mn);Wn=me(Qr,Tn),Qr.forEach(O),fn=H(Cr,"H5",{class:!0});var jr=F(fn);Jr=me(jr,"/"),hr=me(jr,jn),jr.forEach(O),Cr.forEach(O),dr=re(Rt),Jt=H(Rt,"BUTTON",{class:!0,type:!0,tarif:!0});var Ri=F(Jt);pr=me(Ri,xn),Ri.forEach(O),Rt.forEach(O),Yr=re(We),We.forEach(O),this.h()},h(){C(s,"class","heading svelte-17ubww8"),C(h,"class","svelte-17ubww8"),C(U,"class","feature svelte-17ubww8"),C(B,"class","value"),C(k,"class","svelte-17ubww8"),C(se,"class","feature svelte-17ubww8"),C(te,"class","value"),C(Z,"class","svelte-17ubww8"),C(Le,"class","feature svelte-17ubww8"),C(qe,"class","value"),C(Ee,"class","svelte-17ubww8"),C(nt,"class","feature svelte-17ubww8"),C(Ue,"class","value"),C(K,"class","svelte-17ubww8"),C(gn,"class","feature svelte-17ubww8"),C(Pt,"class","value"),C(vt,"class","svelte-17ubww8"),C(je,"class","feature svelte-17ubww8"),C(Ht,"class","value"),C(Ot,"class","svelte-17ubww8"),C(b,"class","features"),C(mn,"class","svelte-17ubww8"),C(fn,"class","svelte-17ubww8"),C(an,"class","price svelte-17ubww8"),C(Jt,"class","btn btn-block btn-outline-primary svelte-17ubww8"),C(Jt,"type","submit"),C(Jt,"tarif",gr=o[8]),C(n,"class","item svelte-17ubww8"),C(r,"class","col-md-5 col-lg-4")},m(oe,We){j(oe,r,We),A(r,n),wt&&wt.m(n,null),A(n,l),A(n,s),A(s,f),A(f,c),A(n,p),A(n,h),A(h,w),A(n,_),A(n,b),bt&&bt.m(b,null),A(b,P),A(b,k),A(k,U),A(U,Y),A(k,J),A(k,B),A(B,R),A(b,x),A(b,Z),A(Z,se),A(se,Se),A(Z,Ae),A(Z,te),A(te,X),A(b,Ce),A(b,Ee),A(Ee,Le),A(Le,_t),A(Ee,Pe),A(Ee,qe),A(qe,le),A(b,de),A(b,K),A(K,nt),A(nt,St),A(K,On),A(K,Ue),A(Ue,En),A(b,it),A(b,vt),A(vt,gn),A(gn,_n),A(vt,Wt),A(vt,Pt),A(Pt,he),A(b,Ct),A(b,Ot),A(Ot,je),A(je,xe),A(Ot,qt),A(Ot,Ht),A(Ht,Un),A(n,Qn),A(n,an),A(an,mn),A(mn,Wn),A(an,fn),A(fn,Jr),A(fn,hr),A(n,dr),A(n,Jt),A(Jt,pr),A(r,Yr),_r||(mi=Ie(Jt,"click",o[4]),_r=!0)},p(oe,We){oe[3].Ribbon?wt?wt.p(oe,We):(wt=Do(oe),wt.c(),wt.m(n,l)):wt&&(wt.d(1),wt=null),We&4&&a!==(a=oe[8].toUpperCase()+"")&&Ne(c,a),We&5&&g!==(g=oe[3].Desc[oe[0]]+"")&&Ne(w,g),oe[3].Duration?bt?bt.p(oe,We):(bt=ko(oe),bt.c(),bt.m(b,P)):bt&&(bt.d(1),bt=null),We&3&&V!==(V=oe[1].getValByKey(oe[0],["Waiting Mode"])+"")&&Ne(Y,V),We&5&&q!==(q=oe[3]["Waiting Mode"][oe[0]]+"")&&Ne(R,q),We&3&&De!==(De=oe[1].getValByKey(oe[0],["Total Operators"])+"")&&Ne(Se,De),We&5&&we!==(we=oe[3]["Total Operators"][oe[0]]+"")&&Ne(X,we),We&3&&Ke!==(Ke=oe[1].getValByKey(oe[0],["Multi Operator Mode"])+"")&&Ne(_t,Ke),We&5&&mt!==(mt=oe[3]["Multi Operator Mode"][oe[0]]+"")&&Ne(le,mt),We&3&&rt!==(rt=oe[1].getValByKey(oe[0],["Total Depts"])+"")&&Ne(St,rt),We&5&&Ut!==(Ut=oe[3]["Total Depts"][oe[0]]+"")&&Ne(En,Ut),We&3&&lt!==(lt=oe[1].getValByKey(oe[0],["Dedicated Servers"])+"")&&Ne(_n,lt),We&7&&G!==(G=oe[1].dict[oe[3]["Dedicated Servers"]][oe[0]]+"")&&Ne(he,G),We&3&&Bt!==(Bt=oe[1].getValByKey(oe[0],["Full Support"])+"")&&Ne(xe,Bt),We&7&&An!==(An=oe[1].dict[oe[3]["Full Support"]][oe[0]]+"")&&Ne(Un,An),We&5&&Tn!==(Tn=oe[3].Price[oe[0]]+"")&&Ne(Wn,Tn),We&3&&jn!==(jn=oe[1].dict.month[oe[0]]+"")&&Ne(hr,jn),We&3&&xn!==(xn=oe[1].dict.Choose[oe[0]]+"")&&Ne(pr,xn),We&4&&gr!==(gr=oe[8])&&C(Jt,"tarif",gr)},d(oe){oe&&O(r),wt&&wt.d(),bt&&bt.d(),_r=!1,mi()}}}function yp(o){let r,n,l,s,f,a=o[1].getValByKey(o[0],["Our Pricing"])+"",c,p,h,g,w,_,b,P,k=o[2]&&Ro(o);return{c(){r=W("div"),n=W("section"),l=W("div"),s=W("div"),f=W("h2"),c=_e(a),p=ne(),h=W("p"),g=_e("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc quam urna, dignissim nec auctor in, mattis vitae leo."),w=ne(),_=W("div"),k&&k.c(),b=ne(),P=W("div"),this.h()},l(U){r=H(U,"DIV",{class:!0});var V=F(r);n=H(V,"SECTION",{class:!0});var Y=F(n);l=H(Y,"DIV",{class:!0});var J=F(l);s=H(J,"DIV",{class:!0});var B=F(s);f=H(B,"H2",{class:!0});var q=F(f);c=me(q,a),q.forEach(O),p=re(B),h=H(B,"P",{class:!0});var R=F(h);g=me(R,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc quam urna, dignissim nec auctor in, mattis vitae leo."),R.forEach(O),B.forEach(O),w=re(J),_=H(J,"DIV",{class:!0});var x=F(_);k&&k.l(x),x.forEach(O),J.forEach(O),Y.forEach(O),b=re(V),P=H(V,"DIV",{style:!0}),F(P).forEach(O),V.forEach(O),this.h()},h(){C(f,"class","svelte-17ubww8"),C(h,"class","svelte-17ubww8"),C(s,"class","block-heading svelte-17ubww8"),C(_,"class","row justify-content-md-center"),C(l,"class","container"),C(n,"class","pricing-table svelte-17ubww8"),I(P,"height","400px"),C(r,"class","content svelte-17ubww8")},m(U,V){j(U,r,V),A(r,n),A(n,l),A(l,s),A(s,f),A(f,c),A(s,p),A(s,h),A(h,g),A(l,w),A(l,_),k&&k.m(_,null),A(r,b),A(r,P)},p(U,[V]){V&3&&a!==(a=U[1].getValByKey(U[0],["Our Pricing"])+"")&&Ne(c,a),U[2]?k?k.p(U,V):(k=Ro(U),k.c(),k.m(_,null)):k&&(k.d(1),k=null)},i:Qe,o:Qe,d(U){U&&O(r),k&&k.d()}}}function Sp(o,r,n){let{rtc:l}=r,s="en";const f=fr.subscribe(g=>{g&&n(0,s=g)});let a;zo.subscribe(g=>{g&&n(1,a=g)});let c="free",p;(async()=>n(2,p=await(await fetch("/src/lib/tarifs.json")).json()))(),gi(f);async function h(g){g.target.attributes.tarif.value==="basic"&&(await l.ChooseTarif(g.target.attributes.tarif.value),n(3,c=p[g.target.attributes.tarif.value]))}return o.$$set=g=>{"rtc"in g&&n(5,l=g.rtc)},[s,a,p,c,h,l]}class Cp extends dt{constructor(r){super(),pt(this,r,Sp,yp,gt,{rtc:5})}}function Po(o){let r,n;return r=new Cp({props:{rtc:o[0]}}),{c(){at(r.$$.fragment)},l(l){ft(r.$$.fragment,l)},m(l,s){ct(r,l,s),n=!0},p(l,s){const f={};s&1&&(f.rtc=l[0]),r.$set(f)},i(l){n||(ue(r.$$.fragment,l),n=!0)},o(l){pe(r.$$.fragment,l),n=!1},d(l){ht(r,l)}}}function Op(o){let r,n,l,s,f,a,c,p=o[2]&&Po(o);return{c(){r=W("span"),n=_e(o[1]),l=ne(),p&&p.c(),s=st(),this.h()},l(h){r=H(h,"SPAN",{ref:!0});var g=F(r);n=me(g,o[1]),g.forEach(O),l=re(h),p&&p.l(h),s=st(),this.h()},h(){C(r,"ref","#")},m(h,g){j(h,r,g),A(r,n),j(h,l,g),p&&p.m(h,g),j(h,s,g),f=!0,a||(c=Ie(r,"click",o[3]),a=!0)},p(h,[g]){(!f||g&2)&&Ne(n,h[1]),h[2]?p?(p.p(h,g),g&4&&ue(p,1)):(p=Po(h),p.c(),ue(p,1),p.m(s.parentNode,s)):p&&(Sn(),pe(p,1,1,()=>{p=null}),Cn())},i(h){f||(ue(p),f=!0)},o(h){pe(p),f=!1},d(h){h&&O(r),h&&O(l),p&&p.d(h),h&&O(s),a=!1,c()}}}function Ep(o,r,n){let{rtc:l}=r,s="en";fr.subscribe(w=>{w&&n(4,s=w)});let f="Download Call Center",a="",c;const p=zo.subscribe(w=>{w&&(n(6,c=w),n(1,a=c.dict[f][s]))});gi(p);let h=!1;async function g(w){n(5,f="Choose Tarif"),n(2,h=!0)}return o.$$set=w=>{"rtc"in w&&n(0,l=w.rtc)},o.$$.update=()=>{o.$$.dirty&112&&s&&c&&f&&n(1,a=c.dict[f][s])},[l,a,h,g,s,f,c]}class Ap extends dt{constructor(r){super(),pt(this,r,Ep,Op,gt,{rtc:0})}}class Tp{constructor(r,n,l){this.con=new RTCPeerConnection(n),this.rtc=r,this.pc_key=l,this.params={}}async SendDesc(r){let n=this,l={};return l.proj="kolmit",l.func="call",l.abonent=n.rtc.abonent,l.type=this.rtc.type,l.em=this.rtc.operator,l.uid=this.rtc.uid,l.desc=r,l.status="call",l.oper_uid=this.rtc.oper_uid,await this.signch.SendMessage(l)}async SendCand(r){let n=this,l={};return l.proj="kolmit",l.func="call",l.type=this.rtc.type,l.uid=this.rtc.uid,l.em=this.rtc.operator,l.cand=r,l.status="call",l.abonent=n.rtc.abonent,l.oper_uid=this.rtc.oper_uid,await this.signch.SendMessage(l)}async SendOffer(r){let n={};n.proj="kolmit",n.func="offer",n.abonent=this.rtc.abonent,n.type=this.rtc.type,n.uid=this.rtc.uid,n.em=this.rtc.email,n.desc=this.params.loc_desc,n.cand=this.params.loc_cand,n.status="offer",this.signch.SendMessage(n,l=>{console.log(l)})}StartEvents(){let r=this;this.con.ontrack=function(l){r.pc_key!=="reserve"&&(r.rtc.GetRemoteAudio()!==l.streams[0]&&(r.rtc.remoteStream=l.streams[0],r.rtc.remoteStream.onaddtrack=function(s){console.log("addtrack in remote stream",r)}),r.rtc.remoteStream&&(l.track.kind==="audio"&&(r.rtc.SetRemoteAudio(null),r.rtc.SetRemoteAudio(r.rtc.remoteStream)),l.track.kind==="video"&&(r.rtc.SetRemoteVideo(r.rtc.remoteStream),r.rtc.DC.SendDCVideoOK(()=>{}))))};let n;this.con.onicecandidate=l=>{let s=this;l.candidate&&(this.params.loc_cand||(this.params.loc_cand=[]),this.params.loc_cand.push(l.candidate),n||(n=setTimeout(()=>{if(this.rtc.DC&&this.rtc.DC.dc.readyState==="open"){let f="";this.rtc.type&&this.rtc.type.offerToReceiveVideo===1&&(f={confirm:"Do you mind to turn on the cameras?"}),this.rtc.DC.SendDCOffer(s.pc_key,f),clearTimeout(n)}else this.rtc.DC&&this.rtc.DC.dc.readyState!=="open"&&(this.SendOffer(l.candidate),clearTimeout(n))},100)))},this.con.oniceconnectionstatechange=function(l){r.rtc.onIceStateChange(r,l)},this.con.onremovestream=function(l){},this.con.onsignalingstatechange=function(l){},this.con.onconnectionstatechange=function(l){console.log()}}onCreateAnswerSuccess(r){let n=this;console.log("Answer from pcPull 2:",this),console.log("setLocalDescription start",n),n.con.setLocalDescription(r).then(function(){n.params.loc_desc=n.con.localDescription,console.log("onSetLocalDescriptionSuccess",n),n.SendDesc(r)},n.onSetAnswerError)}setRemoteDesc(r){let n=this;console.log("setRemoteDescription start",n),console.log("Peer connectionState:"+this.con.connectionState,n),this.con.setRemoteDescription(r).then(function(){n.params.rem_desc=n.con.remoteDescription,n.con.remoteDescription.type==="offer"&&n.con.createAnswer().then(l=>n.onCreateAnswerSuccess(l),n.onCreateAnswerError)},function(l){console.log("Failed to set remote description: "+l.toString(),this)})}onCreateAnswerError(r){console.log("Failed to create answer: "+r.toString(),this)}onCreateOfferSuccess(r){let n=this;console.log("Offer created",n),console.log("setLocalDescription start",n),n.con.setLocalDescription(r).then(function(){n.params.loc_desc=n.con.localDescription,console.log(" setLocalDescription complete",n)},n.onSetOfferError)}onCreateVideoOfferSuccess(r,n){let l=this;console.log("Offer created",l),console.log("setLocalDescription start",l),l.con.setLocalDescription(r).then(function(){l.params.loc_desc=l.con.localDescription,console.log(" setLocalDescription complete",l),l.rtc.DC.SendDCDesc(r,l.pc_key)},l.onSetOfferError)}onSetOfferError(r){console.log("Failed to set offer: "+r.toString(),this)}onSetAnswerError(r){console.log("Failed to set session description: "+r.toString(),this)}onAddIceCandidateSuccess(r){console.log(" addIceCandidate success",this)}onAddIceCandidateError(r,n){console.log(" failed to add ICE Candidate: "+n.toString(),this)}onCreateOfferError(r){console.log("Failed to create session description: "+r.toString(),this)}onAddVideo(r){let n=this,l="Do you mind to turn on the cameras?";n.rtc.DC&&n.rtc.DC.dc.readyState==="open"&&n.rtc.DC.SendData({confirm:l})}onCreateSessionDescriptionError(r){}Cancel(){this.close()}}class Ip{constructor(r,n){this.rtc=r,this.pc=n,this.call_num=3,this.forward}CreateDC(){this.dc=pc.con.createDataChannel(pc.pc_key+" data channel")}}const qo=tp();class Rp extends Ip{constructor(r,n){super(r,n);let l=this;l.cnt_call=0,this.dc=n.con.createDataChannel(n.pc_key+" data channel"),this.dc.onopen=()=>{l.dc.readyState==="open"&&console.log(l.pc.pc_key+" datachannel open"),this.dc.onclose=()=>{}},n.StartEvents(),n.con.ondatachannel=c=>{console.log("Receive Channel Callback"),this.dc=c.channel};let s="",f=[],a=0;this.dc.onmessage=function(c){try{let p=JSON.parse(c.data);if(p.type==="eom"){s&&(l.rtc.OnMessage(JSON.parse(s),l),qo.set(JSON.parse(s))),s="";return}if(s+=p.slice,p.file,p.type==="eof"){const h=new Blob(f);if(f=[],a=0,confirm("\u041F\u043E\u043B\u0443\u0447\u0435\u043D \u0444\u0430\u0439\u043B: "+p.file+". \u0420\u0430\u0437\u043C\u0435\u0440: "+p.length+" \u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C?")){let g=document.getElementById("download_href");g.text("\u041F\u043E\u043B\u0443\u0447\u0435\u043D \u0444\u0430\u0439\u043B: "+p.file+". \u0420\u0430\u0437\u043C\u0435\u0440: "+p.length+" \u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C?"),g.attributes.href="URL.createObjectURL(received)",g.attributes.download=p.file,g.click()}setTimeout(function(){document.getElementById("dataProgress").style.display="none"},2e3);return}}catch{if(s="",!c.data.byteLength)return}}}SendFile(r,n){try{if(this.dc.readyState==="open"){let l=16384;const s=Math.ceil(r.byteLength/l);this.dc.send(JSON.stringify({file:n,length:r.byteLength}),function(f){console.log(f)});for(let f=0,a=0;f<s;++f,a+=l){const c=r.slice(a,a+l);document.getElementById("dataProgress").attributes.value=a+l,this.dc.send(c,function(p){console.log(p)})}setTimeout(function(){document.getElementById("dataProgress").style.display="none"},2e3),this.dc.send(JSON.stringify({type:"eof",file:n,length:r.byteLength}),function(f){console.log(f)})}}catch(l){console.log(l)}}SendData(r,n){try{if(this.dc.readyState==="open"){r=JSON.stringify(r);let l=16384;const s=Math.ceil(r.length/l);for(let f=0,a=0;f<s;++f,a+=l)this.dc.send(JSON.stringify({slice:r.substr(a,l)}));this.dc.send(JSON.stringify({type:"eom"}))}n&&n()}catch(l){console.log(l)}}SendDCHangup(r){let n={};n.proj="kolmit",n.func="mute",n.type=this.rtc.type,this.SendData(n,r)}SendDCClose(r){let n={};n.proj="kolmit",n.func="close",n.type=this.rtc.type,this.SendData(n,r)}SendDCTalk(r){let n={};n.proj="kolmit",n.func="talk",n.type=this.rtc.type,this.SendData(n,r)}SendDCCand(r,n,l){let s={};s.proj="kolmit",s.func="offer",s.cand=r,s.trans=n,s.abonent=this.rtc.abonent,s.msg=l,this.SendData(s)}SendDCDesc(r,n,l){let s={};s.proj="kolmit",s.func="offer",s.desc=r,s.trans=n,s.abonent=this.rtc.abonent,s.msg=l,this.SendData(s)}SendDCOffer(r,n){let l={};l.proj="kolmit",l.func="offer",l.desc=this.pc.params.loc_desc,l.cand=this.pc.params.loc_cand,l.trans=r,l.abonent=this.rtc.abonent,l.msg=n,this.SendData(l)}SendDCVideoOK(r){let n={};n.proj="kolmit",n.func="video",n.type=this.rtc.type,this.SendData(n,r)}SendRedirect(r,n){let l={};if(l.proj="kolmit",l.func="redirect",l.abonent=r,this.dc.readyState==="open"){this.SendData(l);let s=new Date().toLocaleString("es-CL");n(s)}}}var _0={exports:{}},Jo={exports:{}};(function(){var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(n,l){return n<<l|n>>>32-l},rotr:function(n,l){return n<<32-l|n>>>l},endian:function(n){if(n.constructor==Number)return r.rotl(n,8)&16711935|r.rotl(n,24)&4278255360;for(var l=0;l<n.length;l++)n[l]=r.endian(n[l]);return n},randomBytes:function(n){for(var l=[];n>0;n--)l.push(Math.floor(Math.random()*256));return l},bytesToWords:function(n){for(var l=[],s=0,f=0;s<n.length;s++,f+=8)l[f>>>5]|=n[s]<<24-f%32;return l},wordsToBytes:function(n){for(var l=[],s=0;s<n.length*32;s+=8)l.push(n[s>>>5]>>>24-s%32&255);return l},bytesToHex:function(n){for(var l=[],s=0;s<n.length;s++)l.push((n[s]>>>4).toString(16)),l.push((n[s]&15).toString(16));return l.join("")},hexToBytes:function(n){for(var l=[],s=0;s<n.length;s+=2)l.push(parseInt(n.substr(s,2),16));return l},bytesToBase64:function(n){for(var l=[],s=0;s<n.length;s+=3)for(var f=n[s]<<16|n[s+1]<<8|n[s+2],a=0;a<4;a++)s*8+a*6<=n.length*8?l.push(o.charAt(f>>>6*(3-a)&63)):l.push("=");return l.join("")},base64ToBytes:function(n){n=n.replace(/[^A-Z0-9+\/]/ig,"");for(var l=[],s=0,f=0;s<n.length;f=++s%4)f!=0&&l.push((o.indexOf(n.charAt(s-1))&Math.pow(2,-2*f+8)-1)<<f*2|o.indexOf(n.charAt(s))>>>6-f*2);return l}};Jo.exports=r})();var Ll={utf8:{stringToBytes:function(o){return Ll.bin.stringToBytes(unescape(encodeURIComponent(o)))},bytesToString:function(o){return decodeURIComponent(escape(Ll.bin.bytesToString(o)))}},bin:{stringToBytes:function(o){for(var r=[],n=0;n<o.length;n++)r.push(o.charCodeAt(n)&255);return r},bytesToString:function(o){for(var r=[],n=0;n<o.length;n++)r.push(String.fromCharCode(o[n]));return r.join("")}}},Bo=Ll;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Dp=function(o){return o!=null&&(Yo(o)||kp(o)||!!o._isBuffer)};function Yo(o){return!!o.constructor&&typeof o.constructor.isBuffer=="function"&&o.constructor.isBuffer(o)}function kp(o){return typeof o.readFloatLE=="function"&&typeof o.slice=="function"&&Yo(o.slice(0,0))}(function(){var o=Jo.exports,r=Bo.utf8,n=Dp,l=Bo.bin,s=function(f,a){f.constructor==String?a&&a.encoding==="binary"?f=l.stringToBytes(f):f=r.stringToBytes(f):n(f)?f=Array.prototype.slice.call(f,0):!Array.isArray(f)&&f.constructor!==Uint8Array&&(f=f.toString());for(var c=o.bytesToWords(f),p=f.length*8,h=1732584193,g=-271733879,w=-1732584194,_=271733878,b=0;b<c.length;b++)c[b]=(c[b]<<8|c[b]>>>24)&16711935|(c[b]<<24|c[b]>>>8)&4278255360;c[p>>>5]|=128<<p%32,c[(p+64>>>9<<4)+14]=p;for(var P=s._ff,k=s._gg,U=s._hh,V=s._ii,b=0;b<c.length;b+=16){var Y=h,J=g,B=w,q=_;h=P(h,g,w,_,c[b+0],7,-680876936),_=P(_,h,g,w,c[b+1],12,-389564586),w=P(w,_,h,g,c[b+2],17,606105819),g=P(g,w,_,h,c[b+3],22,-1044525330),h=P(h,g,w,_,c[b+4],7,-176418897),_=P(_,h,g,w,c[b+5],12,1200080426),w=P(w,_,h,g,c[b+6],17,-1473231341),g=P(g,w,_,h,c[b+7],22,-45705983),h=P(h,g,w,_,c[b+8],7,1770035416),_=P(_,h,g,w,c[b+9],12,-1958414417),w=P(w,_,h,g,c[b+10],17,-42063),g=P(g,w,_,h,c[b+11],22,-1990404162),h=P(h,g,w,_,c[b+12],7,1804603682),_=P(_,h,g,w,c[b+13],12,-40341101),w=P(w,_,h,g,c[b+14],17,-1502002290),g=P(g,w,_,h,c[b+15],22,1236535329),h=k(h,g,w,_,c[b+1],5,-165796510),_=k(_,h,g,w,c[b+6],9,-1069501632),w=k(w,_,h,g,c[b+11],14,643717713),g=k(g,w,_,h,c[b+0],20,-373897302),h=k(h,g,w,_,c[b+5],5,-701558691),_=k(_,h,g,w,c[b+10],9,38016083),w=k(w,_,h,g,c[b+15],14,-660478335),g=k(g,w,_,h,c[b+4],20,-405537848),h=k(h,g,w,_,c[b+9],5,568446438),_=k(_,h,g,w,c[b+14],9,-1019803690),w=k(w,_,h,g,c[b+3],14,-187363961),g=k(g,w,_,h,c[b+8],20,1163531501),h=k(h,g,w,_,c[b+13],5,-1444681467),_=k(_,h,g,w,c[b+2],9,-51403784),w=k(w,_,h,g,c[b+7],14,1735328473),g=k(g,w,_,h,c[b+12],20,-1926607734),h=U(h,g,w,_,c[b+5],4,-378558),_=U(_,h,g,w,c[b+8],11,-2022574463),w=U(w,_,h,g,c[b+11],16,1839030562),g=U(g,w,_,h,c[b+14],23,-35309556),h=U(h,g,w,_,c[b+1],4,-1530992060),_=U(_,h,g,w,c[b+4],11,1272893353),w=U(w,_,h,g,c[b+7],16,-155497632),g=U(g,w,_,h,c[b+10],23,-1094730640),h=U(h,g,w,_,c[b+13],4,681279174),_=U(_,h,g,w,c[b+0],11,-358537222),w=U(w,_,h,g,c[b+3],16,-722521979),g=U(g,w,_,h,c[b+6],23,76029189),h=U(h,g,w,_,c[b+9],4,-640364487),_=U(_,h,g,w,c[b+12],11,-421815835),w=U(w,_,h,g,c[b+15],16,530742520),g=U(g,w,_,h,c[b+2],23,-995338651),h=V(h,g,w,_,c[b+0],6,-198630844),_=V(_,h,g,w,c[b+7],10,1126891415),w=V(w,_,h,g,c[b+14],15,-1416354905),g=V(g,w,_,h,c[b+5],21,-57434055),h=V(h,g,w,_,c[b+12],6,1700485571),_=V(_,h,g,w,c[b+3],10,-1894986606),w=V(w,_,h,g,c[b+10],15,-1051523),g=V(g,w,_,h,c[b+1],21,-2054922799),h=V(h,g,w,_,c[b+8],6,1873313359),_=V(_,h,g,w,c[b+15],10,-30611744),w=V(w,_,h,g,c[b+6],15,-1560198380),g=V(g,w,_,h,c[b+13],21,1309151649),h=V(h,g,w,_,c[b+4],6,-145523070),_=V(_,h,g,w,c[b+11],10,-1120210379),w=V(w,_,h,g,c[b+2],15,718787259),g=V(g,w,_,h,c[b+9],21,-343485551),h=h+Y>>>0,g=g+J>>>0,w=w+B>>>0,_=_+q>>>0}return o.endian([h,g,w,_])};s._ff=function(f,a,c,p,h,g,w){var _=f+(a&c|~a&p)+(h>>>0)+w;return(_<<g|_>>>32-g)+a},s._gg=function(f,a,c,p,h,g,w){var _=f+(a&p|c&~p)+(h>>>0)+w;return(_<<g|_>>>32-g)+a},s._hh=function(f,a,c,p,h,g,w){var _=f+(a^c^p)+(h>>>0)+w;return(_<<g|_>>>32-g)+a},s._ii=function(f,a,c,p,h,g,w){var _=f+(c^(a|~p))+(h>>>0)+w;return(_<<g|_>>>32-g)+a},s._blocksize=16,s._digestsize=16,_0.exports=function(f,a){if(f==null)throw new Error("Illegal argument "+f);var c=o.wordsToBytes(s(f,a));return a&&a.asBytes?c:a&&a.asString?l.bytesToString(c):o.bytesToHex(c)}})();class Lp{constructor(r,n){this.type=r,this.abonent=n.abonent,this.email=n.email,this.role=n.role,this.psw=n.psw,this.uid=_0.exports(JSON.stringify(Date.now())+n.email),this.pcPull={},this.main_pc,this.url,this.localStream,this.remoteStream,this.startTime,this.phone=""}SendVideoOffer(r){this.pcPull[r].params.loc_desc="",this.pcPull[r].params.loc_cand="",this.pcPull[r].con.createOffer(this.mode={offerToReceiveAudio:1,offerToReceiveVideo:1,iceRestart:1}).then(n=>this.pcPull[r].onCreateVideoOfferSuccess(n),this.pcPull[r].onCreateOfferError)}onIceStateChange(r,n){r&&r.con&&(r.con.iceConnectionState==="new"&&console.log(r.pc_key+" ICE state change event: new",this),r.con.iceConnectionState==="checking"&&(console.log(r.pc_key+" ICE state change event: checking",this),this.checking_tmr=setTimeout(()=>{r.con.restartIce()},5e3)),r.con.iceConnectionState==="disconnected"&&(console.log(r.pc_key+" ICE state change event: disconnected",this),r.con.restartIce()),r.con.iceConnectionState==="connected"&&(clearTimeout(this.checking_tmr),console.log(r.pc_key+" ICE state change event: connected",this),this.main_pc=r.pc_key),r.con.iceConnectionState==="failed"&&(console.log(r.pc_key+" ICE state change event: failed",this),r.con.restartIce()),r.con.iceConnectionState==="completed"&&console.log(r.pc_key+" ICE state change event: completed",this),console.log(r.pc_key+" ICE state change event: "+n.type,this))}TransFile(){async function r(){const n=this.fileInput.files[0];if(n||console.log("No file chosen"),n.size===0)return;dataProgress.style.display="block",dataProgress.attributes.max=n.size;let l=new FileReader;l.onload=s=>{console.log("FileRead.onload ",s),this.DC.SendFile(s.target.result,n.name)},l.readAsArrayBuffer(n)}this.fileInput.removeEventListener("change",this.fileInput.onchange),this.fileInput.onchange=r,this.fileInput.dispatchEvent(new Event("click"))}GetUserMedia(r,n){navigator.mediaDevices.getUserMedia(r).then(l=>this.gotStream(l,n)).catch(function(l){(l.name==="NotFoundError"||l.name==="NotReadableError")&&(r.audio&&alert("Something wrong with mic?"),r.video&&alert("Something wrong with camera?"),n(!1))})}get RemoteStream(){return this.remoteStream}async InitRTC(r,n){this.conf=await(await fetch("./src/lib/ice_conf.json")).json();let l={iceTransportPolicy:"all",lifetimeDuration:this.conf.lifetimeDuration,rtcpMuxPolicy:"require",bundlePolicy:"balanced",iceServers:[this.conf.stun,this.conf.turn]};this.pcPull[r]&&(this.DC&&this.DC.dc&&(this.DC.dc.close(),this.DC=null),this.pcPull[r].con&&(this.pcPull[r].con.close(),this.pcPull[r].con=null));let s={};this.pcPull[r]=null,this.pcPull[r]=new Tp(this,l,r),this.pcPull[r].signch=this.signch,this.pcPull[r].params=s,this.DC=new Rp(this,this.pcPull[r]),this.startTime=Date.now(),n()}gotStream(r,n){this.localStream||(this.localStream=r),this.getTracks(r,n)}getTracks(r,n){r.getTracks().forEach(f=>{for(let a in this.pcPull)a!=="reserve"&&(this.pcPull[a].con.iceConnectionState==="disconnected"||this.pcPull[a].con.iceConnectionState==="closed"||(this.localStream.addTrack(f),this.pcPull[a].sender=this.pcPull[a].con.addTrack(f,this.localStream),f.kind==="video"?this.SetLocalVideo(this.localStream):f.kind))});var l=this.localStream.getVideoTracks(),s=this.localStream.getAudioTracks();l.length>0&&console.log("Using video device: "+l[0].label,this),s.length>0&&console.log("Using audio device: "+s[0].label,this),n(!0)}RemoveTracks(){this.localStream&&(this.localStream.getVideoTracks().forEach(l=>{l.readyState=="live"&&l.kind==="video"&&l.stop(),this.localStream.removeTrack(l)}),this.localStream.getAudioTracks().forEach(l=>{l.readyState=="live"&&l.kind==="audio"&&l.stop(),this.localStream.removeTrack(l)}))}}class Pp extends Lp{constructor(r,n,l){super(r,n),this.signch=l,this.checking_tmr}Init(r){let n=this;this.mode="";let l=[n.abonent];n.main_pc="";for(let s in l)n.InitRTC(l[s],function(){r()})}SendOffer(r){let n=this;n.pcPull[r].params.loc_desc="",n.pcPull[r].params.loc_cand="",n.pcPull[r].con.createOffer(this.mode={offerToReceiveAudio:1,offerToReceiveVideo:1,iceRestart:1}).then(l=>n.pcPull[r].onCreateOfferSuccess(l),n.pcPull[r].onCreateOfferError)}ChooseTarif(r){let n={};return n.proj="kolmit",n.func="tarif",n.em=this.email,n.tarif=r,n.psw=this.psw,new Promise((l,s)=>{this.signch.SendMessage(n,f=>{l(f)})})}SendStatus(r){let n={};return n.proj="kolmit",n.func="status",n.type=this.type,n.abonent=this.abonent,n.uid=this.uid,n.em=this.email,n.status=r,this.status=r,new Promise((l,s)=>{this.signch.SendMessage(n,f=>{l(f)})})}SendVideoOffer(r){let n=this;n.pcPull[r].params.loc_desc="",n.pcPull[r].params.loc_cand="",n.pcPull[r].con.createOffer(n.mode={offerToReceiveAudio:1,offerToReceiveVideo:1,iceRestart:1}).then(l=>n.pcPull[r].onCreateVideoOfferSuccess(l),n.pcPull[r].onCreateOfferError)}async Offer(){this.Init(async()=>{this.pcPull[this.abonent].con.signalingState!=="closed"&&this.GetUserMedia({audio:1,video:0},()=>{this.SendOffer(this.abonent)})})}OnActive(){this.Init(()=>{this.pcPull[this.abonent].con.signalingState!=="closed"&&this.GetUserMedia({audio:1,video:0},r=>{r&&this.SendOffer(this.abonent)})})}OnCall(){this.DC&&clearInterval(this.DC.inter),this.SendStatus("call")}OnTalk(){this.DC.dc&&this.DC.SendDCTalk(),this.SendStatus("talk"),console.log()}OnMute(){this.RemoveTracks(),this.DC&&this.DC.SendDCHangup(()=>{})}OnInactive(){this.RemoveTracks(),(this.DC.dc.readyState==="open"||this.DC.dc.readyState==="connecting")&&this.DC.SendDCHangup(()=>{this.DC.dc.close(),this.SendStatus("close")})}OnMessage(r){let n=this;if(Bl.set(r),r.func,r.func==="mute"&&this.RemoveTracks(),r.func==="talk"&&clearInterval(n.DC.inter),r.func,r.func,r.desc&&(n.pcPull[r.abonent].con&&(n.pcPull[r.abonent].con.connectionState==="failed"||n.pcPull[r.abonent].con.connectionState==="disconnected")&&n.pcPull[r.abonent].con.restartIce(),n.pcPull[r.abonent]&&(n.pcPull[r.abonent].params.rem_desc=r.desc,n.pcPull[r.abonent].setRemoteDesc(r.desc),n.PlayCallCnt())),r.cand&&n.pcPull[r.abonent]){if(!n.pcPull[r.abonent].con||n.pcPull[r.abonent].con.signalingState==="closed")return;try{if(n.pcPull[r.abonent].params.rem_cand=r.cand,Array.isArray(r.cand))for(let l in r.cand)n.pcPull[r.abonent].con.addIceCandidate(r.cand[l]);else n.pcPull[r.abonent].con.addIceCandidate(r.cand)}catch(l){log(l)}}}}function Bp(o){let r,n,l,s,f,a,c,p;return{c(){r=W("div"),n=He("svg"),l=He("g"),s=He("title"),f=_e("Layer 1"),a=He("path"),this.h()},l(h){r=H(h,"DIV",{class:!0,style:!0});var g=F(r);n=Ve(g,"svg",{class:!0,status:!0,width:!0,height:!0,style:!0});var w=F(n);l=Ve(w,"g",{class:!0,style:!0});var _=F(l);s=Ve(_,"title",{});var b=F(s);f=me(b,"Layer 1"),b.forEach(O),a=Ve(_,"path",{d:!0,id:!0,class:!0,transform:!0}),F(a).forEach(O),_.forEach(O),w.forEach(O),g.forEach(O),this.h()},h(){C(a,"d","M390.7 353.3c-120.30000000000001 69.5 63.19999999999999 413.59999999999997 194.90000000000003 337.59999999999997l122.10000000000002 211.39999999999998c-55.60000000000002 32.10000000000002-102.5 52.30000000000007-166.9000000000001 15.5-178.79999999999995-102.19999999999993-375.59999999999997-442.9-369.99999999999994-646.0999999999999 1.8999999999999773-70.60000000000005 43.599999999999994-98.30000000000004 97.89999999999998-129.70000000000005 23.30000000000001 40.400000000000006 98.60000000000002 170.8 122 211.3z m50.400000000000034-5.699999999999989c-13 7.5-29.700000000000045 3.099999999999966-37.30000000000001-10l-115-199.3c-7.5-13.000000000000014-3.1000000000000227-29.700000000000017 10-37.30000000000001l60.5-34.900000000000006c13-7.499999999999993 29.69999999999999-3.0999999999999943 37.30000000000001 10l115.09999999999997 199.29999999999998c7.500000000000057 13 3.099999999999966 29.700000000000045-10 37.200000000000045l-60.599999999999966 35z m314.4 544.5c-13 7.5-29.700000000000045 3.1000000000000227-37.299999999999955-10l-115-199.30000000000007c-7.5-13-3.1000000000000227-29.699999999999932 10-37.299999999999955l60.5-34.89999999999998c13-7.5 29.699999999999932-3.1000000000000227 37.299999999999955 10l115.10000000000002 199.29999999999995c7.5 13 3.1000000000000227 29.700000000000045-10 37.30000000000007l-60.60000000000002 34.89999999999998z"),C(a,"id","svg_1"),C(a,"class","selected"),C(a,"transform","scale(.04)"),C(l,"class","currentLayer svelte-nv6nfj"),I(l,"stroke","lightgrey"),I(l,"stroke-width","10px"),C(n,"class","callButton svelte-nv6nfj"),C(n,"status",o[0]),C(n,"width","50"),C(n,"height","50"),I(n,"position","absolute"),I(n,"left","0px"),I(n,"top","5px"),I(n,"z-index","30"),C(r,"class","callObject"),I(r,"display","block")},m(h,g){j(h,r,g),A(r,n),A(n,l),A(l,s),A(s,f),A(l,a),c||(p=[Ie(n,"click",o[2]),Ie(r,"long-press",function(){m0(o[1])&&o[1].apply(this,arguments)})],c=!0)},p(h,[g]){o=h,g&1&&C(n,"status",o[0])},i:Qe,o:Qe,d(h){h&&O(r),c=!1,cr(p)}}}function Mp(o,r,n){let{status:l="inactive"}=r,{OnLongPress:s}=r;function f(a){$1.call(this,o,a)}return o.$$set=a=>{"status"in a&&n(0,l=a.status),"OnLongPress"in a&&n(1,s=a.OnLongPress)},[l,s,f]}class Fp extends dt{constructor(r){super(),pt(this,r,Mp,Bp,gt,{status:0,OnLongPress:1})}}function Np(o){let r,n,l,s,f,a,c;return{c(){r=W("button"),n=He("svg"),l=He("line"),s=He("line"),f=He("line"),this.h()},l(p){r=H(p,"BUTTON",{style:!0,class:!0});var h=F(r);n=Ve(h,"svg",{width:!0,height:!0,class:!0});var g=F(n);l=Ve(g,"line",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,style:!0,class:!0}),F(l).forEach(O),s=Ve(g,"line",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,style:!0,class:!0}),F(s).forEach(O),f=Ve(g,"line",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,style:!0,class:!0}),F(f).forEach(O),g.forEach(O),h.forEach(O),this.h()},h(){C(l,"id","top"),C(l,"x1","0"),C(l,"y1","8"),C(l,"x2","26"),C(l,"y2","8"),I(l,"transition","transform "+o[1]+"s ease-in-out, opacity "+o[1]+"s ease-in-out"),C(l,"class","svelte-46odli"),C(s,"id","mid"),C(s,"x1","0"),C(s,"y1","16"),C(s,"x2","26"),C(s,"y2","16"),I(s,"transition","transform "+o[1]+"s ease-in-out, opacity "+o[1]+"s ease-in-out"),C(s,"class","svelte-46odli"),C(f,"id","bot"),C(f,"x1","0"),C(f,"y1","24"),C(f,"x2","26"),C(f,"y2","24"),I(f,"transition","transform "+o[1]+"s ease-in-out, opacity "+o[1]+"s ease-in-out"),C(f,"class","svelte-46odli"),C(n,"width","26"),C(n,"height","26"),C(n,"class","svelte-46odli"),I(r,"position","fixed"),I(r,"transition","color "+o[1]+"s ease-in-out"),I(r,"color",o[0]?o[3]:o[2]),C(r,"class","svelte-46odli"),ro(r,"open",o[0])},m(p,h){j(p,r,h),A(r,n),A(n,l),A(n,s),A(n,f),a||(c=Ie(r,"click",o[4]),a=!0)},p(p,[h]){h&2&&I(l,"transition","transform "+p[1]+"s ease-in-out, opacity "+p[1]+"s ease-in-out"),h&2&&I(s,"transition","transform "+p[1]+"s ease-in-out, opacity "+p[1]+"s ease-in-out"),h&2&&I(f,"transition","transform "+p[1]+"s ease-in-out, opacity "+p[1]+"s ease-in-out"),h&2&&I(r,"transition","color "+p[1]+"s ease-in-out"),h&13&&I(r,"color",p[0]?p[3]:p[2]),h&1&&ro(r,"open",p[0])},i:Qe,o:Qe,d(p){p&&O(r),a=!1,c()}}}function Up(o,r,n){let{open:l}=r,{duration:s}=r,{burgerColor:f}=r,{menuColor:a}=r;const c=()=>n(0,l=!l);return o.$$set=p=>{"open"in p&&n(0,l=p.open),"duration"in p&&n(1,s=p.duration),"burgerColor"in p&&n(2,f=p.burgerColor),"menuColor"in p&&n(3,a=p.menuColor)},[l,s,f,a,c]}class Wp extends dt{constructor(r){super(),pt(this,r,Up,Np,gt,{open:0,duration:1,burgerColor:2,menuColor:3})}}function Hp(o){let r,n,l;const s=o[8].default,f=zr(s,o,o[7],null);return{c(){r=W("div"),n=W("div"),f&&f.c(),this.h()},l(a){r=H(a,"DIV",{id:!0,style:!0,class:!0});var c=F(r);n=H(c,"DIV",{id:!0,style:!0,class:!0});var p=F(n);f&&f.l(p),p.forEach(O),c.forEach(O),this.h()},h(){C(n,"id","menu"),I(n,"padding",o[3]),I(n,"padding-top",o[4]),C(n,"class","svelte-2zb9xy"),C(r,"id","container"),I(r,"position","fixed"),I(r,"z-index","1"),I(r,"background-color",o[5]),I(r,"color",o[6]),I(r,"width",o[2]),I(r,"right",o[0]?"0px":"-"+(parseInt(o[2])+10)+"px"),I(r,"transition","right "+o[1]+"s ease-in-out"),C(r,"class","svelte-2zb9xy")},m(a,c){j(a,r,c),A(r,n),f&&f.m(n,null),l=!0},p(a,[c]){f&&f.p&&(!l||c&128)&&Gr(f,s,a,a[7],l?qr(s,a[7],c,null):Kr(a[7]),null),(!l||c&8)&&I(n,"padding",a[3]),(!l||c&16)&&I(n,"padding-top",a[4]),(!l||c&32)&&I(r,"background-color",a[5]),(!l||c&64)&&I(r,"color",a[6]),(!l||c&4)&&I(r,"width",a[2]),(!l||c&5)&&I(r,"right",a[0]?"0px":"-"+(parseInt(a[2])+10)+"px"),(!l||c&2)&&I(r,"transition","right "+a[1]+"s ease-in-out")},i(a){l||(ue(f,a),l=!0)},o(a){pe(f,a),l=!1},d(a){a&&O(r),f&&f.d(a)}}}function Vp(o,r,n){let{$$slots:l={},$$scope:s}=r,{open:f}=r,{duration:a}=r,{width:c}=r,{padding:p}=r,{paddingTop:h}=r,{backgroundColor:g}=r,{menuColor:w}=r;return o.$$set=_=>{"open"in _&&n(0,f=_.open),"duration"in _&&n(1,a=_.duration),"width"in _&&n(2,c=_.width),"padding"in _&&n(3,p=_.padding),"paddingTop"in _&&n(4,h=_.paddingTop),"backgroundColor"in _&&n(5,g=_.backgroundColor),"menuColor"in _&&n(6,w=_.menuColor),"$$scope"in _&&n(7,s=_.$$scope)},[f,a,c,p,h,g,w,s,l]}class zp extends dt{constructor(r){super(),pt(this,r,Vp,Hp,gt,{open:0,duration:1,width:2,padding:3,paddingTop:4,backgroundColor:5,menuColor:6})}}function Gp(o){let r;const n=o[10].default,l=zr(n,o,o[13],null);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,f){l&&l.m(s,f),r=!0},p(s,f){l&&l.p&&(!r||f&8192)&&Gr(l,n,s,s[13],r?qr(n,s[13],f,null):Kr(s[13]),null)},i(s){r||(ue(l,s),r=!0)},o(s){pe(l,s),r=!1},d(s){l&&l.d(s)}}}function Kp(o){let r,n,l,s,f,a;const c=[o[1]];function p(b){o[11](b)}let h={};for(let b=0;b<c.length;b+=1)h=Wr(h,c[b]);o[0]!==void 0&&(h.open=o[0]),r=new Wp({props:h}),Ze.push(()=>Tt(r,"open",p));const g=[o[2]];function w(b){o[12](b)}let _={$$slots:{default:[Gp]},$$scope:{ctx:o}};for(let b=0;b<g.length;b+=1)_=Wr(_,g[b]);return o[0]!==void 0&&(_.open=o[0]),s=new zp({props:_}),Ze.push(()=>Tt(s,"open",w)),{c(){at(r.$$.fragment),l=ne(),at(s.$$.fragment)},l(b){ft(r.$$.fragment,b),l=re(b),ft(s.$$.fragment,b)},m(b,P){ct(r,b,P),j(b,l,P),ct(s,b,P),a=!0},p(b,[P]){const k=P&2?Hr(c,[Vr(b[1])]):{};!n&&P&1&&(n=!0,k.open=b[0],It(()=>n=!1)),r.$set(k);const U=P&4?Hr(g,[Vr(b[2])]):{};P&8192&&(U.$$scope={dirty:P,ctx:b}),!f&&P&1&&(f=!0,U.open=b[0],It(()=>f=!1)),s.$set(U)},i(b){a||(ue(r.$$.fragment,b),ue(s.$$.fragment,b),a=!0)},o(b){pe(r.$$.fragment,b),pe(s.$$.fragment,b),a=!1},d(b){ht(r,b),b&&O(l),ht(s,b)}}}function qp(o,r,n){let{$$slots:l={},$$scope:s}=r,{open:f=!1}=r,{duration:a=.4}=r,{width:c="250px"}=r,{padding:p="20px"}=r,{paddingTop:h="50px"}=r,{backgroundColor:g="rgb(250, 250, 250)"}=r,{burgerColor:w="rgb(18.4, 18.4, 18.4)"}=r,{menuColor:_="rgb(180, 180, 180)"}=r,b={duration:a,burgerColor:w,menuColor:_},P={duration:a,width:c,padding:p,paddingTop:h,backgroundColor:g,menuColor:_};function k(V){f=V,n(0,f)}function U(V){f=V,n(0,f)}return o.$$set=V=>{"open"in V&&n(0,f=V.open),"duration"in V&&n(3,a=V.duration),"width"in V&&n(4,c=V.width),"padding"in V&&n(5,p=V.padding),"paddingTop"in V&&n(6,h=V.paddingTop),"backgroundColor"in V&&n(7,g=V.backgroundColor),"burgerColor"in V&&n(8,w=V.burgerColor),"menuColor"in V&&n(9,_=V.menuColor),"$$scope"in V&&n(13,s=V.$$scope)},[f,b,P,a,c,p,h,g,w,_,l,k,U,s]}class Jp extends dt{constructor(r){super(),pt(this,r,qp,Kp,gt,{open:0,duration:3,width:4,padding:5,paddingTop:6,backgroundColor:7,burgerColor:8,menuColor:9})}}const Yp=o=>({}),Mo=o=>({});function Zp(o){let r,n,l;const s=o[4].footer,f=zr(s,o,o[3],Mo);return{c(){r=W("video"),n=ne(),f&&f.c(),this.h()},l(a){r=H(a,"VIDEO",{id:!0,style:!0});var c=F(r);c.forEach(O),n=re(a),f&&f.l(a),this.h()},h(){C(r,"id","localVideo"),r.autoplay=!0,r.playsInline=!0,r.muted=!0,I(r,"display",o[0]),I(r,"position","absolute"),I(r,"top","0px"),I(r,"width","130%"),I(r,"height","100px"),I(r,"z-index","20")},m(a,c){j(a,r,c),j(a,n,c),f&&f.m(a,c),l=!0},p(a,[c]){(!l||c&1)&&I(r,"display",a[0]),f&&f.p&&(!l||c&8)&&Gr(f,s,a,a[3],l?qr(s,a[3],c,Yp):Kr(a[3]),Mo)},i(a){l||(ue(f,a),l=!0)},o(a){pe(f,a),l=!1},d(a){a&&O(r),a&&O(n),f&&f.d(a)}}}function Xp(o,r,n){let{$$slots:l={},$$scope:s}=r,{display:f="block"}=r,{srcObject:a=""}=r,c;return Nn(async()=>{n(2,c=document.getElementById("localVideo"))}),o.$$set=p=>{"display"in p&&n(0,f=p.display),"srcObject"in p&&n(1,a=p.srcObject),"$$scope"in p&&n(3,s=p.$$scope)},o.$$.update=()=>{o.$$.dirty&6&&(c&&a?n(2,c.srcObject=a,c):c&&c.srcObject&&(c.srcObject.getVideoTracks().forEach(p=>{p.stop(),c.srcObject.removeTrack(p)}),n(2,c.src="",c)))},[f,a,c,s,l]}class Qp extends dt{constructor(r){super(),pt(this,r,Xp,Zp,gt,{display:0,srcObject:1})}}function jp(o){let r,n,l,s;const f=o[5].default,a=zr(f,o,o[4],null);return{c(){r=W("video"),n=W("track"),l=ne(),a&&a.c(),this.h()},l(c){r=H(c,"VIDEO",{id:!0,poster:!0,style:!0});var p=F(r);n=H(p,"TRACK",{kind:!0}),p.forEach(O),l=re(c),a&&a.l(c),this.h()},h(){C(n,"kind","captions"),C(r,"id","remoteVideo"),r.autoplay=!0,r.playsInline=!0,C(r,"poster",o[1]),I(r,"display",o[0]),I(r,"position","absolute"),I(r,"height","105px"),I(r,"background-color","white"),I(r,"max-width","12%"),I(r,"z-index","10")},m(c,p){j(c,r,p),A(r,n),j(c,l,p),a&&a.m(c,p),s=!0},p(c,[p]){(!s||p&2)&&C(r,"poster",c[1]),(!s||p&1)&&I(r,"display",c[0]),a&&a.p&&(!s||p&16)&&Gr(a,f,c,c[4],s?qr(f,c[4],p,null):Kr(c[4]),null)},i(c){s||(ue(a,c),s=!0)},o(c){pe(a,c),s=!1},d(c){c&&O(r),c&&O(l),a&&a.d(c)}}}function xp(o,r,n){let{$$slots:l={},$$scope:s}=r,{display:f="none"}=r,{poster:a}=r,{srcObject:c}=r,p;return Nn(async()=>{n(3,p=document.getElementById("remoteVideo"))}),o.$$set=h=>{"display"in h&&n(0,f=h.display),"poster"in h&&n(1,a=h.poster),"srcObject"in h&&n(2,c=h.srcObject),"$$scope"in h&&n(4,s=h.$$scope)},o.$$.update=()=>{o.$$.dirty&12&&(p&&c?n(3,p.srcObject=c,p):p&&p.srcObject&&(p.srcObject.getVideoTracks().forEach(h=>{h.stop(),p.srcObject.removeTrack(h)}),n(3,p.src="",p)))},[f,a,c,p,s,l]}class $p extends dt{constructor(r){super(),pt(this,r,xp,jp,gt,{display:0,poster:1,srcObject:2})}}function eg(o){let r,n,l,s,f,a;return{c(){r=W("a"),n=ne(),l=W("form"),s=W("input"),f=ne(),a=W("i"),this.h()},l(c){r=H(c,"A",{id:!0,style:!0});var p=F(r);p.forEach(O),n=re(c),l=H(c,"FORM",{id:!0,style:!0});var h=F(l);s=H(h,"INPUT",{type:!0,id:!0,name:!0}),h.forEach(O),f=re(c),a=H(c,"I",{class:!0,style:!0}),F(a).forEach(O),this.h()},h(){C(r,"id","download_href"),I(r,"display","none"),C(s,"type","file"),C(s,"id","fileInput"),C(s,"name","files"),C(l,"id","fileInfo"),I(l,"display","none"),C(a,"class","fa fa-spinner fa-spin"),I(a,"position","absolute"),I(a,"top","50%"),I(a,"left","50%"),I(a,"font-size","44px")},m(c,p){j(c,r,p),j(c,n,p),j(c,l,p),A(l,s),j(c,f,p),j(c,a,p)},p:Qe,i:Qe,o:Qe,d(c){c&&O(r),c&&O(n),c&&O(l),c&&O(f),c&&O(a)}}}class tg extends dt{constructor(r){super(),pt(this,r,null,eg,gt,{})}}function ng(o){let r,n,l;return{c(){r=W("audio"),n=W("track"),this.h()},l(s){r=H(s,"AUDIO",{id:!0,src:!0});var f=F(r);n=H(f,"TRACK",{kind:!0}),f.forEach(O),this.h()},h(){C(n,"kind","captions"),C(r,"id","localSound"),yn(r.src,l="../src/routes/assets/mp3/ring.mp3")||C(r,"src",l)},m(s,f){j(s,r,f),A(r,n)},p:Qe,i:Qe,o:Qe,d(s){s&&O(r)}}}function rg(o,r,n){let{paused:l=!0}=r,s;return Nn(async()=>{n(1,s=document.getElementById("localSound"))}),o.$$set=f=>{"paused"in f&&n(0,l=f.paused)},o.$$.update=()=>{o.$$.dirty&3&&s&&(l?s.pause():s.play())},[l,s]}class ig extends dt{constructor(r){super(),pt(this,r,rg,ng,gt,{paused:0})}}function lg(o){let r,n;return{c(){r=W("audio"),n=W("track"),this.h()},l(l){r=H(l,"AUDIO",{id:!0});var s=F(r);n=H(s,"TRACK",{kind:!0}),s.forEach(O),this.h()},h(){C(n,"kind","captions"),C(r,"id","remoteAudio"),r.autoplay=!0,r.muted=o[0]},m(l,s){j(l,r,s),A(r,n)},p(l,[s]){s&1&&(r.muted=l[0])},i:Qe,o:Qe,d(l){l&&O(r)}}}function sg(o,r,n){let{muted:l=!1}=r,{srcObject:s}=r,f;return Nn(async()=>{n(2,f=document.getElementById("remoteAudio"))}),o.$$set=a=>{"muted"in a&&n(0,l=a.muted),"srcObject"in a&&n(1,s=a.srcObject)},o.$$.update=()=>{o.$$.dirty&6&&f&&s&&n(2,f.srcObject=s,f)},[l,s,f]}class ug extends dt{constructor(r){super(),pt(this,r,sg,lg,gt,{muted:0,srcObject:1})}}function og(o){let r;return{c(){r=W("video"),this.h()},l(n){r=H(n,"VIDEO",{class:!0,style:!0}),F(r).forEach(O),this.h()},h(){C(r,"class","recordedVideo"),r.autoplay=!0,r.muted=!0,I(r,"display",o[0])},m(n,l){j(n,r,l)},p(n,[l]){l&1&&I(r,"display",n[0])},i:Qe,o:Qe,d(n){n&&O(r)}}}function ag(o,r,n){let{display:l="none"}=r;return o.$$set=s=>{"display"in s&&n(0,l=s.display)},[l]}class fg extends dt{constructor(r){super(),pt(this,r,ag,og,gt,{display:0})}}class cg{constructor(r){this.host=r,this.cb,this.timeout=1e4,this.cb={},this.openSocket()}openSocket(){this.ws||(this.ws=new WebSocket(this.host.host_ws)),this.ws.onerror=function(r){console.log("Connect Error: "+r.toString())},this.ws.onopen=()=>{this.waitForSocketConnection(this.ws,()=>{_i.set(this)}),this.keepAlive()},this.ws.onclose=function(){console.log("echo-protocol Connection Closed"),this.ws=new WebSocket(this.url)}}keepAlive(){setInterval(()=>{this.ws.readyState===1&&this.ws.send(encodeURIComponent("kolmit"))},this.timeout)}waitForSocketConnection(r,n){let l=this;setTimeout(function(){r.readyState===1?n!=null&&n():(console.log("wait for connection..."),l.waitForSocketConnection(r,n))},5)}SendMessage(r,n){let l=this;this.cb[r.func]=n,this.ws.onmessage=s=>{if(s.type==="message"){const f=JSON.parse(decodeURIComponent(s.data));l.cb[f.func]&&(l.cb[f.func](f),delete l.cb[f.func]),Bl.set(f),globalThis.rtc&&globalThis.rtc.OnMessage(f),n(f)}};try{l.ws.readyState===1||l.openSocket(),l.ws.send(encodeURIComponent(JSON.stringify(r)))}catch{return!1}}}function hg(o){let r,n,l,s,f;return{c(){r=W("b"),n=_e("100"),l=ne(),s=W("span"),f=_e("0"),this.h()},l(a){r=H(a,"B",{class:!0,style:!0});var c=F(r);n=me(c,"100"),c.forEach(O),l=re(a),s=H(a,"SPAN",{class:!0,style:!0});var p=F(s);f=me(p,"0"),p.forEach(O),this.h()},h(){C(r,"class","call_cnt"),I(r,"display","none"),I(r,"position","absolute"),I(r,"left","22px"),I(r,"top","10px"),I(r,"color","#0e0cff"),I(r,"font-size","12px"),C(s,"class","badge badge-primary badge-pill call-queue"),I(s,"display","none"),I(s,"position","absolute"),I(s,"right","0px"),I(s,"bottom","0px"),I(s,"color","#0e0cff"),I(s,"font-size","12px"),I(s,"opacity","1")},m(a,c){j(a,r,c),A(r,n),j(a,l,c),j(a,s,c),A(s,f)},p:Qe,d(a){a&&O(r),a&&O(l),a&&O(s)}}}function dg(o){let r;return{c(){r=W("div")},l(n){r=H(n,"DIV",{}),F(r).forEach(O)},m(n,l){j(n,r,l),o[19](r)},p:Qe,d(n){n&&O(r),o[19](null)}}}function Fo(o){let r,n,l,s,f,a,c;return{c(){r=W("div"),n=He("svg"),l=He("glyph"),s=He("g"),f=He("path"),this.h()},l(p){r=H(p,"DIV",{class:!0,style:!0});var h=F(r);n=Ve(h,"svg",{height:!0,width:!0,style:!0});var g=F(n);l=Ve(g,"glyph",{"glyph-name":!0,unicode:!0,"horiz-adv-x":!0}),F(l).forEach(O),s=Ve(g,"g",{class:!0,style:!0});var w=F(s);f=Ve(w,"path",{d:!0,transform:!0,style:!0}),F(f).forEach(O),w.forEach(O),g.forEach(O),h.forEach(O),this.h()},h(){C(l,"glyph-name","ui-video-chat"),C(l,"unicode","\uEC90"),C(l,"horiz-adv-x","50"),C(f,"d","M891.5 23h-783c-59.7 0-108.5 48.8-108.5 108.5v466.20000000000005c0 59.59999999999991 48.8 108.5 108.5 108.5h222.39999999999998v270.5999999999999l270.70000000000005-270.5999999999999h289.9c59.700000000000045 0 108.5-48.90000000000009 108.5-108.5v-466.20000000000005c0-59.7-48.799999999999955-108.5-108.5-108.5z m-223.5 370l-252.8 134.70000000000005c-26.30000000000001 14-47.89999999999998 1.099999999999909-47.89999999999998-28.700000000000045v-262.9c0-29.900000000000034 21.599999999999966-42.80000000000001 47.89999999999998-28.80000000000001l252.8 134.7c26.299999999999955 14 26.299999999999955 37 0 51z"),C(f,"transform","scale(.03)"),I(f,"fill","lightgrey"),I(f,"stroke","black"),I(f,"stroke-width","20px"),C(s,"class","currentLayer"),I(s,"position","absolute"),I(s,"right","0"),I(s,"top","0"),I(s,"stroke","grey"),I(s,"stroke-width","2px"),I(s,"fill","lightgrey"),I(s,"font-size","30px"),C(n,"height","30"),C(n,"width","30"),I(n,"position","absolute"),I(n,"bottom","70px"),I(n,"right","0px"),I(n,"z-index","30"),C(r,"class","video"),I(r,"position","absolute"),I(r,"top","0"),I(r,"width","100px"),I(r,"height","100px")},m(p,h){j(p,r,h),A(r,n),A(n,l),A(n,s),A(s,f),a||(c=Ie(n,"click",o[16]),a=!0)},p:Qe,d(p){p&&O(r),a=!1,c()}}}function No(o){let r;function n(f,a){return f[6]?pg:gg}let l=n(o),s=l(o);return{c(){s.c(),r=st()},l(f){s.l(f),r=st()},m(f,a){s.m(f,a),j(f,r,a)},p(f,a){l===(l=n(f))&&s?s.p(f,a):(s.d(1),s=l(f),s&&(s.c(),s.m(r.parentNode,r)))},d(f){s.d(f),f&&O(r)}}}function pg(o){let r,n=o[11]["Cancel Edit Call Center"][o[7]]+"",l,s,f;return{c(){r=W("h5"),l=_e(n)},l(a){r=H(a,"H5",{});var c=F(r);l=me(c,n),c.forEach(O)},m(a,c){j(a,r,c),A(r,l),s||(f=Ie(r,"click",o[27]),s=!0)},p(a,c){c[0]&128&&n!==(n=a[11]["Cancel Edit Call Center"][a[7]]+"")&&Ne(l,n)},d(a){a&&O(r),s=!1,f()}}}function gg(o){let r,n=o[11]["Edit Call Center"][o[7]]+"",l,s,f;return{c(){r=W("h5"),l=_e(n)},l(a){r=H(a,"H5",{});var c=F(r);l=me(c,n),c.forEach(O)},m(a,c){j(a,r,c),A(r,l),s||(f=Ie(r,"click",o[26]),s=!0)},p(a,c){c[0]&128&&n!==(n=a[11]["Edit Call Center"][a[7]]+"")&&Ne(l,n)},d(a){a&&O(r),s=!1,f()}}}function Uo(o){let r,n=o[11]["Create my own net"][o[7]]+"",l,s,f;return{c(){r=W("h5"),l=_e(n)},l(a){r=H(a,"H5",{});var c=F(r);l=me(c,n),c.forEach(O)},m(a,c){j(a,r,c),A(r,l),s||(f=Ie(r,"click",o[28]),s=!0)},p(a,c){c[0]&128&&n!==(n=a[11]["Create my own net"][a[7]]+"")&&Ne(l,n)},d(a){a&&O(r),s=!1,f()}}}function _g(o){let r=o[11]["Language Select"][o[7]]+"",n,l,s,f,a,c,p,h,g,w,_,b,P,k,U,V,Y,J,B,q,R,x,Z,se,De,Se=o[0]&&No(o),Ae=o[0].email!==o[0].abonent&&Uo(o);return{c(){n=_e(r),l=_e(`:\r
                \r
                `),s=W("div"),f=W("label"),a=W("input"),c=ne(),p=W("img"),g=ne(),w=W("label"),_=W("input"),b=ne(),P=W("img"),U=ne(),V=W("label"),Y=W("input"),J=ne(),B=W("img"),R=ne(),Se&&Se.c(),x=ne(),Ae&&Ae.c(),Z=st(),this.h()},l(te){n=me(te,r),l=me(te,`:\r
                \r
                `),s=H(te,"DIV",{style:!0});var we=F(s);f=H(we,"LABEL",{style:!0});var X=F(f);a=H(X,"INPUT",{type:!0,name:!0}),c=re(X),p=H(X,"IMG",{src:!0,alt:!0}),X.forEach(O),g=re(we),w=H(we,"LABEL",{style:!0});var Ce=F(w);_=H(Ce,"INPUT",{type:!0,name:!0}),b=re(Ce),P=H(Ce,"IMG",{src:!0,alt:!0}),Ce.forEach(O),U=re(we),V=H(we,"LABEL",{style:!0});var Ee=F(V);Y=H(Ee,"INPUT",{type:!0,name:!0}),J=re(Ee),B=H(Ee,"IMG",{src:!0,alt:!0}),Ee.forEach(O),we.forEach(O),R=re(te),Se&&Se.l(te),x=re(te),Ae&&Ae.l(te),Z=st(),this.h()},h(){C(a,"type","radio"),C(a,"name","lang"),a.__value="en",a.value=a.__value,o[23][0].push(a),yn(p.src,h="https://www.sic-info.org/wp-content/uploads/2014/01/gb.png")||C(p,"src",h),C(p,"alt","English"),I(f,"flex","1"),C(_,"type","radio"),C(_,"name","lang"),_.__value="fr",_.value=_.__value,o[23][0].push(_),yn(P.src,k="https://www.sic-info.org/wp-content/uploads/2014/01/fr.png")||C(P,"src",k),C(P,"alt","French"),I(w,"flex","1"),C(Y,"type","radio"),C(Y,"name","lang"),Y.__value="ru",Y.value=Y.__value,o[23][0].push(Y),yn(B.src,q="https://www.sic-info.org/wp-content/uploads/2014/01/ru.png")||C(B,"src",q),C(B,"alt","Russian"),I(V,"flex","1"),I(s,"display","flex"),I(s,"margin-bottom","20px")},m(te,we){j(te,n,we),j(te,l,we),j(te,s,we),A(s,f),A(f,a),a.checked=a.__value===o[7],A(f,c),A(f,p),A(s,g),A(s,w),A(w,_),_.checked=_.__value===o[7],A(w,b),A(w,P),A(s,U),A(s,V),A(V,Y),Y.checked=Y.__value===o[7],A(V,J),A(V,B),j(te,R,we),Se&&Se.m(te,we),j(te,x,we),Ae&&Ae.m(te,we),j(te,Z,we),se||(De=[Ie(a,"change",o[22]),Ie(a,"change",o[14]),Ie(_,"change",o[24]),Ie(_,"change",o[14]),Ie(Y,"change",o[25]),Ie(Y,"change",o[14])],se=!0)},p(te,we){we[0]&128&&r!==(r=te[11]["Language Select"][te[7]]+"")&&Ne(n,r),we[0]&128&&(a.checked=a.__value===te[7]),we[0]&128&&(_.checked=_.__value===te[7]),we[0]&128&&(Y.checked=Y.__value===te[7]),te[0]?Se?Se.p(te,we):(Se=No(te),Se.c(),Se.m(x.parentNode,x)):Se&&(Se.d(1),Se=null),te[0].email!==te[0].abonent?Ae?Ae.p(te,we):(Ae=Uo(te),Ae.c(),Ae.m(Z.parentNode,Z)):Ae&&(Ae.d(1),Ae=null)},d(te){te&&O(n),te&&O(l),te&&O(s),o[23][0].splice(o[23][0].indexOf(a),1),o[23][0].splice(o[23][0].indexOf(_),1),o[23][0].splice(o[23][0].indexOf(Y),1),te&&O(R),Se&&Se.d(te),te&&O(x),Ae&&Ae.d(te),te&&O(Z),se=!1,cr(De)}}}function mg(o){let r,n,l,s;function f(p){o[30](p)}function a(p){o[31](p)}let c={tarif:o[1],psw:o[12]};return o[2]!==void 0&&(c.status=o[2]),o[0]!==void 0&&(c.operator=o[0]),r=new bp({props:c}),o[29](r),Ze.push(()=>Tt(r,"status",f)),Ze.push(()=>Tt(r,"operator",a)),{c(){at(r.$$.fragment)},l(p){ft(r.$$.fragment,p)},m(p,h){ct(r,p,h),s=!0},p(p,h){const g={};h[0]&2&&(g.tarif=p[1]),!n&&h[0]&4&&(n=!0,g.status=p[2],It(()=>n=!1)),!l&&h[0]&1&&(l=!0,g.operator=p[0],It(()=>l=!1)),r.$set(g)},i(p){s||(ue(r.$$.fragment,p),s=!0)},o(p){pe(r.$$.fragment,p),s=!1},d(p){o[29](null),ht(r,p)}}}function vg(o){let r,n;return r=new Ap({props:{tarif:o[1]}}),{c(){at(r.$$.fragment)},l(l){ft(r.$$.fragment,l)},m(l,s){ct(r,l,s),n=!0},p(l,s){const f={};s[0]&2&&(f.tarif=l[1]),r.$set(f)},i(l){n||(ue(r.$$.fragment,l),n=!0)},o(l){pe(r.$$.fragment,l),n=!1},d(l){ht(r,l)}}}function wg(o){let r,n,l,s,f,a,c,p,h,g=o[10].text.msg+"",w,_,b,P,k=o[10].text.name+"",U,V,Y,J,B,q,R,x,Z,se,De,Se,Ae,te,we,X,Ce,Ee,Le,Ke,_t,Pe,qe,mt,le;const de=[o[10].video];let K={};for(let G=0;G<de.length;G+=1)K=Wr(K,de[G]);l=new $p({props:K});function nt(G){o[18](G)}let rt={OnLongPress:bg,$$slots:{default:[hg]},$$scope:{ctx:o}};o[2]!==void 0&&(rt.status=o[2]),f=new Fp({props:rt}),Ze.push(()=>Tt(f,"status",nt)),f.$on("click",o[15]);const St=[o[9].video];let On={$$slots:{footer:[dg]},$$scope:{ctx:o}};for(let G=0;G<St.length;G+=1)On=Wr(On,St[G]);J=new Qp({props:On});let Ue=o[5]&&Fo(o);const Ut=[o[9].audio];function En(G){o[20](G)}let it={};for(let G=0;G<Ut.length;G+=1)it=Wr(it,Ut[G]);o[9].audio.paused!==void 0&&(it.paused=o[9].audio.paused),x=new ig({props:it}),Ze.push(()=>Tt(x,"paused",En));const vt=[o[10].audio];function gn(G){o[21](G)}let lt={};for(let G=0;G<vt.length;G+=1)lt=Wr(lt,vt[G]);o[10].audio.srcObject!==void 0&&(lt.srcObject=o[10].audio.srcObject),De=new ug({props:lt}),Ze.push(()=>Tt(De,"srcObject",gn)),te=new fg({}),X=new tg({}),Ee=new Jp({props:{padding:"25px",$$slots:{default:[_g]},$$scope:{ctx:o}}});const _n=[vg,mg],Wt=[];function Pt(G,he){return(!G[1]||G[1].name==="free")&&!G[0].abonent?0:1}return Pe=Pt(o),qe=Wt[Pe]=_n[Pe](o),{c(){r=W("div"),n=W("div"),at(l.$$.fragment),s=ne(),at(f.$$.fragment),c=ne(),p=W("div"),h=W("p"),w=_e(g),_=ne(),b=W("br"),P=ne(),U=_e(k),V=ne(),Y=W("div"),at(J.$$.fragment),B=ne(),Ue&&Ue.c(),q=ne(),R=W("div"),at(x.$$.fragment),se=ne(),at(De.$$.fragment),Ae=ne(),at(te.$$.fragment),we=ne(),at(X.$$.fragment),Ce=ne(),at(Ee.$$.fragment),Le=ne(),Ke=W("progress"),_t=ne(),qe.c(),mt=st(),this.h()},l(G){r=H(G,"DIV",{style:!0});var he=F(r);n=H(he,"DIV",{style:!0});var Ct=F(n);ft(l.$$.fragment,Ct),s=re(Ct),ft(f.$$.fragment,Ct),c=re(Ct),p=H(Ct,"DIV",{style:!0});var Ot=F(p);h=H(Ot,"P",{style:!0});var je=F(h);w=me(je,g),_=re(je),b=H(je,"BR",{}),P=re(je),U=me(je,k),je.forEach(O),Ot.forEach(O),Ct.forEach(O),V=re(he),Y=H(he,"DIV",{style:!0});var Bt=F(Y);ft(J.$$.fragment,Bt),B=re(Bt),Ue&&Ue.l(Bt),Bt.forEach(O),q=re(he),R=H(he,"DIV",{style:!0});var xe=F(R);ft(x.$$.fragment,xe),se=re(xe),ft(De.$$.fragment,xe),Ae=re(xe),ft(te.$$.fragment,xe),we=re(xe),ft(X.$$.fragment,xe),xe.forEach(O),Ce=re(he),ft(Ee.$$.fragment,he),he.forEach(O),Le=re(G),Ke=H(G,"PROGRESS",{id:!0,max:!0,duration:!0,style:!0}),F(Ke).forEach(O),_t=re(G),qe.l(G),mt=st(),this.h()},h(){I(h,"font-size",".7em"),I(h,"white-space","nowrap"),I(h,"color","white"),I(h,"margin","auto"),I(h,"text-align","center"),I(p,"display",o[10].text.display),I(p,"position","absolute"),I(p,"z-index","10"),I(p,"background-color","rgba(125, 125, 125, 0.8)"),I(p,"top","90px"),I(p,"left","2px"),I(n,"flex","1"),I(Y,"position","absolute"),I(Y,"flex","1 1 0%"),I(R,"flex","3"),I(r,"display","flex"),I(r,"min-height","120px"),I(r,"flex-wrap","nowrap"),I(r,"justify-content","space-between"),C(Ke,"id","dataProgress"),Ke.value=o[13].value,C(Ke,"max","100"),C(Ke,"duration","200"),I(Ke,"display",o[13].display),I(Ke,"top","100px"),I(Ke,"width","98%"),I(Ke,"z-index","10")},m(G,he){j(G,r,he),A(r,n),ct(l,n,null),A(n,s),ct(f,n,null),A(n,c),A(n,p),A(p,h),A(h,w),A(h,_),A(h,b),A(h,P),A(h,U),A(r,V),A(r,Y),ct(J,Y,null),A(Y,B),Ue&&Ue.m(Y,null),A(r,q),A(r,R),ct(x,R,null),A(R,se),ct(De,R,null),A(R,Ae),ct(te,R,null),A(R,we),ct(X,R,null),A(r,Ce),ct(Ee,r,null),j(G,Le,he),j(G,Ke,he),j(G,_t,he),Wt[Pe].m(G,he),j(G,mt,he),le=!0},p(G,he){const Ct=he[0]&1024?Hr(de,[Vr(G[10].video)]):{};l.$set(Ct);const Ot={};he[1]&524288&&(Ot.$$scope={dirty:he,ctx:G}),!a&&he[0]&4&&(a=!0,Ot.status=G[2],It(()=>a=!1)),f.$set(Ot),(!le||he[0]&1024)&&g!==(g=G[10].text.msg+"")&&Ne(w,g),(!le||he[0]&1024)&&k!==(k=G[10].text.name+"")&&Ne(U,k),(!le||he[0]&1024)&&I(p,"display",G[10].text.display);const je=he[0]&512?Hr(St,[Vr(G[9].video)]):{};he[0]&256|he[1]&524288&&(je.$$scope={dirty:he,ctx:G}),J.$set(je),G[5]?Ue?Ue.p(G,he):(Ue=Fo(G),Ue.c(),Ue.m(Y,null)):Ue&&(Ue.d(1),Ue=null);const Bt=he[0]&512?Hr(Ut,[Vr(G[9].audio)]):{};!Z&&he[0]&512&&(Z=!0,Bt.paused=G[9].audio.paused,It(()=>Z=!1)),x.$set(Bt);const xe=he[0]&1024?Hr(vt,[Vr(G[10].audio)]):{};!Se&&he[0]&1024&&(Se=!0,xe.srcObject=G[10].audio.srcObject,It(()=>Se=!1)),De.$set(xe);const qt={};he[0]&209|he[1]&524288&&(qt.$$scope={dirty:he,ctx:G}),Ee.$set(qt);let Ht=Pe;Pe=Pt(G),Pe===Ht?Wt[Pe].p(G,he):(Sn(),pe(Wt[Ht],1,1,()=>{Wt[Ht]=null}),Cn(),qe=Wt[Pe],qe?qe.p(G,he):(qe=Wt[Pe]=_n[Pe](G),qe.c()),ue(qe,1),qe.m(mt.parentNode,mt))},i(G){le||(ue(l.$$.fragment,G),ue(f.$$.fragment,G),ue(J.$$.fragment,G),ue(x.$$.fragment,G),ue(De.$$.fragment,G),ue(te.$$.fragment,G),ue(X.$$.fragment,G),ue(Ee.$$.fragment,G),ue(qe),le=!0)},o(G){pe(l.$$.fragment,G),pe(f.$$.fragment,G),pe(J.$$.fragment,G),pe(x.$$.fragment,G),pe(De.$$.fragment,G),pe(te.$$.fragment,G),pe(X.$$.fragment,G),pe(Ee.$$.fragment,G),pe(qe),le=!1},d(G){G&&O(r),ht(l),ht(f),ht(J),Ue&&Ue.d(),ht(x),ht(De),ht(te),ht(X),ht(Ee),G&&O(Le),G&&O(Ke),G&&O(_t),Wt[Pe].d(G),G&&O(mt)}}}function bg(){select.display=!0}function yg(o,r,n){let l;on(o,fr,K=>n(39,l=K));let s,f=globalThis,{data_dict:a}=r,c=a;io("dict",c);let{tarif:p}=r;p&&p.paid&&new Date(p.paid)>Date.now();let h,g,w,_=!1,b=!1;pi.subscribe(K=>{n(6,b=K)});let{operator:P={}}=r;P.lang=l;let k=l;Bl.subscribe(K=>{console.log(),K&&Se(K)}),qo.subscribe(K=>{K&&Se(K)});let U,V={},Y=P.psw;v0.set(Y),Nn(async()=>{new URL(f.location.href),V=await(await fetch("../src/routes/assets/host.json")).json(),new cg(V),Ho.subscribe(K=>{U&&K&&U.appendChild(K)})});const J=_i.subscribe(K=>{K&&(n(4,f.rtc=new Pp("operator",P,K),f),Z())});gi(J);let B={display:"block",value:0},q={video:{display:"none",srcObject:"",poster:""},audio:{paused:!0,src:""}},R={text:{display:"none",msg:"You have a call from:",name:"",email:""},video:{display:"none",srcObject:"",poster:""},audio:{muted:!0,srcObject:""}};io("operator",{getOperator:()=>this});function x(K){fr.set(K.target.attributes[2].nodeValue);let nt=JSON.parse(di(document.cookie).kolmit);nt.lang=K.target.attributes[2].nodeValue,document.cookie="kolmit="+JSON.stringify({session:nt.session,email:nt.email,abonent:nt.abonent,psw:nt.psw,lang:K.target.attributes[2].nodeValue})}async function Z(){n(4,f.rtc.PlayCallCnt=()=>{h=10,n(9,q.audio.paused=!1,q),w=setInterval(function(){h--,h===0&&(clearInterval(w),n(9,q.audio.paused=!0,q))},2e3)},f),n(4,f.rtc.GetRemoteAudio=()=>R.audio.srcObject,f),n(4,f.rtc.SetRemoteAudio=K=>{K&&n(10,R.audio.srcObject=K,R)},f),n(4,f.rtc.GetRemoteVideo=()=>R.video.srcObject,f),n(4,f.rtc.SetLocalVideo=K=>{K&&n(9,q.video.srcObject=K,q)},f),n(4,f.rtc.SetRemoteVideo=K=>{g==="talk"&&(n(10,R.video.poster="",R),n(10,R.video.srcObject=K,R),n(10,R.video.display="block",R),n(9,q.audio.paused=!0,q))},f)}function se(){try{if(!f.AudioContext){n(4,f.AudioContext=f.AudioContext||f.webkitAudioContext,f);let K=new AudioContext;n(4,f.rtc.localSoundSrc=K.createMediaElementSource(f.user.localSound),f),f.rtc.localSoundSrc.connect(K.destination)}}catch{log("Web Audio API is not supported in this browser")}switch(console.log(),g){case"inactive":f.rtc.Offer(),n(2,g="active");break;case"active":n(2,g="inactive"),f.rtc.OnInactive();break;case"call":n(2,g="talk"),clearInterval(w),n(9,q.audio.paused=!0,q),n(10,R.audio.muted=!1,R),f.rtc.OnTalk(),n(5,_=!0),n(10,R.text.display="block",R);const K=new Event("talk");document.getElementsByTagName("body")[0].dispatchEvent(K);break;case"talk":f.rtc.OnInactive(),n(10,R.audio.muted=!0,R),n(9,q.video.display="none",q),n(5,_=!1),n(10,R.video.display="none",R),n(10,R.video.srcObject="",R),n(10,R.video.poster="",R),n(10,R.text.display="none",R),n(10,R.text.name="",R),n(10,R.text.email="",R),n(2,g="inactive");break;case"muted":n(2,g="inactive"),n(9,q.video.srcObject="",q),n(10,R.audio.muted=!0,R),n(10,R.video.display="none",R),n(10,R.video.srcObject="",R),n(10,R.video.poster="",R),n(10,R.text.display="none",R),f.rtc.OnInactive();break;default:return}}function De(){n(2,g="talk"),n(9,q.audio.paused=!0,q),n(9,q.video.display="block",q),f.rtc.DC.dc.readyState==="open"&&f.rtc.GetUserMedia({audio:1,video:1},function(){f.rtc.SendVideoOffer(f.rtc.main_pc)})}function Se(K,nt){if(K.func==="mute"&&(n(9,q.audio.paused=!0,q),n(10,R.audio.muted=!0,R),n(5,_=!1),n(9,q.video.display="none",q),n(9,q.video.srcObject="",q),n(10,R.video.srcObject="",R),n(10,R.video.poster="",R),n(10,R.video.display="none",R),n(10,R.text.name="",R),n(10,R.text.email="",R),n(10,R.text.display="none",R),f.rtc.OnInactive(),g==="talk"?n(2,g="inactive"):g==="call"&&(n(2,g="inactive"),f.rtc.OnMute(),se()),nt&&nt()),(K.call||K.func==="call")&&(n(2,g="call"),f.rtc.OnCall(),n(10,R.text.display="block",R),K.profile)){let rt=JSON.parse(K.profile),St=rt.src;n(10,R.video.poster=St,R),St&&n(10,R.video.display="block",R),n(10,R.text.name=rt.name,R),n(10,R.text.email=rt.email,R)}K.desc,K.camera&&n(9,q.video.src=that.localStream,q),K.status==="wait"&&(n(10,R.text.display="block",R),n(10,R.text.msg="You have a waiting call",R))}const Ae=[[]];function te(K){g=K,n(2,g)}function we(K){Ze[K?"unshift":"push"](()=>{U=K,n(8,U)})}function X(K){o.$$.not_equal(q.audio.paused,K)&&(q.audio.paused=K,n(9,q))}function Ce(K){o.$$.not_equal(R.audio.srcObject,K)&&(R.audio.srcObject=K,n(10,R))}function Ee(){k=this.__value,n(7,k)}function Le(){k=this.__value,n(7,k)}function Ke(){k=this.__value,n(7,k)}const _t=()=>pi.set(!0),Pe=()=>pi.set(!1),qe=()=>{n(4,f.location="/",f)};function mt(K){Ze[K?"unshift":"push"](()=>{s=K,n(3,s)})}function le(K){g=K,n(2,g)}function de(K){P=K,n(0,P)}return o.$$set=K=>{"data_dict"in K&&n(17,a=K.data_dict),"tarif"in K&&n(1,p=K.tarif),"operator"in K&&n(0,P=K.operator)},o.$$.update=()=>{o.$$.dirty[0]&4&&w0.set(g)},[P,p,g,s,f,_,b,k,U,q,R,c,Y,B,x,se,De,a,te,we,X,Ce,Ee,Ae,Le,Ke,_t,Pe,qe,mt,le,de]}class Sg extends dt{constructor(r){super(),pt(this,r,yg,wg,gt,{data_dict:17,tarif:1,operator:0},null,[-1,-1])}}function Wo(o){let r,n,l;return n=new Sg({props:{operator:o[0],tarif:Og,data_dict:o[2]}}),{c(){r=W("div"),at(n.$$.fragment)},l(s){r=H(s,"DIV",{});var f=F(r);ft(n.$$.fragment,f),f.forEach(O)},m(s,f){j(s,r,f),ct(n,r,null),l=!0},p(s,f){const a={};f&1&&(a.operator=s[0]),n.$set(a)},i(s){l||(ue(n.$$.fragment,s),l=!0)},o(s){pe(n.$$.fragment,s),l=!1},d(s){s&&O(r),ht(n)}}}function Cg(o){let r,n,l=o[1].length>0&&Wo(o);return{c(){r=W("div"),l&&l.c()},l(s){r=H(s,"DIV",{});var f=F(r);l&&l.l(f),f.forEach(O)},m(s,f){j(s,r,f),l&&l.m(r,null),n=!0},p(s,[f]){s[1].length>0?l?(l.p(s,f),f&2&&ue(l,1)):(l=Wo(s),l.c(),ue(l,1),l.m(r,null)):l&&(Sn(),pe(l,1,1,()=>{l=null}),Cn())},i(s){n||(ue(l),n=!0)},o(s){pe(l),n=!1},d(s){s&&O(r),l&&l.d()}}}let Og="";function Eg(o,r,n){let l;on(o,ep,h=>n(5,l=h));let{data:s}=r,f=s.dict,a={},c=[];a.abonent=l.url.searchParams.get("abonent"),a.email=l.url.searchParams.get("operator"),a.psw=_0.exports(l.url.searchParams.get("psw")),a.lang=l.url.searchParams.get("lan"),Nn(async()=>{if(document.cookie)if(di(document.cookie)[a.abonent]){const h=JSON.parse(di(document.cookie)[a.abonent]);n(0,a.psw=h.psw,a),n(0,a.lang=h.lang,a)}else{const h=Object.keys(di(document.cookie)),g=JSON.parse(di(document.cookie)[h[0]]);n(0,a.psw=g.psw,a),n(0,a.lang=g.lang,a),document.cookie=a.abonent+"="+JSON.stringify(a)}a.psw||(n(0,a.psw=_0.exports(prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043F\u0430\u0440\u043E\u043B\u044C")),a),n(0,a.lang="en",a)),p()});async function p(){let h={};h.proj="kolmit",h.func="getusers",h.abonent=a.abonent,h.em=a.email,h.psw=a.psw,fetch("/api/edit_cc/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({par:h})}).then(async g=>{const _=await(await g).json();console.log("data"),Vo.set(_.rows.users),n(1,c=_.rows.users)})}return o.$$set=h=>{"data"in h&&n(3,s=h.data)},[a,c,f,s,p]}class kg extends dt{constructor(r){super(),pt(this,r,Eg,Cg,gt,{data:3,GetUsers:4})}get GetUsers(){return this.$$.ctx[4]}}export{kg as default};
